import{e as hu,an as qs,c as te,ao as E0,ap as S0,aq as Qt,g as dn,ar as x0,am as M0}from"./index.846ecf1a.js";import{p as C0,h as R0}from"./hooks.module.565abe16.js";function I0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var du={},Oi={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.walletLogo=void 0;const A0=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Gs.walletLogo=A0;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.ScopedLocalStorage=void 0;class k0{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Js.ScopedLocalStorage=k0;var Zn={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});const T0=hu.exports;function _c(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function N0(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class O0 extends T0.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const o=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw o.context=a,o}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")_c(s,this,r);else{const a=s.length,o=N0(s);for(let c=0;c<a;c+=1)_c(o[c],this,r)}return!0}}pn.default=O0;var Wi={exports:{}};(function(t){(function(e,r){function n(_,u){if(!_)throw new Error(u||"Assertion failed")}function i(_,u){_.super_=u;var p=function(){};p.prototype=u.prototype,_.prototype=new p,_.prototype.constructor=_}function s(_,u,p){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(_||0,u||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=qs.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,b){if(typeof u=="number")return this._initNumber(u,p,b);if(typeof u=="object")return this._initArray(u,p,b);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var S=0;u[0]==="-"&&(S++,this.negative=1),S<u.length&&(p===16?this._parseHex(u,S,b):(this._parseBase(u,p,S),b==="le"&&this._initArray(this.toArray(),p,b)))},s.prototype._initNumber=function(u,p,b){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},s.prototype._initArray=function(u,p,b){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x,A,O=0;if(b==="be")for(S=u.length-1,x=0;S>=0;S-=3)A=u[S]|u[S-1]<<8|u[S-2]<<16,this.words[x]|=A<<O&67108863,this.words[x+1]=A>>>26-O&67108863,O+=24,O>=26&&(O-=26,x++);else if(b==="le")for(S=0,x=0;S<u.length;S+=3)A=u[S]|u[S+1]<<8|u[S+2]<<16,this.words[x]|=A<<O&67108863,this.words[x+1]=A>>>26-O&67108863,O+=24,O>=26&&(O-=26,x++);return this._strip()};function o(_,u){var p=_.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+_)}function c(_,u,p){var b=o(_,p);return p-1>=u&&(b|=o(_,p-1)<<4),b}s.prototype._parseHex=function(u,p,b){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x=0,A=0,O;if(b==="be")for(S=u.length-1;S>=p;S-=2)O=c(u,p,S)<<x,this.words[A]|=O&67108863,x>=18?(x-=18,A+=1,this.words[A]|=O>>>26):x+=8;else{var w=u.length-p;for(S=w%2===0?p+1:p;S<u.length;S+=2)O=c(u,p,S)<<x,this.words[A]|=O&67108863,x>=18?(x-=18,A+=1,this.words[A]|=O>>>26):x+=8}this._strip()};function h(_,u,p,b){for(var S=0,x=0,A=Math.min(_.length,p),O=u;O<A;O++){var w=_.charCodeAt(O)-48;S*=b,w>=49?x=w-49+10:w>=17?x=w-17+10:x=w,n(w>=0&&x<b,"Invalid character"),S+=x}return S}s.prototype._parseBase=function(u,p,b){this.words=[0],this.length=1;for(var S=0,x=1;x<=67108863;x*=p)S++;S--,x=x/p|0;for(var A=u.length-b,O=A%S,w=Math.min(A,A-O)+b,l=0,R=b;R<w;R+=S)l=h(u,R,R+S,p),this.imuln(x),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(O!==0){var Q=1;for(l=h(u,R,u.length,p),R=0;R<O;R++)Q*=p;this.imuln(Q),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function g(_,u){_.words=u.words,_.length=u.length,_.negative=u.negative,_.red=u.red}if(s.prototype._move=function(u){g(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var b;if(u===16||u==="hex"){b="";for(var S=0,x=0,A=0;A<this.length;A++){var O=this.words[A],w=((O<<S|x)&16777215).toString(16);x=O>>>24-S&16777215,x!==0||A!==this.length-1?b=v[6-w.length]+w+b:b=w+b,S+=2,S>=26&&(S-=26,A--)}for(x!==0&&(b=x.toString(16)+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(u===(u|0)&&u>=2&&u<=36){var l=E[u],R=P[u];b="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var K=Q.modrn(R).toString(u);Q=Q.idivn(R),Q.isZero()?b=K+b:b=v[l-K.length]+K+b}for(this.isZero()&&(b="0"+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(a,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var F=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,b){this._strip();var S=this.byteLength(),x=b||Math.max(1,S);n(S<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var A=F(u,x),O=p==="le"?"LE":"BE";return this["_toArrayLike"+O](A,S),A},s.prototype._toArrayLikeLE=function(u,p){for(var b=0,S=0,x=0,A=0;x<this.length;x++){var O=this.words[x]<<A|S;u[b++]=O&255,b<u.length&&(u[b++]=O>>8&255),b<u.length&&(u[b++]=O>>16&255),A===6?(b<u.length&&(u[b++]=O>>24&255),S=0,A=0):(S=O>>>24,A+=2)}if(b<u.length)for(u[b++]=S;b<u.length;)u[b++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var b=u.length-1,S=0,x=0,A=0;x<this.length;x++){var O=this.words[x]<<A|S;u[b--]=O&255,b>=0&&(u[b--]=O>>8&255),b>=0&&(u[b--]=O>>16&255),A===6?(b>=0&&(u[b--]=O>>24&255),S=0,A=0):(S=O>>>24,A+=2)}if(b>=0)for(u[b--]=S;b>=0;)u[b--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,b=0;return(p&8191)===0&&(b+=13,p>>>=13),(p&127)===0&&(b+=7,p>>>=7),(p&15)===0&&(b+=4,p>>>=4),(p&3)===0&&(b+=2,p>>>=2),(p&1)===0&&b++,b},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function W(_){for(var u=new Array(_.bitLength()),p=0;p<u.length;p++){var b=p/26|0,S=p%26;u[p]=_.words[b]>>>S&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(u+=b,b!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&u.words[b];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,b;this.length>u.length?(p=this,b=u):(p=u,b=this);for(var S=0;S<b.length;S++)this.words[S]=p.words[S]^b.words[S];if(this!==p)for(;S<p.length;S++)this.words[S]=p.words[S];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,b=u%26;this._expand(p),b>0&&p--;for(var S=0;S<p;S++)this.words[S]=~this.words[S]&67108863;return b>0&&(this.words[S]=~this.words[S]&67108863>>26-b),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var b=u/26|0,S=u%26;return this._expand(b+1),p?this.words[b]=this.words[b]|1<<S:this.words[b]=this.words[b]&~(1<<S),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var b,S;this.length>u.length?(b=this,S=u):(b=u,S=this);for(var x=0,A=0;A<S.length;A++)p=(b.words[A]|0)+(S.words[A]|0)+x,this.words[A]=p&67108863,x=p>>>26;for(;x!==0&&A<b.length;A++)p=(b.words[A]|0)+x,this.words[A]=p&67108863,x=p>>>26;if(this.length=b.length,x!==0)this.words[this.length]=x,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var b=this.cmp(u);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,x;b>0?(S=this,x=u):(S=u,x=this);for(var A=0,O=0;O<x.length;O++)p=(S.words[O]|0)-(x.words[O]|0)+A,A=p>>26,this.words[O]=p&67108863;for(;A!==0&&O<S.length;O++)p=(S.words[O]|0)+A,A=p>>26,this.words[O]=p&67108863;if(A===0&&O<S.length&&S!==this)for(;O<S.length;O++)this.words[O]=S.words[O];return this.length=Math.max(this.length,O),S!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function k(_,u,p){p.negative=u.negative^_.negative;var b=_.length+u.length|0;p.length=b,b=b-1|0;var S=_.words[0]|0,x=u.words[0]|0,A=S*x,O=A&67108863,w=A/67108864|0;p.words[0]=O;for(var l=1;l<b;l++){for(var R=w>>>26,Q=w&67108863,K=Math.min(l,u.length-1),N=Math.max(0,l-_.length+1);N<=K;N++){var B=l-N|0;S=_.words[B]|0,x=u.words[N]|0,A=S*x+Q,R+=A/67108864|0,Q=A&67108863}p.words[l]=Q|0,w=R|0}return w!==0?p.words[l]=w|0:p.length--,p._strip()}var T=function(u,p,b){var S=u.words,x=p.words,A=b.words,O=0,w,l,R,Q=S[0]|0,K=Q&8191,N=Q>>>13,B=S[1]|0,U=B&8191,Y=B>>>13,pe=S[2]|0,M=pe&8191,C=pe>>>13,V=S[3]|0,G=V&8191,fe=V>>>13,m=S[4]|0,f=m&8191,d=m>>>13,I=S[5]|0,L=I&8191,$=I>>>13,q=S[6]|0,ee=q&8191,se=q>>>13,me=S[7]|0,he=me&8191,ue=me>>>13,at=S[8]|0,xe=at&8191,Me=at>>>13,_n=S[9]|0,Ie=_n&8191,Ae=_n>>>13,En=x[0]|0,ke=En&8191,Te=En>>>13,Sn=x[1]|0,Ne=Sn&8191,Oe=Sn>>>13,xn=x[2]|0,Le=xn&8191,Pe=xn>>>13,Mn=x[3]|0,Be=Mn&8191,De=Mn>>>13,Cn=x[4]|0,Fe=Cn&8191,$e=Cn>>>13,Rn=x[5]|0,je=Rn&8191,Ue=Rn>>>13,In=x[6]|0,We=In&8191,He=In>>>13,An=x[7]|0,Ve=An&8191,ze=An>>>13,kn=x[8]|0,qe=kn&8191,Ge=kn>>>13,Tn=x[9]|0,Je=Tn&8191,Ze=Tn>>>13;b.negative=u.negative^p.negative,b.length=19,w=Math.imul(K,ke),l=Math.imul(K,Te),l=l+Math.imul(N,ke)|0,R=Math.imul(N,Te);var Lr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,w=Math.imul(U,ke),l=Math.imul(U,Te),l=l+Math.imul(Y,ke)|0,R=Math.imul(Y,Te),w=w+Math.imul(K,Ne)|0,l=l+Math.imul(K,Oe)|0,l=l+Math.imul(N,Ne)|0,R=R+Math.imul(N,Oe)|0;var Pr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,w=Math.imul(M,ke),l=Math.imul(M,Te),l=l+Math.imul(C,ke)|0,R=Math.imul(C,Te),w=w+Math.imul(U,Ne)|0,l=l+Math.imul(U,Oe)|0,l=l+Math.imul(Y,Ne)|0,R=R+Math.imul(Y,Oe)|0,w=w+Math.imul(K,Le)|0,l=l+Math.imul(K,Pe)|0,l=l+Math.imul(N,Le)|0,R=R+Math.imul(N,Pe)|0;var Br=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(G,ke),l=Math.imul(G,Te),l=l+Math.imul(fe,ke)|0,R=Math.imul(fe,Te),w=w+Math.imul(M,Ne)|0,l=l+Math.imul(M,Oe)|0,l=l+Math.imul(C,Ne)|0,R=R+Math.imul(C,Oe)|0,w=w+Math.imul(U,Le)|0,l=l+Math.imul(U,Pe)|0,l=l+Math.imul(Y,Le)|0,R=R+Math.imul(Y,Pe)|0,w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,De)|0,l=l+Math.imul(N,Be)|0,R=R+Math.imul(N,De)|0;var Dr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(f,ke),l=Math.imul(f,Te),l=l+Math.imul(d,ke)|0,R=Math.imul(d,Te),w=w+Math.imul(G,Ne)|0,l=l+Math.imul(G,Oe)|0,l=l+Math.imul(fe,Ne)|0,R=R+Math.imul(fe,Oe)|0,w=w+Math.imul(M,Le)|0,l=l+Math.imul(M,Pe)|0,l=l+Math.imul(C,Le)|0,R=R+Math.imul(C,Pe)|0,w=w+Math.imul(U,Be)|0,l=l+Math.imul(U,De)|0,l=l+Math.imul(Y,Be)|0,R=R+Math.imul(Y,De)|0,w=w+Math.imul(K,Fe)|0,l=l+Math.imul(K,$e)|0,l=l+Math.imul(N,Fe)|0,R=R+Math.imul(N,$e)|0;var Fr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(L,ke),l=Math.imul(L,Te),l=l+Math.imul($,ke)|0,R=Math.imul($,Te),w=w+Math.imul(f,Ne)|0,l=l+Math.imul(f,Oe)|0,l=l+Math.imul(d,Ne)|0,R=R+Math.imul(d,Oe)|0,w=w+Math.imul(G,Le)|0,l=l+Math.imul(G,Pe)|0,l=l+Math.imul(fe,Le)|0,R=R+Math.imul(fe,Pe)|0,w=w+Math.imul(M,Be)|0,l=l+Math.imul(M,De)|0,l=l+Math.imul(C,Be)|0,R=R+Math.imul(C,De)|0,w=w+Math.imul(U,Fe)|0,l=l+Math.imul(U,$e)|0,l=l+Math.imul(Y,Fe)|0,R=R+Math.imul(Y,$e)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,Ue)|0,l=l+Math.imul(N,je)|0,R=R+Math.imul(N,Ue)|0;var $r=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ee,ke),l=Math.imul(ee,Te),l=l+Math.imul(se,ke)|0,R=Math.imul(se,Te),w=w+Math.imul(L,Ne)|0,l=l+Math.imul(L,Oe)|0,l=l+Math.imul($,Ne)|0,R=R+Math.imul($,Oe)|0,w=w+Math.imul(f,Le)|0,l=l+Math.imul(f,Pe)|0,l=l+Math.imul(d,Le)|0,R=R+Math.imul(d,Pe)|0,w=w+Math.imul(G,Be)|0,l=l+Math.imul(G,De)|0,l=l+Math.imul(fe,Be)|0,R=R+Math.imul(fe,De)|0,w=w+Math.imul(M,Fe)|0,l=l+Math.imul(M,$e)|0,l=l+Math.imul(C,Fe)|0,R=R+Math.imul(C,$e)|0,w=w+Math.imul(U,je)|0,l=l+Math.imul(U,Ue)|0,l=l+Math.imul(Y,je)|0,R=R+Math.imul(Y,Ue)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,He)|0,l=l+Math.imul(N,We)|0,R=R+Math.imul(N,He)|0;var jr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(he,ke),l=Math.imul(he,Te),l=l+Math.imul(ue,ke)|0,R=Math.imul(ue,Te),w=w+Math.imul(ee,Ne)|0,l=l+Math.imul(ee,Oe)|0,l=l+Math.imul(se,Ne)|0,R=R+Math.imul(se,Oe)|0,w=w+Math.imul(L,Le)|0,l=l+Math.imul(L,Pe)|0,l=l+Math.imul($,Le)|0,R=R+Math.imul($,Pe)|0,w=w+Math.imul(f,Be)|0,l=l+Math.imul(f,De)|0,l=l+Math.imul(d,Be)|0,R=R+Math.imul(d,De)|0,w=w+Math.imul(G,Fe)|0,l=l+Math.imul(G,$e)|0,l=l+Math.imul(fe,Fe)|0,R=R+Math.imul(fe,$e)|0,w=w+Math.imul(M,je)|0,l=l+Math.imul(M,Ue)|0,l=l+Math.imul(C,je)|0,R=R+Math.imul(C,Ue)|0,w=w+Math.imul(U,We)|0,l=l+Math.imul(U,He)|0,l=l+Math.imul(Y,We)|0,R=R+Math.imul(Y,He)|0,w=w+Math.imul(K,Ve)|0,l=l+Math.imul(K,ze)|0,l=l+Math.imul(N,Ve)|0,R=R+Math.imul(N,ze)|0;var Ur=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(xe,ke),l=Math.imul(xe,Te),l=l+Math.imul(Me,ke)|0,R=Math.imul(Me,Te),w=w+Math.imul(he,Ne)|0,l=l+Math.imul(he,Oe)|0,l=l+Math.imul(ue,Ne)|0,R=R+Math.imul(ue,Oe)|0,w=w+Math.imul(ee,Le)|0,l=l+Math.imul(ee,Pe)|0,l=l+Math.imul(se,Le)|0,R=R+Math.imul(se,Pe)|0,w=w+Math.imul(L,Be)|0,l=l+Math.imul(L,De)|0,l=l+Math.imul($,Be)|0,R=R+Math.imul($,De)|0,w=w+Math.imul(f,Fe)|0,l=l+Math.imul(f,$e)|0,l=l+Math.imul(d,Fe)|0,R=R+Math.imul(d,$e)|0,w=w+Math.imul(G,je)|0,l=l+Math.imul(G,Ue)|0,l=l+Math.imul(fe,je)|0,R=R+Math.imul(fe,Ue)|0,w=w+Math.imul(M,We)|0,l=l+Math.imul(M,He)|0,l=l+Math.imul(C,We)|0,R=R+Math.imul(C,He)|0,w=w+Math.imul(U,Ve)|0,l=l+Math.imul(U,ze)|0,l=l+Math.imul(Y,Ve)|0,R=R+Math.imul(Y,ze)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,Ge)|0,l=l+Math.imul(N,qe)|0,R=R+Math.imul(N,Ge)|0;var Wr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(Ie,ke),l=Math.imul(Ie,Te),l=l+Math.imul(Ae,ke)|0,R=Math.imul(Ae,Te),w=w+Math.imul(xe,Ne)|0,l=l+Math.imul(xe,Oe)|0,l=l+Math.imul(Me,Ne)|0,R=R+Math.imul(Me,Oe)|0,w=w+Math.imul(he,Le)|0,l=l+Math.imul(he,Pe)|0,l=l+Math.imul(ue,Le)|0,R=R+Math.imul(ue,Pe)|0,w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(se,Be)|0,R=R+Math.imul(se,De)|0,w=w+Math.imul(L,Fe)|0,l=l+Math.imul(L,$e)|0,l=l+Math.imul($,Fe)|0,R=R+Math.imul($,$e)|0,w=w+Math.imul(f,je)|0,l=l+Math.imul(f,Ue)|0,l=l+Math.imul(d,je)|0,R=R+Math.imul(d,Ue)|0,w=w+Math.imul(G,We)|0,l=l+Math.imul(G,He)|0,l=l+Math.imul(fe,We)|0,R=R+Math.imul(fe,He)|0,w=w+Math.imul(M,Ve)|0,l=l+Math.imul(M,ze)|0,l=l+Math.imul(C,Ve)|0,R=R+Math.imul(C,ze)|0,w=w+Math.imul(U,qe)|0,l=l+Math.imul(U,Ge)|0,l=l+Math.imul(Y,qe)|0,R=R+Math.imul(Y,Ge)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(N,Je)|0,R=R+Math.imul(N,Ze)|0;var Hr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(Ie,Ne),l=Math.imul(Ie,Oe),l=l+Math.imul(Ae,Ne)|0,R=Math.imul(Ae,Oe),w=w+Math.imul(xe,Le)|0,l=l+Math.imul(xe,Pe)|0,l=l+Math.imul(Me,Le)|0,R=R+Math.imul(Me,Pe)|0,w=w+Math.imul(he,Be)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ue,Be)|0,R=R+Math.imul(ue,De)|0,w=w+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,$e)|0,l=l+Math.imul(se,Fe)|0,R=R+Math.imul(se,$e)|0,w=w+Math.imul(L,je)|0,l=l+Math.imul(L,Ue)|0,l=l+Math.imul($,je)|0,R=R+Math.imul($,Ue)|0,w=w+Math.imul(f,We)|0,l=l+Math.imul(f,He)|0,l=l+Math.imul(d,We)|0,R=R+Math.imul(d,He)|0,w=w+Math.imul(G,Ve)|0,l=l+Math.imul(G,ze)|0,l=l+Math.imul(fe,Ve)|0,R=R+Math.imul(fe,ze)|0,w=w+Math.imul(M,qe)|0,l=l+Math.imul(M,Ge)|0,l=l+Math.imul(C,qe)|0,R=R+Math.imul(C,Ge)|0,w=w+Math.imul(U,Je)|0,l=l+Math.imul(U,Ze)|0,l=l+Math.imul(Y,Je)|0,R=R+Math.imul(Y,Ze)|0;var Vr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(Ie,Le),l=Math.imul(Ie,Pe),l=l+Math.imul(Ae,Le)|0,R=Math.imul(Ae,Pe),w=w+Math.imul(xe,Be)|0,l=l+Math.imul(xe,De)|0,l=l+Math.imul(Me,Be)|0,R=R+Math.imul(Me,De)|0,w=w+Math.imul(he,Fe)|0,l=l+Math.imul(he,$e)|0,l=l+Math.imul(ue,Fe)|0,R=R+Math.imul(ue,$e)|0,w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,Ue)|0,l=l+Math.imul(se,je)|0,R=R+Math.imul(se,Ue)|0,w=w+Math.imul(L,We)|0,l=l+Math.imul(L,He)|0,l=l+Math.imul($,We)|0,R=R+Math.imul($,He)|0,w=w+Math.imul(f,Ve)|0,l=l+Math.imul(f,ze)|0,l=l+Math.imul(d,Ve)|0,R=R+Math.imul(d,ze)|0,w=w+Math.imul(G,qe)|0,l=l+Math.imul(G,Ge)|0,l=l+Math.imul(fe,qe)|0,R=R+Math.imul(fe,Ge)|0,w=w+Math.imul(M,Je)|0,l=l+Math.imul(M,Ze)|0,l=l+Math.imul(C,Je)|0,R=R+Math.imul(C,Ze)|0;var zr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(Ie,Be),l=Math.imul(Ie,De),l=l+Math.imul(Ae,Be)|0,R=Math.imul(Ae,De),w=w+Math.imul(xe,Fe)|0,l=l+Math.imul(xe,$e)|0,l=l+Math.imul(Me,Fe)|0,R=R+Math.imul(Me,$e)|0,w=w+Math.imul(he,je)|0,l=l+Math.imul(he,Ue)|0,l=l+Math.imul(ue,je)|0,R=R+Math.imul(ue,Ue)|0,w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,He)|0,l=l+Math.imul(se,We)|0,R=R+Math.imul(se,He)|0,w=w+Math.imul(L,Ve)|0,l=l+Math.imul(L,ze)|0,l=l+Math.imul($,Ve)|0,R=R+Math.imul($,ze)|0,w=w+Math.imul(f,qe)|0,l=l+Math.imul(f,Ge)|0,l=l+Math.imul(d,qe)|0,R=R+Math.imul(d,Ge)|0,w=w+Math.imul(G,Je)|0,l=l+Math.imul(G,Ze)|0,l=l+Math.imul(fe,Je)|0,R=R+Math.imul(fe,Ze)|0;var qr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Ie,Fe),l=Math.imul(Ie,$e),l=l+Math.imul(Ae,Fe)|0,R=Math.imul(Ae,$e),w=w+Math.imul(xe,je)|0,l=l+Math.imul(xe,Ue)|0,l=l+Math.imul(Me,je)|0,R=R+Math.imul(Me,Ue)|0,w=w+Math.imul(he,We)|0,l=l+Math.imul(he,He)|0,l=l+Math.imul(ue,We)|0,R=R+Math.imul(ue,He)|0,w=w+Math.imul(ee,Ve)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(se,Ve)|0,R=R+Math.imul(se,ze)|0,w=w+Math.imul(L,qe)|0,l=l+Math.imul(L,Ge)|0,l=l+Math.imul($,qe)|0,R=R+Math.imul($,Ge)|0,w=w+Math.imul(f,Je)|0,l=l+Math.imul(f,Ze)|0,l=l+Math.imul(d,Je)|0,R=R+Math.imul(d,Ze)|0;var Gr=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(Ie,je),l=Math.imul(Ie,Ue),l=l+Math.imul(Ae,je)|0,R=Math.imul(Ae,Ue),w=w+Math.imul(xe,We)|0,l=l+Math.imul(xe,He)|0,l=l+Math.imul(Me,We)|0,R=R+Math.imul(Me,He)|0,w=w+Math.imul(he,Ve)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ue,Ve)|0,R=R+Math.imul(ue,ze)|0,w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,Ge)|0,l=l+Math.imul(se,qe)|0,R=R+Math.imul(se,Ge)|0,w=w+Math.imul(L,Je)|0,l=l+Math.imul(L,Ze)|0,l=l+Math.imul($,Je)|0,R=R+Math.imul($,Ze)|0;var Yo=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,w=Math.imul(Ie,We),l=Math.imul(Ie,He),l=l+Math.imul(Ae,We)|0,R=Math.imul(Ae,He),w=w+Math.imul(xe,Ve)|0,l=l+Math.imul(xe,ze)|0,l=l+Math.imul(Me,Ve)|0,R=R+Math.imul(Me,ze)|0,w=w+Math.imul(he,qe)|0,l=l+Math.imul(he,Ge)|0,l=l+Math.imul(ue,qe)|0,R=R+Math.imul(ue,Ge)|0,w=w+Math.imul(ee,Je)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(se,Je)|0,R=R+Math.imul(se,Ze)|0;var Ko=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,w=Math.imul(Ie,Ve),l=Math.imul(Ie,ze),l=l+Math.imul(Ae,Ve)|0,R=Math.imul(Ae,ze),w=w+Math.imul(xe,qe)|0,l=l+Math.imul(xe,Ge)|0,l=l+Math.imul(Me,qe)|0,R=R+Math.imul(Me,Ge)|0,w=w+Math.imul(he,Je)|0,l=l+Math.imul(he,Ze)|0,l=l+Math.imul(ue,Je)|0,R=R+Math.imul(ue,Ze)|0;var Xo=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,w=Math.imul(Ie,qe),l=Math.imul(Ie,Ge),l=l+Math.imul(Ae,qe)|0,R=Math.imul(Ae,Ge),w=w+Math.imul(xe,Je)|0,l=l+Math.imul(xe,Ze)|0,l=l+Math.imul(Me,Je)|0,R=R+Math.imul(Me,Ze)|0;var ea=(O+w|0)+((l&8191)<<13)|0;O=(R+(l>>>13)|0)+(ea>>>26)|0,ea&=67108863,w=Math.imul(Ie,Je),l=Math.imul(Ie,Ze),l=l+Math.imul(Ae,Je)|0,R=Math.imul(Ae,Ze);var ta=(O+w|0)+((l&8191)<<13)|0;return O=(R+(l>>>13)|0)+(ta>>>26)|0,ta&=67108863,A[0]=Lr,A[1]=Pr,A[2]=Br,A[3]=Dr,A[4]=Fr,A[5]=$r,A[6]=jr,A[7]=Ur,A[8]=Wr,A[9]=Hr,A[10]=Vr,A[11]=zr,A[12]=qr,A[13]=Gr,A[14]=Yo,A[15]=Ko,A[16]=Xo,A[17]=ea,A[18]=ta,O!==0&&(A[19]=O,b.length++),b};Math.imul||(T=k);function D(_,u,p){p.negative=u.negative^_.negative,p.length=_.length+u.length;for(var b=0,S=0,x=0;x<p.length-1;x++){var A=S;S=0;for(var O=b&67108863,w=Math.min(x,u.length-1),l=Math.max(0,x-_.length+1);l<=w;l++){var R=x-l,Q=_.words[R]|0,K=u.words[l]|0,N=Q*K,B=N&67108863;A=A+(N/67108864|0)|0,B=B+O|0,O=B&67108863,A=A+(B>>>26)|0,S+=A>>>26,A&=67108863}p.words[x]=O,b=A,A=S}return b!==0?p.words[x]=b:p.length--,p._strip()}function H(_,u,p){return D(_,u,p)}s.prototype.mulTo=function(u,p){var b,S=this.length+u.length;return this.length===10&&u.length===10?b=T(this,u,p):S<63?b=k(this,u,p):S<1024?b=D(this,u,p):b=H(this,u,p),b},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),H(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var b=0,S=0;S<this.length;S++){var x=(this.words[S]|0)*u,A=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=A>>>26,this.words[S]=A&67108863}return b!==0&&(this.words[S]=b,this.length++),p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=W(u);if(p.length===0)return new s(1);for(var b=this,S=0;S<p.length&&p[S]===0;S++,b=b.sqr());if(++S<p.length)for(var x=b.sqr();S<p.length;S++,x=x.sqr())p[S]!==0&&(b=b.mul(x));return b},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,b=(u-p)/26,S=67108863>>>26-p<<26-p,x;if(p!==0){var A=0;for(x=0;x<this.length;x++){var O=this.words[x]&S,w=(this.words[x]|0)-O<<p;this.words[x]=w|A,A=O>>>26-p}A&&(this.words[x]=A,this.length++)}if(b!==0){for(x=this.length-1;x>=0;x--)this.words[x+b]=this.words[x];for(x=0;x<b;x++)this.words[x]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,b){n(typeof u=="number"&&u>=0);var S;p?S=(p-p%26)/26:S=0;var x=u%26,A=Math.min((u-x)/26,this.length),O=67108863^67108863>>>x<<x,w=b;if(S-=A,S=Math.max(0,S),w){for(var l=0;l<A;l++)w.words[l]=this.words[l];w.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var R=0;for(l=this.length-1;l>=0&&(R!==0||l>=S);l--){var Q=this.words[l]|0;this.words[l]=R<<26-x|Q>>>x,R=Q&O}return w&&R!==0&&(w.words[w.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,b){return n(this.negative===0),this.iushrn(u,p,b)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,b=(u-p)/26,S=1<<p;if(this.length<=b)return!1;var x=this.words[b];return!!(x&S)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,b=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var S=67108863^67108863>>>p<<p;this.words[this.length-1]&=S}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,b){var S=u.length+b,x;this._expand(S);var A,O=0;for(x=0;x<u.length;x++){A=(this.words[x+b]|0)+O;var w=(u.words[x]|0)*p;A-=w&67108863,O=(A>>26)-(w/67108864|0),this.words[x+b]=A&67108863}for(;x<this.length-b;x++)A=(this.words[x+b]|0)+O,O=A>>26,this.words[x+b]=A&67108863;if(O===0)return this._strip();for(n(O===-1),O=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+O,O=A>>26,this.words[x]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var b=this.length-u.length,S=this.clone(),x=u,A=x.words[x.length-1]|0,O=this._countBits(A);b=26-O,b!==0&&(x=x.ushln(b),S.iushln(b),A=x.words[x.length-1]|0);var w=S.length-x.length,l;if(p!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var R=0;R<l.length;R++)l.words[R]=0}var Q=S.clone()._ishlnsubmul(x,1,w);Q.negative===0&&(S=Q,l&&(l.words[w]=1));for(var K=w-1;K>=0;K--){var N=(S.words[x.length+K]|0)*67108864+(S.words[x.length+K-1]|0);for(N=Math.min(N/A|0,67108863),S._ishlnsubmul(x,N,K);S.negative!==0;)N--,S.negative=0,S._ishlnsubmul(x,1,K),S.isZero()||(S.negative^=1);l&&(l.words[K]=N)}return l&&l._strip(),S._strip(),p!=="div"&&b!==0&&S.iushrn(b),{div:l||null,mod:S}},s.prototype.divmod=function(u,p,b){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var S,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,p),p!=="mod"&&(S=A.div.neg()),p!=="div"&&(x=A.mod.neg(),b&&x.negative!==0&&x.iadd(u)),{div:S,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),p),p!=="mod"&&(S=A.div.neg()),{div:S,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),p),p!=="div"&&(x=A.mod.neg(),b&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(u):p.mod,S=u.ushrn(1),x=u.andln(1),A=b.cmp(S);return A<0||x===1&&A===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var b=(1<<26)%u,S=0,x=this.length-1;x>=0;x--)S=(b*S+(this.words[x]|0))%u;return p?-S:S},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var b=0,S=this.length-1;S>=0;S--){var x=(this.words[S]|0)+b*67108864;this.words[S]=x/u|0,b=x%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,b=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var S=new s(1),x=new s(0),A=new s(0),O=new s(1),w=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++w;for(var l=b.clone(),R=p.clone();!p.isZero();){for(var Q=0,K=1;(p.words[0]&K)===0&&Q<26;++Q,K<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(l),x.isub(R)),S.iushrn(1),x.iushrn(1);for(var N=0,B=1;(b.words[0]&B)===0&&N<26;++N,B<<=1);if(N>0)for(b.iushrn(N);N-- >0;)(A.isOdd()||O.isOdd())&&(A.iadd(l),O.isub(R)),A.iushrn(1),O.iushrn(1);p.cmp(b)>=0?(p.isub(b),S.isub(A),x.isub(O)):(b.isub(p),A.isub(S),O.isub(x))}return{a:A,b:O,gcd:b.iushln(w)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,b=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var S=new s(1),x=new s(0),A=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var O=0,w=1;(p.words[0]&w)===0&&O<26;++O,w<<=1);if(O>0)for(p.iushrn(O);O-- >0;)S.isOdd()&&S.iadd(A),S.iushrn(1);for(var l=0,R=1;(b.words[0]&R)===0&&l<26;++l,R<<=1);if(l>0)for(b.iushrn(l);l-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);p.cmp(b)>=0?(p.isub(b),S.isub(x)):(b.isub(p),x.isub(S))}var Q;return p.cmpn(1)===0?Q=S:Q=x,Q.cmpn(0)<0&&Q.iadd(u),Q},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),b=u.clone();p.negative=0,b.negative=0;for(var S=0;p.isEven()&&b.isEven();S++)p.iushrn(1),b.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var x=p.cmp(b);if(x<0){var A=p;p=b,b=A}else if(x===0||b.cmpn(1)===0)break;p.isub(b)}while(!0);return b.iushln(S)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,b=(u-p)/26,S=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=S,this;for(var x=S,A=b;x!==0&&A<this.length;A++){var O=this.words[A]|0;O+=x,x=O>>>26,O&=67108863,this.words[A]=O}return x!==0&&(this.words[A]=x,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var b;if(this.length>1)b=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var S=this.words[0]|0;b=S===u?0:S<u?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var S=this.words[b]|0,x=u.words[b]|0;if(S!==x){S<x?p=-1:S>x&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new re(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var j={k256:null,p224:null,p192:null,p25519:null};function J(_,u){this.name=_,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},J.prototype.ireduce=function(u){var p=u,b;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),b=p.bitLength();while(b>this.n);var S=b<this.n?-1:p.ucmp(this.p);return S===0?(p.words[0]=0,p.length=1):S>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},J.prototype.split=function(u,p){u.iushrn(this.n,0,p)},J.prototype.imulK=function(u){return u.imul(this.k)};function ne(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,J),ne.prototype.split=function(u,p){for(var b=4194303,S=Math.min(u.length,9),x=0;x<S;x++)p.words[x]=u.words[x];if(p.length=S,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(p.words[p.length++]=A&b,x=10;x<u.length;x++){var O=u.words[x]|0;u.words[x-10]=(O&b)<<4|A>>>22,A=O}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},ne.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,b=0;b<u.length;b++){var S=u.words[b]|0;p+=S*977,u.words[b]=p&67108863,p=S*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function X(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,J);function Z(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,J);function ae(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ae,J),ae.prototype.imulK=function(u){for(var p=0,b=0;b<u.length;b++){var S=(u.words[b]|0)*19+p,x=S&67108863;S>>>=26,u.words[b]=x,p=S}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(j[u])return j[u];var p;if(u==="k256")p=new ne;else if(u==="p224")p=new X;else if(u==="p192")p=new Z;else if(u==="p25519")p=new ae;else throw new Error("Unknown prime "+u);return j[u]=p,p};function re(_){if(typeof _=="string"){var u=s._prime(_);this.m=u.p,this.prime=u}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}re.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},re.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},re.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(g(u,u.umod(this.m)._forceRed(this)),u)},re.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},re.prototype.add=function(u,p){this._verify2(u,p);var b=u.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},re.prototype.iadd=function(u,p){this._verify2(u,p);var b=u.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},re.prototype.sub=function(u,p){this._verify2(u,p);var b=u.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},re.prototype.isub=function(u,p){this._verify2(u,p);var b=u.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},re.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},re.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},re.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},re.prototype.isqr=function(u){return this.imul(u,u.clone())},re.prototype.sqr=function(u){return this.mul(u,u)},re.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(u,b)}for(var S=this.m.subn(1),x=0;!S.isZero()&&S.andln(1)===0;)x++,S.iushrn(1);n(!S.isZero());var A=new s(1).toRed(this),O=A.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(O)!==0;)l.redIAdd(O);for(var R=this.pow(l,S),Q=this.pow(u,S.addn(1).iushrn(1)),K=this.pow(u,S),N=x;K.cmp(A)!==0;){for(var B=K,U=0;B.cmp(A)!==0;U++)B=B.redSqr();n(U<N);var Y=this.pow(R,new s(1).iushln(N-U-1));Q=Q.redMul(Y),R=Y.redSqr(),K=K.redMul(R),N=U}return Q},re.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},re.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var b=4,S=new Array(1<<b);S[0]=new s(1).toRed(this),S[1]=u;for(var x=2;x<S.length;x++)S[x]=this.mul(S[x-1],u);var A=S[0],O=0,w=0,l=p.bitLength()%26;for(l===0&&(l=26),x=p.length-1;x>=0;x--){for(var R=p.words[x],Q=l-1;Q>=0;Q--){var K=R>>Q&1;if(A!==S[0]&&(A=this.sqr(A)),K===0&&O===0){w=0;continue}O<<=1,O|=K,w++,!(w!==b&&(x!==0||Q!==0))&&(A=this.mul(A,S[O]),w=0,O=0)}l=26}return A},re.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},re.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new ce(u)};function ce(_){re.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,re),ce.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ce.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},ce.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var b=u.imul(p),S=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(S).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},ce.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var b=u.mul(p),S=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(S).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},ce.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,te)})(Wi);var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.EVENTS=void 0;ai.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Hi={},Sf={},Cr={},xf=Li;Li.default=Li;Li.stable=Rf;Li.stableStringify=Rf;var Ns="[...]",Mf="[Circular]",an=[],rn=[];function Cf(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Li(t,e,r,n){typeof n>"u"&&(n=Cf()),Ga(t,"",0,[],void 0,0,n);var i;try{rn.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,If(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;an.length!==0;){var s=an.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Wn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),an.push([n,r,e,i])):rn.push([e,r,t]):(n[r]=t,an.push([n,r,e]))}function Ga(t,e,r,n,i,s,a){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<n.length;o++)if(n[o]===t){Wn(Mf,t,e,i);return}if(typeof a.depthLimit<"u"&&s>a.depthLimit){Wn(Ns,t,e,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){Wn(Ns,t,e,i);return}if(n.push(t),Array.isArray(t))for(o=0;o<t.length;o++)Ga(t[o],o,o,n,t,s,a);else{var c=Object.keys(t);for(o=0;o<c.length;o++){var h=c[o];Ga(t[h],h,o,n,t,s,a)}}n.pop()}}function L0(t,e){return t<e?-1:t>e?1:0}function Rf(t,e,r,n){typeof n>"u"&&(n=Cf());var i=Ja(t,"",0,[],void 0,0,n)||t,s;try{rn.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,If(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;an.length!==0;){var a=an.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return s}function Ja(t,e,r,n,i,s,a){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<n.length;o++)if(n[o]===t){Wn(Mf,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&s>a.depthLimit){Wn(Ns,t,e,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){Wn(Ns,t,e,i);return}if(n.push(t),Array.isArray(t))for(o=0;o<t.length;o++)Ja(t[o],o,o,n,t,s,a);else{var c={},h=Object.keys(t).sort(L0);for(o=0;o<h.length;o++){var g=h[o];Ja(t[g],g,o,n,t,s,a),c[g]=t[g]}if(typeof i<"u")an.push([i,e,t]),i[e]=c;else return c}n.pop()}}function If(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(rn.length>0)for(var n=0;n<rn.length;n++){var i=rn[n];if(i[1]===e&&i[0]===r){r=i[2],rn.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.EthereumProviderError=Cr.EthereumRpcError=void 0;const P0=xf;class Af extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return P0.default(this.serialize(),F0,2)}}Cr.EthereumRpcError=Af;class B0 extends Af{constructor(e,r,n){if(!D0(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Cr.EthereumProviderError=B0;function D0(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function F0(t,e){if(e!=="[Circular]")return e}var pu={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.errorValues=Rr.errorCodes=void 0;Rr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Rr,r=Cr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:a(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(v,E=i){if(Number.isInteger(v)){const P=v.toString();if(y(e.errorValues,P))return e.errorValues[P].message;if(h(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=a;function o(v){if(!Number.isInteger(v))return!1;const E=v.toString();return!!(e.errorValues[E]||h(v))}t.isValidCode=o;function c(v,{fallbackError:E=s,shouldIncludeStack:P=!1}={}){var F,W;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const k={};if(v&&typeof v=="object"&&!Array.isArray(v)&&y(v,"code")&&o(v.code)){const D=v;k.code=D.code,D.message&&typeof D.message=="string"?(k.message=D.message,y(D,"data")&&(k.data=D.data)):(k.message=a(k.code),k.data={originalError:g(v)})}else{k.code=E.code;const D=(F=v)===null||F===void 0?void 0:F.message;k.message=D&&typeof D=="string"?D:E.message,k.data={originalError:g(v)}}const T=(W=v)===null||W===void 0?void 0:W.stack;return P&&v&&T&&typeof T=="string"&&(k.stack=T),k}t.serializeError=c;function h(v){return v>=-32099&&v<=-32e3}function g(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function y(v,E){return Object.prototype.hasOwnProperty.call(v,E)}})(pu);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ethErrors=void 0;const gu=Cr,kf=pu,bt=Rr;Zs.ethErrors={rpc:{parse:t=>Nt(bt.errorCodes.rpc.parse,t),invalidRequest:t=>Nt(bt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Nt(bt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Nt(bt.errorCodes.rpc.methodNotFound,t),internal:t=>Nt(bt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Nt(e,t)},invalidInput:t=>Nt(bt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Nt(bt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Nt(bt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Nt(bt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Nt(bt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Nt(bt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>mi(bt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>mi(bt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>mi(bt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>mi(bt.errorCodes.provider.disconnected,t),chainDisconnected:t=>mi(bt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new gu.EthereumProviderError(e,r,n)}}};function Nt(t,e){const[r,n]=Tf(e);return new gu.EthereumRpcError(t,r||kf.getMessageFromCode(t),n)}function mi(t,e){const[r,n]=Tf(e);return new gu.EthereumProviderError(t,r||kf.getMessageFromCode(t),n)}function Tf(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Cr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=pu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Zs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Rr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Sf);var Re={},Qs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Qs);Object.defineProperty(Re,"__esModule",{value:!0});Re.EthereumAddressFromSignedMessageResponse=Re.SubmitEthereumTransactionResponse=Re.SignEthereumTransactionResponse=Re.SignEthereumMessageResponse=Re.isRequestEthereumAccountsResponse=Re.SelectProviderResponse=Re.WatchAssetReponse=Re.RequestEthereumAccountsResponse=Re.SwitchEthereumChainResponse=Re.AddEthereumChainResponse=Re.isErrorResponse=void 0;const lr=Qs;function $0(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Re.isErrorResponse=$0;function j0(t){return{method:lr.Web3Method.addEthereumChain,result:t}}Re.AddEthereumChainResponse=j0;function U0(t){return{method:lr.Web3Method.switchEthereumChain,result:t}}Re.SwitchEthereumChainResponse=U0;function W0(t){return{method:lr.Web3Method.requestEthereumAccounts,result:t}}Re.RequestEthereumAccountsResponse=W0;function H0(t){return{method:lr.Web3Method.watchAsset,result:t}}Re.WatchAssetReponse=H0;function V0(t){return{method:lr.Web3Method.selectProvider,result:t}}Re.SelectProviderResponse=V0;function z0(t){return t&&t.method===lr.Web3Method.requestEthereumAccounts}Re.isRequestEthereumAccountsResponse=z0;function q0(t){return{method:lr.Web3Method.signEthereumMessage,result:t}}Re.SignEthereumMessageResponse=q0;function G0(t){return{method:lr.Web3Method.signEthereumTransaction,result:t}}Re.SignEthereumTransactionResponse=G0;function J0(t){return{method:lr.Web3Method.submitEthereumTransaction,result:t}}Re.SubmitEthereumTransactionResponse=J0;function Z0(t){return{method:lr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Re.EthereumAddressFromSignedMessageResponse=Z0;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.LIB_VERSION=void 0;Vi.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Sf,r=Re,n=Vi;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(g){return g!==void 0?(0,e.getMessageFromCode)(g):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(g="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${g}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(g,y){const v=(0,e.serializeError)(a(g),{shouldIncludeStack:!0}),E=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");E.searchParams.set("version",n.LIB_VERSION),E.searchParams.set("code",v.code.toString());const P=o(v.data,y);return P&&E.searchParams.set("method",P),E.searchParams.set("message",v.message),Object.assign(Object.assign({},v),{docUrl:E.href})}t.serializeError=s;function a(g){return typeof g=="string"?{message:g,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(g)?Object.assign(Object.assign({},g),{message:g.errorMessage,code:g.errorCode,data:{method:g.method,result:g.result}}):g}function o(g,y){var v;const E=(v=g)===null||v===void 0?void 0:v.method;if(E)return E;if(y!==void 0)return typeof y=="string"?y:Array.isArray(y)?y.length>0?y[0].method:void 0:y.method}function c(g){var y;if(typeof g=="number")return g;if(h(g))return(y=g.code)!==null&&y!==void 0?y:g.errorCode}t.getErrorCode=c;function h(g){return typeof g=="object"&&g!==null&&(typeof g.code=="number"||typeof g.errorCode=="number")}})(Hi);var ui={},Nf={exports:{}},cr={exports:{}},zi={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=E0,r=S0,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var m=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(m,f),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.byteOffset}});function a(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');var f=new Uint8Array(m);return Object.setPrototypeOf(f,o.prototype),f}function o(m,f,d){if(typeof m=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(m)}return c(m,f,d)}o.poolSize=8192;function c(m,f,d){if(typeof m=="string")return v(m,f);if(ArrayBuffer.isView(m))return P(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(V(m,ArrayBuffer)||m&&V(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(m,SharedArrayBuffer)||m&&V(m.buffer,SharedArrayBuffer)))return F(m,f,d);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=m.valueOf&&m.valueOf();if(I!=null&&I!==m)return o.from(I,f,d);var L=W(m);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),f,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,f,d){return c(m,f,d)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function h(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function g(m,f,d){return h(m),m<=0?a(m):f!==void 0?typeof d=="string"?a(m).fill(f,d):a(m).fill(f):a(m)}o.alloc=function(m,f,d){return g(m,f,d)};function y(m){return h(m),a(m<0?0:k(m)|0)}o.allocUnsafe=function(m){return y(m)},o.allocUnsafeSlow=function(m){return y(m)};function v(m,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);var d=D(m,f)|0,I=a(d),L=I.write(m,f);return L!==d&&(I=I.slice(0,L)),I}function E(m){for(var f=m.length<0?0:k(m.length)|0,d=a(f),I=0;I<f;I+=1)d[I]=m[I]&255;return d}function P(m){if(V(m,Uint8Array)){var f=new Uint8Array(m);return F(f.buffer,f.byteOffset,f.byteLength)}return E(m)}function F(m,f,d){if(f<0||m.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<f+(d||0))throw new RangeError('"length" is outside of buffer bounds');var I;return f===void 0&&d===void 0?I=new Uint8Array(m):d===void 0?I=new Uint8Array(m,f):I=new Uint8Array(m,f,d),Object.setPrototypeOf(I,o.prototype),I}function W(m){if(o.isBuffer(m)){var f=k(m.length)|0,d=a(f);return d.length===0||m.copy(d,0,0,f),d}if(m.length!==void 0)return typeof m.length!="number"||G(m.length)?a(0):E(m);if(m.type==="Buffer"&&Array.isArray(m.data))return E(m.data)}function k(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return m|0}function T(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,d){if(V(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),V(d,Uint8Array)&&(d=o.from(d,d.offset,d.byteLength)),!o.isBuffer(f)||!o.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===d)return 0;for(var I=f.length,L=d.length,$=0,q=Math.min(I,L);$<q;++$)if(f[$]!==d[$]){I=f[$],L=d[$];break}return I<L?-1:L<I?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,d){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);var I;if(d===void 0)for(d=0,I=0;I<f.length;++I)d+=f[I].length;var L=o.allocUnsafe(d),$=0;for(I=0;I<f.length;++I){var q=f[I];if(V(q,Uint8Array))$+q.length>L.length?o.from(q).copy(L,$):Uint8Array.prototype.set.call(L,q,$);else if(o.isBuffer(q))q.copy(L,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=q.length}return L};function D(m,f){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||V(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var d=m.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&d===0)return 0;for(var L=!1;;)switch(f){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return U(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return M(m).length;default:if(L)return I?-1:U(m).length;f=(""+f).toLowerCase(),L=!0}}o.byteLength=D;function H(m,f,d){var I=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,f>>>=0,d<=f))return"";for(m||(m="utf8");;)switch(m){case"hex":return A(this,f,d);case"utf8":case"utf-8":return u(this,f,d);case"ascii":return S(this,f,d);case"latin1":case"binary":return x(this,f,d);case"base64":return _(this,f,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,f,d);default:if(I)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),I=!0}}o.prototype._isBuffer=!0;function j(m,f,d){var I=m[f];m[f]=m[d],m[d]=I}o.prototype.swap16=function(){var f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<f;d+=2)j(this,d,d+1);return this},o.prototype.swap32=function(){var f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<f;d+=4)j(this,d,d+3),j(this,d+1,d+2);return this},o.prototype.swap64=function(){var f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<f;d+=8)j(this,d,d+7),j(this,d+1,d+6),j(this,d+2,d+5),j(this,d+3,d+4);return this},o.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?u(this,0,f):H.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){var f="",d=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(f+=" ... "),"<Buffer "+f+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(f,d,I,L,$){if(V(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(d===void 0&&(d=0),I===void 0&&(I=f?f.length:0),L===void 0&&(L=0),$===void 0&&($=this.length),d<0||I>f.length||L<0||$>this.length)throw new RangeError("out of range index");if(L>=$&&d>=I)return 0;if(L>=$)return-1;if(d>=I)return 1;if(d>>>=0,I>>>=0,L>>>=0,$>>>=0,this===f)return 0;for(var q=$-L,ee=I-d,se=Math.min(q,ee),me=this.slice(L,$),he=f.slice(d,I),ue=0;ue<se;++ue)if(me[ue]!==he[ue]){q=me[ue],ee=he[ue];break}return q<ee?-1:ee<q?1:0};function J(m,f,d,I,L){if(m.length===0)return-1;if(typeof d=="string"?(I=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,G(d)&&(d=L?0:m.length-1),d<0&&(d=m.length+d),d>=m.length){if(L)return-1;d=m.length-1}else if(d<0)if(L)d=0;else return-1;if(typeof f=="string"&&(f=o.from(f,I)),o.isBuffer(f))return f.length===0?-1:ne(m,f,d,I,L);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(m,f,d):Uint8Array.prototype.lastIndexOf.call(m,f,d):ne(m,[f],d,I,L);throw new TypeError("val must be string, number or Buffer")}function ne(m,f,d,I,L){var $=1,q=m.length,ee=f.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(m.length<2||f.length<2)return-1;$=2,q/=2,ee/=2,d/=2}function se(xe,Me){return $===1?xe[Me]:xe.readUInt16BE(Me*$)}var me;if(L){var he=-1;for(me=d;me<q;me++)if(se(m,me)===se(f,he===-1?0:me-he)){if(he===-1&&(he=me),me-he+1===ee)return he*$}else he!==-1&&(me-=me-he),he=-1}else for(d+ee>q&&(d=q-ee),me=d;me>=0;me--){for(var ue=!0,at=0;at<ee;at++)if(se(m,me+at)!==se(f,at)){ue=!1;break}if(ue)return me}return-1}o.prototype.includes=function(f,d,I){return this.indexOf(f,d,I)!==-1},o.prototype.indexOf=function(f,d,I){return J(this,f,d,I,!0)},o.prototype.lastIndexOf=function(f,d,I){return J(this,f,d,I,!1)};function X(m,f,d,I){d=Number(d)||0;var L=m.length-d;I?(I=Number(I),I>L&&(I=L)):I=L;var $=f.length;I>$/2&&(I=$/2);for(var q=0;q<I;++q){var ee=parseInt(f.substr(q*2,2),16);if(G(ee))return q;m[d+q]=ee}return q}function Z(m,f,d,I){return C(U(f,m.length-d),m,d,I)}function ae(m,f,d,I){return C(Y(f),m,d,I)}function re(m,f,d,I){return C(M(f),m,d,I)}function ce(m,f,d,I){return C(pe(f,m.length-d),m,d,I)}o.prototype.write=function(f,d,I,L){if(d===void 0)L="utf8",I=this.length,d=0;else if(I===void 0&&typeof d=="string")L=d,I=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(I)?(I=I>>>0,L===void 0&&(L="utf8")):(L=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-d;if((I===void 0||I>$)&&(I=$),f.length>0&&(I<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var q=!1;;)switch(L){case"hex":return X(this,f,d,I);case"utf8":case"utf-8":return Z(this,f,d,I);case"ascii":case"latin1":case"binary":return ae(this,f,d,I);case"base64":return re(this,f,d,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,f,d,I);default:if(q)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),q=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(m,f,d){return f===0&&d===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(f,d))}function u(m,f,d){d=Math.min(m.length,d);for(var I=[],L=f;L<d;){var $=m[L],q=null,ee=$>239?4:$>223?3:$>191?2:1;if(L+ee<=d){var se,me,he,ue;switch(ee){case 1:$<128&&(q=$);break;case 2:se=m[L+1],(se&192)===128&&(ue=($&31)<<6|se&63,ue>127&&(q=ue));break;case 3:se=m[L+1],me=m[L+2],(se&192)===128&&(me&192)===128&&(ue=($&15)<<12|(se&63)<<6|me&63,ue>2047&&(ue<55296||ue>57343)&&(q=ue));break;case 4:se=m[L+1],me=m[L+2],he=m[L+3],(se&192)===128&&(me&192)===128&&(he&192)===128&&(ue=($&15)<<18|(se&63)<<12|(me&63)<<6|he&63,ue>65535&&ue<1114112&&(q=ue))}}q===null?(q=65533,ee=1):q>65535&&(q-=65536,I.push(q>>>10&1023|55296),q=56320|q&1023),I.push(q),L+=ee}return b(I)}var p=4096;function b(m){var f=m.length;if(f<=p)return String.fromCharCode.apply(String,m);for(var d="",I=0;I<f;)d+=String.fromCharCode.apply(String,m.slice(I,I+=p));return d}function S(m,f,d){var I="";d=Math.min(m.length,d);for(var L=f;L<d;++L)I+=String.fromCharCode(m[L]&127);return I}function x(m,f,d){var I="";d=Math.min(m.length,d);for(var L=f;L<d;++L)I+=String.fromCharCode(m[L]);return I}function A(m,f,d){var I=m.length;(!f||f<0)&&(f=0),(!d||d<0||d>I)&&(d=I);for(var L="",$=f;$<d;++$)L+=fe[m[$]];return L}function O(m,f,d){for(var I=m.slice(f,d),L="",$=0;$<I.length-1;$+=2)L+=String.fromCharCode(I[$]+I[$+1]*256);return L}o.prototype.slice=function(f,d){var I=this.length;f=~~f,d=d===void 0?I:~~d,f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),d<0?(d+=I,d<0&&(d=0)):d>I&&(d=I),d<f&&(d=f);var L=this.subarray(f,d);return Object.setPrototypeOf(L,o.prototype),L};function w(m,f,d){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+f>d)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,d,I){f=f>>>0,d=d>>>0,I||w(f,d,this.length);for(var L=this[f],$=1,q=0;++q<d&&($*=256);)L+=this[f+q]*$;return L},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,d,I){f=f>>>0,d=d>>>0,I||w(f,d,this.length);for(var L=this[f+--d],$=1;d>0&&($*=256);)L+=this[f+--d]*$;return L},o.prototype.readUint8=o.prototype.readUInt8=function(f,d){return f=f>>>0,d||w(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,d){return f=f>>>0,d||w(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,d){return f=f>>>0,d||w(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,d){return f=f>>>0,d||w(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,d){return f=f>>>0,d||w(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readIntLE=function(f,d,I){f=f>>>0,d=d>>>0,I||w(f,d,this.length);for(var L=this[f],$=1,q=0;++q<d&&($*=256);)L+=this[f+q]*$;return $*=128,L>=$&&(L-=Math.pow(2,8*d)),L},o.prototype.readIntBE=function(f,d,I){f=f>>>0,d=d>>>0,I||w(f,d,this.length);for(var L=d,$=1,q=this[f+--L];L>0&&($*=256);)q+=this[f+--L]*$;return $*=128,q>=$&&(q-=Math.pow(2,8*d)),q},o.prototype.readInt8=function(f,d){return f=f>>>0,d||w(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,d){f=f>>>0,d||w(f,2,this.length);var I=this[f]|this[f+1]<<8;return I&32768?I|4294901760:I},o.prototype.readInt16BE=function(f,d){f=f>>>0,d||w(f,2,this.length);var I=this[f+1]|this[f]<<8;return I&32768?I|4294901760:I},o.prototype.readInt32LE=function(f,d){return f=f>>>0,d||w(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,d){return f=f>>>0,d||w(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readFloatLE=function(f,d){return f=f>>>0,d||w(f,4,this.length),r.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,d){return f=f>>>0,d||w(f,4,this.length),r.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,d){return f=f>>>0,d||w(f,8,this.length),r.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,d){return f=f>>>0,d||w(f,8,this.length),r.read(this,f,!1,52,8)};function l(m,f,d,I,L,$){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>L||f<$)throw new RangeError('"value" argument is out of bounds');if(d+I>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,d,I,L){if(f=+f,d=d>>>0,I=I>>>0,!L){var $=Math.pow(2,8*I)-1;l(this,f,d,I,$,0)}var q=1,ee=0;for(this[d]=f&255;++ee<I&&(q*=256);)this[d+ee]=f/q&255;return d+I},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,d,I,L){if(f=+f,d=d>>>0,I=I>>>0,!L){var $=Math.pow(2,8*I)-1;l(this,f,d,I,$,0)}var q=I-1,ee=1;for(this[d+q]=f&255;--q>=0&&(ee*=256);)this[d+q]=f/ee&255;return d+I},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,1,255,0),this[d]=f&255,d+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,2,65535,0),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,2,65535,0),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,4,4294967295,0),this[d+3]=f>>>24,this[d+2]=f>>>16,this[d+1]=f>>>8,this[d]=f&255,d+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,4,4294967295,0),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4},o.prototype.writeIntLE=function(f,d,I,L){if(f=+f,d=d>>>0,!L){var $=Math.pow(2,8*I-1);l(this,f,d,I,$-1,-$)}var q=0,ee=1,se=0;for(this[d]=f&255;++q<I&&(ee*=256);)f<0&&se===0&&this[d+q-1]!==0&&(se=1),this[d+q]=(f/ee>>0)-se&255;return d+I},o.prototype.writeIntBE=function(f,d,I,L){if(f=+f,d=d>>>0,!L){var $=Math.pow(2,8*I-1);l(this,f,d,I,$-1,-$)}var q=I-1,ee=1,se=0;for(this[d+q]=f&255;--q>=0&&(ee*=256);)f<0&&se===0&&this[d+q+1]!==0&&(se=1),this[d+q]=(f/ee>>0)-se&255;return d+I},o.prototype.writeInt8=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,1,127,-128),f<0&&(f=255+f+1),this[d]=f&255,d+1},o.prototype.writeInt16LE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,2,32767,-32768),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeInt16BE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,2,32767,-32768),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeInt32LE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,4,2147483647,-2147483648),this[d]=f&255,this[d+1]=f>>>8,this[d+2]=f>>>16,this[d+3]=f>>>24,d+4},o.prototype.writeInt32BE=function(f,d,I){return f=+f,d=d>>>0,I||l(this,f,d,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4};function R(m,f,d,I,L,$){if(d+I>m.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Q(m,f,d,I,L){return f=+f,d=d>>>0,L||R(m,f,d,4),r.write(m,f,d,I,23,4),d+4}o.prototype.writeFloatLE=function(f,d,I){return Q(this,f,d,!0,I)},o.prototype.writeFloatBE=function(f,d,I){return Q(this,f,d,!1,I)};function K(m,f,d,I,L){return f=+f,d=d>>>0,L||R(m,f,d,8),r.write(m,f,d,I,52,8),d+8}o.prototype.writeDoubleLE=function(f,d,I){return K(this,f,d,!0,I)},o.prototype.writeDoubleBE=function(f,d,I){return K(this,f,d,!1,I)},o.prototype.copy=function(f,d,I,L){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(I||(I=0),!L&&L!==0&&(L=this.length),d>=f.length&&(d=f.length),d||(d=0),L>0&&L<I&&(L=I),L===I||f.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),f.length-d<L-I&&(L=f.length-d+I);var $=L-I;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,I,L):Uint8Array.prototype.set.call(f,this.subarray(I,L),d),$},o.prototype.fill=function(f,d,I,L){if(typeof f=="string"){if(typeof d=="string"?(L=d,d=0,I=this.length):typeof I=="string"&&(L=I,I=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!o.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(f.length===1){var $=f.charCodeAt(0);(L==="utf8"&&$<128||L==="latin1")&&(f=$)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(d<0||this.length<d||this.length<I)throw new RangeError("Out of range index");if(I<=d)return this;d=d>>>0,I=I===void 0?this.length:I>>>0,f||(f=0);var q;if(typeof f=="number")for(q=d;q<I;++q)this[q]=f;else{var ee=o.isBuffer(f)?f:o.from(f,L),se=ee.length;if(se===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(q=0;q<I-d;++q)this[q+d]=ee[q%se]}return this};var N=/[^+/0-9A-Za-z-_]/g;function B(m){if(m=m.split("=")[0],m=m.trim().replace(N,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function U(m,f){f=f||1/0;for(var d,I=m.length,L=null,$=[],q=0;q<I;++q){if(d=m.charCodeAt(q),d>55295&&d<57344){if(!L){if(d>56319){(f-=3)>-1&&$.push(239,191,189);continue}else if(q+1===I){(f-=3)>-1&&$.push(239,191,189);continue}L=d;continue}if(d<56320){(f-=3)>-1&&$.push(239,191,189),L=d;continue}d=(L-55296<<10|d-56320)+65536}else L&&(f-=3)>-1&&$.push(239,191,189);if(L=null,d<128){if((f-=1)<0)break;$.push(d)}else if(d<2048){if((f-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((f-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((f-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function Y(m){for(var f=[],d=0;d<m.length;++d)f.push(m.charCodeAt(d)&255);return f}function pe(m,f){for(var d,I,L,$=[],q=0;q<m.length&&!((f-=2)<0);++q)d=m.charCodeAt(q),I=d>>8,L=d%256,$.push(L),$.push(I);return $}function M(m){return e.toByteArray(B(m))}function C(m,f,d,I){for(var L=0;L<I&&!(L+d>=f.length||L>=m.length);++L)f[L+d]=m[L];return L}function V(m,f){return m instanceof f||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===f.name}function G(m){return m!==m}var fe=function(){for(var m="0123456789abcdef",f=new Array(256),d=0;d<16;++d)for(var I=d*16,L=0;L<16;++L)f[I+L]=m[d]+m[L];return f}()})(zi);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=zi,n=r.Buffer;function i(a,o){for(var c in a)o[c]=a[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,c){return n(a,o,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(a,o,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,c)},s.alloc=function(a,o,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=n(a);return o!==void 0?typeof c=="string"?h.fill(o,c):h.fill(o):h.fill(0),h},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(cr,cr.exports);var Of=cr.exports.Buffer;function Ys(t,e){this._block=Of.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Ys.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Of.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var o=s%n,c=Math.min(i-a,n-o),h=0;h<c;h++)r[o+h]=t[a+h];s+=c,a+=c,s%n===0&&this._update(r)}return this._len+=i,this};Ys.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Ys.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ci=Ys,Q0=Qt.exports,Lf=ci,Y0=cr.exports.Buffer,K0=[1518500249,1859775393,-1894007588,-899497514],X0=new Array(80);function qi(){this.init(),this._w=X0,Lf.call(this,64,56)}Q0(qi,Lf);qi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ep(t){return t<<5|t>>>27}function tp(t){return t<<30|t>>>2}function rp(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}qi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var c=0;c<80;++c){var h=~~(c/20),g=ep(r)+rp(h,n,i,s)+a+e[c]+K0[h]|0;a=s,s=i,i=tp(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};qi.prototype._hash=function(){var t=Y0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var np=qi,ip=Qt.exports,Pf=ci,sp=cr.exports.Buffer,op=[1518500249,1859775393,-1894007588,-899497514],ap=new Array(80);function Gi(){this.init(),this._w=ap,Pf.call(this,64,56)}ip(Gi,Pf);Gi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function up(t){return t<<1|t>>>31}function cp(t){return t<<5|t>>>27}function lp(t){return t<<30|t>>>2}function fp(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Gi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=up(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var c=0;c<80;++c){var h=~~(c/20),g=cp(r)+fp(h,n,i,s)+a+e[c]+op[h]|0;a=s,s=i,i=lp(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};Gi.prototype._hash=function(){var t=sp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var hp=Gi,dp=Qt.exports,Bf=ci,pp=cr.exports.Buffer,gp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],bp=new Array(64);function Ji(){this.init(),this._w=bp,Bf.call(this,64,56)}dp(Ji,Bf);Ji.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function vp(t,e,r){return r^t&(e^r)}function yp(t,e,r){return t&e|r&(t|e)}function mp(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function wp(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function _p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Ep(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Ji.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=this._f|0,c=this._g|0,h=this._h|0,g=0;g<16;++g)e[g]=t.readInt32BE(g*4);for(;g<64;++g)e[g]=Ep(e[g-2])+e[g-7]+_p(e[g-15])+e[g-16]|0;for(var y=0;y<64;++y){var v=h+wp(a)+vp(a,o,c)+gp[y]+e[y]|0,E=mp(r)+yp(r,n,i)|0;h=c,c=o,o=a,a=s+v|0,s=i,i=n,n=r,r=v+E|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=h+this._h|0};Ji.prototype._hash=function(){var t=pp.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Df=Ji,Sp=Qt.exports,xp=Df,Mp=ci,Cp=cr.exports.Buffer,Rp=new Array(64);function Ks(){this.init(),this._w=Rp,Mp.call(this,64,56)}Sp(Ks,xp);Ks.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ks.prototype._hash=function(){var t=Cp.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Ip=Ks,Ap=Qt.exports,Ff=ci,kp=cr.exports.Buffer,Ec=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Tp=new Array(160);function Zi(){this.init(),this._w=Tp,Ff.call(this,128,112)}Ap(Zi,Ff);Zi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Sc(t,e,r){return r^t&(e^r)}function xc(t,e,r){return t&e|r&(t|e)}function Mc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Cc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Np(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Op(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Lp(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Pp(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ut(t,e){return t>>>0<e>>>0?1:0}Zi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,o=this._fh|0,c=this._gh|0,h=this._hh|0,g=this._al|0,y=this._bl|0,v=this._cl|0,E=this._dl|0,P=this._el|0,F=this._fl|0,W=this._gl|0,k=this._hl|0,T=0;T<32;T+=2)e[T]=t.readInt32BE(T*4),e[T+1]=t.readInt32BE(T*4+4);for(;T<160;T+=2){var D=e[T-30],H=e[T-15*2+1],j=Np(D,H),J=Op(H,D);D=e[T-2*2],H=e[T-2*2+1];var ne=Lp(D,H),X=Pp(H,D),Z=e[T-7*2],ae=e[T-7*2+1],re=e[T-16*2],ce=e[T-16*2+1],_=J+ae|0,u=j+Z+ut(_,J)|0;_=_+X|0,u=u+ne+ut(_,X)|0,_=_+ce|0,u=u+re+ut(_,ce)|0,e[T]=u,e[T+1]=_}for(var p=0;p<160;p+=2){u=e[p],_=e[p+1];var b=xc(r,n,i),S=xc(g,y,v),x=Mc(r,g),A=Mc(g,r),O=Cc(a,P),w=Cc(P,a),l=Ec[p],R=Ec[p+1],Q=Sc(a,o,c),K=Sc(P,F,W),N=k+w|0,B=h+O+ut(N,k)|0;N=N+K|0,B=B+Q+ut(N,K)|0,N=N+R|0,B=B+l+ut(N,R)|0,N=N+_|0,B=B+u+ut(N,_)|0;var U=A+S|0,Y=x+b+ut(U,A)|0;h=c,k=W,c=o,W=F,o=a,F=P,P=E+N|0,a=s+B+ut(P,E)|0,s=i,E=v,i=n,v=y,n=r,y=g,g=N+U|0,r=B+Y+ut(g,N)|0}this._al=this._al+g|0,this._bl=this._bl+y|0,this._cl=this._cl+v|0,this._dl=this._dl+E|0,this._el=this._el+P|0,this._fl=this._fl+F|0,this._gl=this._gl+W|0,this._hl=this._hl+k|0,this._ah=this._ah+r+ut(this._al,g)|0,this._bh=this._bh+n+ut(this._bl,y)|0,this._ch=this._ch+i+ut(this._cl,v)|0,this._dh=this._dh+s+ut(this._dl,E)|0,this._eh=this._eh+a+ut(this._el,P)|0,this._fh=this._fh+o+ut(this._fl,F)|0,this._gh=this._gh+c+ut(this._gl,W)|0,this._hh=this._hh+h+ut(this._hl,k)|0};Zi.prototype._hash=function(){var t=kp.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var $f=Zi,Bp=Qt.exports,Dp=$f,Fp=ci,$p=cr.exports.Buffer,jp=new Array(160);function Xs(){this.init(),this._w=jp,Fp.call(this,128,112)}Bp(Xs,Dp);Xs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Xs.prototype._hash=function(){var t=$p.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Up=Xs,gn=Nf.exports=function(e){e=e.toLowerCase();var r=gn[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};gn.sha=np;gn.sha1=hp;gn.sha224=Ip;gn.sha256=Df;gn.sha384=Up;gn.sha512=$f;var ie={},Wp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Rc=typeof Symbol<"u"&&Symbol,Hp=Wp,Vp=function(){return typeof Rc!="function"||typeof Symbol!="function"||typeof Rc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Hp()},zp="Function.prototype.bind called on incompatible ",ra=Array.prototype.slice,qp=Object.prototype.toString,Gp="[object Function]",Jp=function(e){var r=this;if(typeof r!="function"||qp.call(r)!==Gp)throw new TypeError(zp+r);for(var n=ra.call(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,n.concat(ra.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(ra.call(arguments)))},a=Math.max(0,r.length-n.length),o=[],c=0;c<a;c++)o.push("$"+c);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},Zp=Jp,bu=Function.prototype.bind||Zp,Qp=bu,Yp=Qp.call(Function.call,Object.prototype.hasOwnProperty),we,Pi=SyntaxError,jf=Function,Hn=TypeError,na=function(t){try{return jf('"use strict"; return ('+t+").constructor;")()}catch{}},on=Object.getOwnPropertyDescriptor;if(on)try{on({},"")}catch{on=null}var ia=function(){throw new Hn},Kp=on?function(){try{return arguments.callee,ia}catch{try{return on(arguments,"callee").get}catch{return ia}}}():ia,Nn=Vp(),Er=Object.getPrototypeOf||function(t){return t.__proto__},Fn={},Xp=typeof Uint8Array>"u"?we:Er(Uint8Array),Vn={"%AggregateError%":typeof AggregateError>"u"?we:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?we:ArrayBuffer,"%ArrayIteratorPrototype%":Nn?Er([][Symbol.iterator]()):we,"%AsyncFromSyncIteratorPrototype%":we,"%AsyncFunction%":Fn,"%AsyncGenerator%":Fn,"%AsyncGeneratorFunction%":Fn,"%AsyncIteratorPrototype%":Fn,"%Atomics%":typeof Atomics>"u"?we:Atomics,"%BigInt%":typeof BigInt>"u"?we:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?we:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?we:Float32Array,"%Float64Array%":typeof Float64Array>"u"?we:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?we:FinalizationRegistry,"%Function%":jf,"%GeneratorFunction%":Fn,"%Int8Array%":typeof Int8Array>"u"?we:Int8Array,"%Int16Array%":typeof Int16Array>"u"?we:Int16Array,"%Int32Array%":typeof Int32Array>"u"?we:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nn?Er(Er([][Symbol.iterator]())):we,"%JSON%":typeof JSON=="object"?JSON:we,"%Map%":typeof Map>"u"?we:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Nn?we:Er(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?we:Promise,"%Proxy%":typeof Proxy>"u"?we:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?we:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?we:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Nn?we:Er(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?we:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nn?Er(""[Symbol.iterator]()):we,"%Symbol%":Nn?Symbol:we,"%SyntaxError%":Pi,"%ThrowTypeError%":Kp,"%TypedArray%":Xp,"%TypeError%":Hn,"%Uint8Array%":typeof Uint8Array>"u"?we:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?we:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?we:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?we:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?we:WeakMap,"%WeakRef%":typeof WeakRef>"u"?we:WeakRef,"%WeakSet%":typeof WeakSet>"u"?we:WeakSet},eg=function t(e){var r;if(e==="%AsyncFunction%")r=na("async function () {}");else if(e==="%GeneratorFunction%")r=na("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=na("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Er(i.prototype))}return Vn[e]=r,r},Ic={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},eo=bu,Os=Yp,tg=eo.call(Function.call,Array.prototype.concat),rg=eo.call(Function.apply,Array.prototype.splice),Ac=eo.call(Function.call,String.prototype.replace),Ls=eo.call(Function.call,String.prototype.slice),ng=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ig=/\\(\\)?/g,sg=function(e){var r=Ls(e,0,1),n=Ls(e,-1);if(r==="%"&&n!=="%")throw new Pi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Pi("invalid intrinsic syntax, expected opening `%`");var i=[];return Ac(e,ng,function(s,a,o,c){i[i.length]=o?Ac(c,ig,"$1"):a||s}),i},og=function(e,r){var n=e,i;if(Os(Ic,n)&&(i=Ic[n],n="%"+i[0]+"%"),Os(Vn,n)){var s=Vn[n];if(s===Fn&&(s=eg(n)),typeof s>"u"&&!r)throw new Hn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Pi("intrinsic "+e+" does not exist!")},vu=function(e,r){if(typeof e!="string"||e.length===0)throw new Hn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Hn('"allowMissing" argument must be a boolean');var n=sg(e),i=n.length>0?n[0]:"",s=og("%"+i+"%",r),a=s.name,o=s.value,c=!1,h=s.alias;h&&(i=h[0],rg(n,tg([0,1],h)));for(var g=1,y=!0;g<n.length;g+=1){var v=n[g],E=Ls(v,0,1),P=Ls(v,-1);if((E==='"'||E==="'"||E==="`"||P==='"'||P==="'"||P==="`")&&E!==P)throw new Pi("property names with quotes must have matching quotes");if((v==="constructor"||!y)&&(c=!0),i+="."+v,a="%"+i+"%",Os(Vn,a))o=Vn[a];else if(o!=null){if(!(v in o)){if(!r)throw new Hn("base intrinsic for "+e+" exists, but the property is not available.");return}if(on&&g+1>=n.length){var F=on(o,v);y=!!F,y&&"get"in F&&!("originalValue"in F.get)?o=F.get:o=o[v]}else y=Os(o,v),o=o[v];y&&!c&&(Vn[a]=o)}}return o},Uf={exports:{}};(function(t){var e=bu,r=vu,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),a=r("%Object.getOwnPropertyDescriptor%",!0),o=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}t.exports=function(y){var v=s(e,i,arguments);if(a&&o){var E=a(v,"length");E.configurable&&o(v,"length",{value:1+c(0,y.length-(arguments.length-1))})}return v};var h=function(){return s(e,n,arguments)};o?o(t.exports,"apply",{value:h}):t.exports.apply=h})(Uf);var Wf=vu,Hf=Uf.exports,ag=Hf(Wf("String.prototype.indexOf")),ug=function(e,r){var n=Wf(e,!!r);return typeof n=="function"&&ag(e,".prototype.")>-1?Hf(n):n},yu=typeof Map=="function"&&Map.prototype,sa=Object.getOwnPropertyDescriptor&&yu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ps=yu&&sa&&typeof sa.get=="function"?sa.get:null,cg=yu&&Map.prototype.forEach,mu=typeof Set=="function"&&Set.prototype,oa=Object.getOwnPropertyDescriptor&&mu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Bs=mu&&oa&&typeof oa.get=="function"?oa.get:null,lg=mu&&Set.prototype.forEach,fg=typeof WeakMap=="function"&&WeakMap.prototype,Ri=fg?WeakMap.prototype.has:null,hg=typeof WeakSet=="function"&&WeakSet.prototype,Ii=hg?WeakSet.prototype.has:null,dg=typeof WeakRef=="function"&&WeakRef.prototype,kc=dg?WeakRef.prototype.deref:null,pg=Boolean.prototype.valueOf,gg=Object.prototype.toString,bg=Function.prototype.toString,vg=String.prototype.match,Za=typeof BigInt=="function"?BigInt.prototype.valueOf:null,aa=Object.getOwnPropertySymbols,Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",yg=Object.prototype.propertyIsEnumerable,Tc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),ua=qs.custom,ca=ua&&zf(ua)?ua:null,wt=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,mg=function t(e,r,n,i){var s=r||{};if(Yr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Yr(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Gf(e,s);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var o=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=o&&o>0&&typeof e=="object")return Ya(e)?"[Array]":"[Object]";var c=Fg(s,n);if(typeof i>"u")i=[];else if(qf(i,e)>=0)return"[Circular]";function h(ae,re,ce){if(re&&(i=i.slice(),i.push(re)),ce){var _={depth:s.depth};return Yr(s,"quoteStyle")&&(_.quoteStyle=s.quoteStyle),t(ae,_,n+1,i)}return t(ae,s,n+1,i)}if(typeof e=="function"){var g=Ag(e),y=ds(e,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+y.join(", ")+" }":"")}if(zf(e)){var v=Bi?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Qa.call(e);return typeof e=="object"&&!Bi?wi(v):v}if(Pg(e)){for(var E="<"+String(e.nodeName).toLowerCase(),P=e.attributes||[],F=0;F<P.length;F++)E+=" "+P[F].name+"="+Vf(wg(P[F].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+String(e.nodeName).toLowerCase()+">",E}if(Ya(e)){if(e.length===0)return"[]";var W=ds(e,h);return c&&!Dg(W)?"["+Ka(W,c)+"]":"[ "+W.join(", ")+" ]"}if(Sg(e)){var k=ds(e,h);return k.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+k.join(", ")+" }"}if(typeof e=="object"&&a){if(ca&&typeof e[ca]=="function")return e[ca]();if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(kg(e)){var T=[];return cg.call(e,function(ae,re){T.push(h(re,e,!0)+" => "+h(ae,e))}),Nc("Map",Ps.call(e),T,c)}if(Og(e)){var D=[];return lg.call(e,function(ae){D.push(h(ae,e))}),Nc("Set",Bs.call(e),D,c)}if(Tg(e))return la("WeakMap");if(Lg(e))return la("WeakSet");if(Ng(e))return la("WeakRef");if(Mg(e))return wi(h(Number(e)));if(Rg(e))return wi(h(Za.call(e)));if(Cg(e))return wi(pg.call(e));if(xg(e))return wi(h(String(e)));if(!_g(e)&&!Eg(e)){var H=ds(e,h),j=Tc?Tc(e)===Object.prototype:e instanceof Object||e.constructor===Object,J=e instanceof Object?"":"null prototype",ne=!j&&wt&&Object(e)===e&&wt in e?Or(e).slice(8,-1):J?"Object":"",X=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Z=X+(ne||J?"["+[].concat(ne||[],J||[]).join(": ")+"] ":"");return H.length===0?Z+"{}":c?Z+"{"+Ka(H,c)+"}":Z+"{ "+H.join(", ")+" }"}return String(e)};function Vf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function wg(t){return String(t).replace(/"/g,"&quot;")}function Ya(t){return Or(t)==="[object Array]"&&(!wt||!(typeof t=="object"&&wt in t))}function _g(t){return Or(t)==="[object Date]"&&(!wt||!(typeof t=="object"&&wt in t))}function Eg(t){return Or(t)==="[object RegExp]"&&(!wt||!(typeof t=="object"&&wt in t))}function Sg(t){return Or(t)==="[object Error]"&&(!wt||!(typeof t=="object"&&wt in t))}function xg(t){return Or(t)==="[object String]"&&(!wt||!(typeof t=="object"&&wt in t))}function Mg(t){return Or(t)==="[object Number]"&&(!wt||!(typeof t=="object"&&wt in t))}function Cg(t){return Or(t)==="[object Boolean]"&&(!wt||!(typeof t=="object"&&wt in t))}function zf(t){if(Bi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qa)return!1;try{return Qa.call(t),!0}catch{}return!1}function Rg(t){if(!t||typeof t!="object"||!Za)return!1;try{return Za.call(t),!0}catch{}return!1}var Ig=Object.prototype.hasOwnProperty||function(t){return t in this};function Yr(t,e){return Ig.call(t,e)}function Or(t){return gg.call(t)}function Ag(t){if(t.name)return t.name;var e=vg.call(bg.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function qf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function kg(t){if(!Ps||!t||typeof t!="object")return!1;try{Ps.call(t);try{Bs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Tg(t){if(!Ri||!t||typeof t!="object")return!1;try{Ri.call(t,Ri);try{Ii.call(t,Ii)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Ng(t){if(!kc||!t||typeof t!="object")return!1;try{return kc.call(t),!0}catch{}return!1}function Og(t){if(!Bs||!t||typeof t!="object")return!1;try{Bs.call(t);try{Ps.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Lg(t){if(!Ii||!t||typeof t!="object")return!1;try{Ii.call(t,Ii);try{Ri.call(t,Ri)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Pg(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Gf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Gf(t.slice(0,e.maxStringLength),e)+n}var i=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Bg);return Vf(i,"single",e)}function Bg(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function wi(t){return"Object("+t+")"}function la(t){return t+" { ? }"}function Nc(t,e,r,n){var i=n?Ka(r,n):r.join(", ");return t+" ("+e+") {"+i+"}"}function Dg(t){for(var e=0;e<t.length;e++)if(qf(t[e],`
`)>=0)return!1;return!0}function Fg(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function Ka(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function ds(t,e){var r=Ya(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Yr(t,i)?e(t[i],t):""}var s=typeof aa=="function"?aa(t):[],a;if(Bi){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var c in t)!Yr(t,c)||r&&String(Number(c))===c&&c<t.length||Bi&&a["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof aa=="function")for(var h=0;h<s.length;h++)yg.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var wu=vu,li=ug,$g=mg,jg=wu("%TypeError%"),ps=wu("%WeakMap%",!0),gs=wu("%Map%",!0),Ug=li("WeakMap.prototype.get",!0),Wg=li("WeakMap.prototype.set",!0),Hg=li("WeakMap.prototype.has",!0),Vg=li("Map.prototype.get",!0),zg=li("Map.prototype.set",!0),qg=li("Map.prototype.has",!0),_u=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Gg=function(t,e){var r=_u(t,e);return r&&r.value},Jg=function(t,e,r){var n=_u(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Zg=function(t,e){return!!_u(t,e)},Qg=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new jg("Side channel does not contain "+$g(s))},get:function(s){if(ps&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ug(e,s)}else if(gs){if(r)return Vg(r,s)}else if(n)return Gg(n,s)},has:function(s){if(ps&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Hg(e,s)}else if(gs){if(r)return qg(r,s)}else if(n)return Zg(n,s);return!1},set:function(s,a){ps&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ps),Wg(e,s,a)):gs?(r||(r=new gs),zg(r,s,a)):(n||(n={key:{},next:null}),Jg(n,s,a))}};return i},Yg=String.prototype.replace,Kg=/%20/g,fa={RFC1738:"RFC1738",RFC3986:"RFC3986"},Eu={default:fa.RFC3986,formatters:{RFC1738:function(t){return Yg.call(t,Kg,"+")},RFC3986:function(t){return String(t)}},RFC1738:fa.RFC1738,RFC3986:fa.RFC3986},Xg=Eu,ha=Object.prototype.hasOwnProperty,Kr=Array.isArray,Xt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),eb=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Kr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Jf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},tb=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Kr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ha.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Kr(e)&&!Kr(r)&&(i=Jf(e,n)),Kr(e)&&Kr(r)?(r.forEach(function(s,a){if(ha.call(e,a)){var o=e[a];o&&typeof o=="object"&&s&&typeof s=="object"?e[a]=t(o,s,n):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var o=r[a];return ha.call(s,a)?s[a]=t(s[a],o,n):s[a]=o,s},i)},rb=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},nb=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ib=function(e,r,n,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var h=a.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Xg.RFC1738&&(h===40||h===41)){o+=a.charAt(c);continue}if(h<128){o=o+Xt[h];continue}if(h<2048){o=o+(Xt[192|h>>6]+Xt[128|h&63]);continue}if(h<55296||h>=57344){o=o+(Xt[224|h>>12]+Xt[128|h>>6&63]+Xt[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|a.charCodeAt(c)&1023),o+=Xt[240|h>>18]+Xt[128|h>>12&63]+Xt[128|h>>6&63]+Xt[128|h&63]}return o},sb=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var h=o[c],g=a[h];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(r.push({obj:a,prop:h}),n.push(g))}return eb(r),e},ob=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ab=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ub=function(e,r){return[].concat(e,r)},cb=function(e,r){if(Kr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Zf={arrayToObject:Jf,assign:rb,combine:ub,compact:sb,decode:nb,encode:ib,isBuffer:ab,isRegExp:ob,maybeMap:cb,merge:tb},Qf=Qg,Is=Zf,Ai=Eu,lb=Object.prototype.hasOwnProperty,Oc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},dr=Array.isArray,fb=Array.prototype.push,Yf=function(t,e){fb.apply(t,dr(e)?e:[e])},hb=Date.prototype.toISOString,Lc=Ai.default,mt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Is.encode,encodeValuesOnly:!1,format:Lc,formatter:Ai.formatters[Lc],indices:!1,serializeDate:function(e){return hb.call(e)},skipNulls:!1,strictNullHandling:!1},db=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},da={},pb=function t(e,r,n,i,s,a,o,c,h,g,y,v,E,P,F,W){for(var k=e,T=W,D=0,H=!1;(T=T.get(da))!==void 0&&!H;){var j=T.get(e);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");H=!0}typeof T.get(da)>"u"&&(D=0)}if(typeof c=="function"?k=c(r,k):k instanceof Date?k=y(k):n==="comma"&&dr(k)&&(k=Is.maybeMap(k,function(b){return b instanceof Date?y(b):b})),k===null){if(s)return o&&!P?o(r,mt.encoder,F,"key",v):r;k=""}if(db(k)||Is.isBuffer(k)){if(o){var J=P?r:o(r,mt.encoder,F,"key",v);return[E(J)+"="+E(o(k,mt.encoder,F,"value",v))]}return[E(r)+"="+E(String(k))]}var ne=[];if(typeof k>"u")return ne;var X;if(n==="comma"&&dr(k))P&&o&&(k=Is.maybeMap(k,o)),X=[{value:k.length>0?k.join(",")||null:void 0}];else if(dr(c))X=c;else{var Z=Object.keys(k);X=h?Z.sort(h):Z}for(var ae=i&&dr(k)&&k.length===1?r+"[]":r,re=0;re<X.length;++re){var ce=X[re],_=typeof ce=="object"&&typeof ce.value<"u"?ce.value:k[ce];if(!(a&&_===null)){var u=dr(k)?typeof n=="function"?n(ae,ce):ae:ae+(g?"."+ce:"["+ce+"]");W.set(e,D);var p=Qf();p.set(da,W),Yf(ne,t(_,u,n,i,s,a,n==="comma"&&P&&dr(k)?null:o,c,h,g,y,v,E,P,F,p))}}return ne},gb=function(e){if(!e)return mt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||mt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ai.default;if(typeof e.format<"u"){if(!lb.call(Ai.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ai.formatters[n],s=mt.filter;return(typeof e.filter=="function"||dr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:mt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?mt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:mt.charsetSentinel,delimiter:typeof e.delimiter>"u"?mt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:mt.encode,encoder:typeof e.encoder=="function"?e.encoder:mt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:mt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:mt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:mt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:mt.strictNullHandling}},bb=function(t,e){var r=t,n=gb(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):dr(n.filter)&&(s=n.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in Oc?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var c=Oc[o];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var g=Qf(),y=0;y<i.length;++y){var v=i[y];n.skipNulls&&r[v]===null||Yf(a,pb(r[v],v,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var E=a.join(n.delimiter),P=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),E.length>0?P+E:""},Qn=Zf,Xa=Object.prototype.hasOwnProperty,vb=Array.isArray,ct={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Qn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yb=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Kf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},mb="utf8=%26%2310003%3B",wb="utf8=%E2%9C%93",_b=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,s),o=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===wb?h="utf-8":a[c]===mb&&(h="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var g=a[c],y=g.indexOf("]="),v=y===-1?g.indexOf("="):y+1,E,P;v===-1?(E=r.decoder(g,ct.decoder,h,"key"),P=r.strictNullHandling?null:""):(E=r.decoder(g.slice(0,v),ct.decoder,h,"key"),P=Qn.maybeMap(Kf(g.slice(v+1),r),function(F){return r.decoder(F,ct.decoder,h,"value")})),P&&r.interpretNumericEntities&&h==="iso-8859-1"&&(P=yb(P)),g.indexOf("[]=")>-1&&(P=vb(P)?[P]:P),Xa.call(n,E)?n[E]=Qn.combine(n[E],P):n[E]=P}return n},Eb=function(t,e,r,n){for(var i=n?e:Kf(e,r),s=t.length-1;s>=0;--s){var a,o=t[s];if(o==="[]"&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,h=parseInt(c,10);!r.parseArrays&&c===""?a={0:i}:!isNaN(h)&&o!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(a=[],a[h]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},Sb=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(s),h=c?s.slice(0,c.index):s,g=[];if(h){if(!n.plainObjects&&Xa.call(Object.prototype,h)&&!n.allowPrototypes)return;g.push(h)}for(var y=0;n.depth>0&&(c=o.exec(s))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&Xa.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(c[1])}return c&&g.push("["+s.slice(c.index)+"]"),Eb(g,r,n,i)}},xb=function(e){if(!e)return ct;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ct.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ct.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ct.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ct.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ct.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ct.comma,decoder:typeof e.decoder=="function"?e.decoder:ct.decoder,delimiter:typeof e.delimiter=="string"||Qn.isRegExp(e.delimiter)?e.delimiter:ct.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ct.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ct.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ct.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ct.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},Mb=function(t,e){var r=xb(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?_b(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),a=0;a<s.length;++a){var o=s[a],c=Sb(o,n[o],r,typeof t=="string");i=Qn.merge(i,c,r)}return r.allowSparse===!0?i:Qn.compact(i)},Cb=bb,Rb=Mb,Ib=Eu,Ab={formats:Ib,parse:Rb,stringify:Cb},Qi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Qi);var kb=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ie,"__esModule",{value:!0});ie.isInIFrame=ie.createQrUrl=ie.getFavicon=ie.range=ie.isBigNumber=ie.ensureParsedJSONObject=ie.ensureBN=ie.ensureRegExpString=ie.ensureIntNumber=ie.ensureBuffer=ie.ensureAddressString=ie.ensureEvenLengthHexString=ie.ensureHexString=ie.isHexString=ie.prepend0x=ie.strip0x=ie.has0xPrefix=ie.hexStringFromIntNumber=ie.intNumberFromHexString=ie.bigIntStringFromBN=ie.hexStringFromBuffer=ie.hexStringToUint8Array=ie.uint8ArrayToHex=ie.randomBytesHex=void 0;const Sr=kb(Wi.exports),Tb=Ab,bn=Hi,$t=Qi,Xf=/^[0-9]*$/,eh=/^[a-f0-9]*$/;function Nb(t){return th(crypto.getRandomValues(new Uint8Array(t)))}ie.randomBytesHex=Nb;function th(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}ie.uint8ArrayToHex=th;function Ob(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}ie.hexStringToUint8Array=Ob;function Lb(t,e=!1){const r=t.toString("hex");return(0,$t.HexString)(e?"0x"+r:r)}ie.hexStringFromBuffer=Lb;function Pb(t){return(0,$t.BigIntString)(t.toString(10))}ie.bigIntStringFromBN=Pb;function Bb(t){return(0,$t.IntNumber)(new Sr.default(Ki(t,!1),16).toNumber())}ie.intNumberFromHexString=Bb;function Db(t){return(0,$t.HexString)("0x"+new Sr.default(t).toString(16))}ie.hexStringFromIntNumber=Db;function Su(t){return t.startsWith("0x")||t.startsWith("0X")}ie.has0xPrefix=Su;function to(t){return Su(t)?t.slice(2):t}ie.strip0x=to;function rh(t){return Su(t)?"0x"+t.slice(2):"0x"+t}ie.prepend0x=rh;function Yi(t){if(typeof t!="string")return!1;const e=to(t).toLowerCase();return eh.test(e)}ie.isHexString=Yi;function nh(t,e=!1){if(typeof t=="string"){const r=to(t).toLowerCase();if(eh.test(r))return(0,$t.HexString)(e?"0x"+r:r)}throw bn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}ie.ensureHexString=nh;function Ki(t,e=!1){let r=nh(t,!1);return r.length%2===1&&(r=(0,$t.HexString)("0"+r)),e?(0,$t.HexString)("0x"+r):r}ie.ensureEvenLengthHexString=Ki;function Fb(t){if(typeof t=="string"){const e=to(t).toLowerCase();if(Yi(e)&&e.length===40)return(0,$t.AddressString)(rh(e))}throw bn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}ie.ensureAddressString=Fb;function $b(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Yi(t)){const e=Ki(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw bn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}ie.ensureBuffer=$b;function ih(t){if(typeof t=="number"&&Number.isInteger(t))return(0,$t.IntNumber)(t);if(typeof t=="string"){if(Xf.test(t))return(0,$t.IntNumber)(Number(t));if(Yi(t))return(0,$t.IntNumber)(new Sr.default(Ki(t,!1),16).toNumber())}throw bn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}ie.ensureIntNumber=ih;function jb(t){if(t instanceof RegExp)return(0,$t.RegExpString)(t.toString());throw bn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}ie.ensureRegExpString=jb;function Ub(t){if(t!==null&&(Sr.default.isBN(t)||sh(t)))return new Sr.default(t.toString(10),10);if(typeof t=="number")return new Sr.default(ih(t));if(typeof t=="string"){if(Xf.test(t))return new Sr.default(t,10);if(Yi(t))return new Sr.default(Ki(t,!1),16)}throw bn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}ie.ensureBN=Ub;function Wb(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw bn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}ie.ensureParsedJSONObject=Wb;function sh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}ie.isBigNumber=sh;function Hb(t,e){return Array.from({length:e-t},(r,n)=>t+n)}ie.range=Hb;function Vb(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}ie.getFavicon=Vb;function zb(t,e,r,n,i,s){const a=n?"parent-id":"id",o=(0,Tb.stringify)({[a]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${o}`}ie.createQrUrl=zb;function qb(){try{return window.frameElement!==null}catch{return!1}}ie.isInIFrame=qb;Object.defineProperty(ui,"__esModule",{value:!0});ui.Session=void 0;const Pc=Nf.exports,Bc=ie,Dc="session:id",Fc="session:secret",$c="session:linked";class xu{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Bc.randomBytesHex)(16),this._secret=n||(0,Bc.randomBytesHex)(32),this._key=new Pc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Dc),n=e.getItem($c),i=e.getItem(Fc);return r&&i?new xu(e,r,i,n==="1"):null}static hash(e){return new Pc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Dc,this._id),this._storage.setItem(Fc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem($c,this._linked?"1":"0")}}ui.Session=xu;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.WalletSDKRelayAbstract=Zt.APP_VERSION_KEY=Zt.LOCAL_STORAGE_ADDRESSES_KEY=Zt.WALLET_USER_NAME_KEY=void 0;const jc=Hi;Zt.WALLET_USER_NAME_KEY="walletUsername";Zt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Zt.APP_VERSION_KEY="AppVersion";class Gb{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw jc.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,jc.serializeError)(s,e.method);return i})}}Zt.WalletSDKRelayAbstract=Gb;var Ds={exports:{}},oh=hu.exports.EventEmitter,pa,Uc;function Jb(){if(Uc)return pa;Uc=1;function t(v,E){var P=Object.keys(v);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(v);E&&(F=F.filter(function(W){return Object.getOwnPropertyDescriptor(v,W).enumerable})),P.push.apply(P,F)}return P}function e(v){for(var E=1;E<arguments.length;E++){var P=arguments[E]!=null?arguments[E]:{};E%2?t(Object(P),!0).forEach(function(F){r(v,F,P[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(P)):t(Object(P)).forEach(function(F){Object.defineProperty(v,F,Object.getOwnPropertyDescriptor(P,F))})}return v}function r(v,E,P){return E in v?Object.defineProperty(v,E,{value:P,enumerable:!0,configurable:!0,writable:!0}):v[E]=P,v}function n(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function i(v,E){for(var P=0;P<E.length;P++){var F=E[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(v,F.key,F)}}function s(v,E,P){return E&&i(v.prototype,E),P&&i(v,P),v}var a=zi,o=a.Buffer,c=qs,h=c.inspect,g=h&&h.custom||"inspect";function y(v,E,P){o.prototype.copy.call(v,E,P)}return pa=function(){function v(){n(this,v),this.head=null,this.tail=null,this.length=0}return s(v,[{key:"push",value:function(P){var F={data:P,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}},{key:"unshift",value:function(P){var F={data:P,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var F=this.head,W=""+F.data;F=F.next;)W+=P+F.data;return W}},{key:"concat",value:function(P){if(this.length===0)return o.alloc(0);for(var F=o.allocUnsafe(P>>>0),W=this.head,k=0;W;)y(W.data,F,k),k+=W.data.length,W=W.next;return F}},{key:"consume",value:function(P,F){var W;return P<this.head.data.length?(W=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?W=this.shift():W=F?this._getString(P):this._getBuffer(P),W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var F=this.head,W=1,k=F.data;for(P-=k.length;F=F.next;){var T=F.data,D=P>T.length?T.length:P;if(D===T.length?k+=T:k+=T.slice(0,P),P-=D,P===0){D===T.length?(++W,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=T.slice(D));break}++W}return this.length-=W,k}},{key:"_getBuffer",value:function(P){var F=o.allocUnsafe(P),W=this.head,k=1;for(W.data.copy(F),P-=W.data.length;W=W.next;){var T=W.data,D=P>T.length?T.length:P;if(T.copy(F,F.length-P,0,D),P-=D,P===0){D===T.length?(++k,W.next?this.head=W.next:this.head=this.tail=null):(this.head=W,W.data=T.slice(D));break}++k}return this.length-=k,F}},{key:g,value:function(P,F){return h(this,e({},F,{depth:0,customInspect:!1}))}}]),v}(),pa}function Zb(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(eu,this,t)):process.nextTick(eu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(As,r):(r._writableState.errorEmitted=!0,process.nextTick(Wc,r,s)):process.nextTick(Wc,r,s):e?(process.nextTick(As,r),e(s)):process.nextTick(As,r)}),this)}function Wc(t,e){eu(t,e),As(t)}function As(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Qb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function eu(t,e){t.emit("error",e)}function Yb(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var ah={destroy:Zb,undestroy:Qb,errorOrDestroy:Yb},vn={};function Kb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var uh={};function Ut(t,e,r){r||(r=Error);function n(s,a,o){return typeof e=="string"?e:e(s,a,o)}var i=function(s){Kb(a,s);function a(o,c,h){return s.call(this,n(o,c,h))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=t,uh[t]=i}function Hc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Xb(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ev(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function tv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ut("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ut("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Xb(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(ev(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Hc(e,"type"));else{var s=tv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Hc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ut("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ut("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ut("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ut("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ut("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ut("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ut("ERR_STREAM_WRITE_AFTER_END","write after end");Ut("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ut("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ut("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");vn.codes=uh;var rv=vn.codes.ERR_INVALID_OPT_VALUE;function nv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function iv(t,e,r,n){var i=nv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new rv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var ch={getHighWaterMark:iv},sv=ov;function ov(t,e){if(ga("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ga("throwDeprecation"))throw new Error(e);ga("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ga(t){try{if(!te.localStorage)return!1}catch{return!1}var e=te.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ba,Vc;function lh(){if(Vc)return ba;Vc=1,ba=X;function t(N){var B=this;this.next=null,this.entry=null,this.finish=function(){K(B,N)}}var e;X.WritableState=J;var r={deprecate:sv},n=oh,i=zi.Buffer,s=te.Uint8Array||function(){};function a(N){return i.from(N)}function o(N){return i.isBuffer(N)||N instanceof s}var c=ah,h=ch,g=h.getHighWaterMark,y=vn.codes,v=y.ERR_INVALID_ARG_TYPE,E=y.ERR_METHOD_NOT_IMPLEMENTED,P=y.ERR_MULTIPLE_CALLBACK,F=y.ERR_STREAM_CANNOT_PIPE,W=y.ERR_STREAM_DESTROYED,k=y.ERR_STREAM_NULL_VALUES,T=y.ERR_STREAM_WRITE_AFTER_END,D=y.ERR_UNKNOWN_ENCODING,H=c.errorOrDestroy;Qt.exports(X,n);function j(){}function J(N,B,U){e=e||Yn(),N=N||{},typeof U!="boolean"&&(U=B instanceof e),this.objectMode=!!N.objectMode,U&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=g(this,N,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=N.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){b(B,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}J.prototype.getBuffer=function(){for(var B=this.bufferedRequest,U=[];B;)U.push(B),B=B.next;return U},function(){try{Object.defineProperty(J.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(B){return ne.call(this,B)?!0:this!==X?!1:B&&B._writableState instanceof J}})):ne=function(B){return B instanceof this};function X(N){e=e||Yn();var B=this instanceof e;if(!B&&!ne.call(X,this))return new X(N);this._writableState=new J(N,this,B),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),n.call(this)}X.prototype.pipe=function(){H(this,new F)};function Z(N,B){var U=new T;H(N,U),process.nextTick(B,U)}function ae(N,B,U,Y){var pe;return U===null?pe=new k:typeof U!="string"&&!B.objectMode&&(pe=new v("chunk",["string","Buffer"],U)),pe?(H(N,pe),process.nextTick(Y,pe),!1):!0}X.prototype.write=function(N,B,U){var Y=this._writableState,pe=!1,M=!Y.objectMode&&o(N);return M&&!i.isBuffer(N)&&(N=a(N)),typeof B=="function"&&(U=B,B=null),M?B="buffer":B||(B=Y.defaultEncoding),typeof U!="function"&&(U=j),Y.ending?Z(this,U):(M||ae(this,Y,N,U))&&(Y.pendingcb++,pe=ce(this,Y,M,N,B,U)),pe},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,!N.writing&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&A(this,N))},X.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new D(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function re(N,B,U){return!N.objectMode&&N.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,U)),B}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ce(N,B,U,Y,pe,M){if(!U){var C=re(B,Y,pe);Y!==C&&(U=!0,pe="buffer",Y=C)}var V=B.objectMode?1:Y.length;B.length+=V;var G=B.length<B.highWaterMark;if(G||(B.needDrain=!0),B.writing||B.corked){var fe=B.lastBufferedRequest;B.lastBufferedRequest={chunk:Y,encoding:pe,isBuf:U,callback:M,next:null},fe?fe.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else _(N,B,!1,V,Y,pe,M);return G}function _(N,B,U,Y,pe,M,C){B.writelen=Y,B.writecb=C,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new W("write")):U?N._writev(pe,B.onwrite):N._write(pe,M,B.onwrite),B.sync=!1}function u(N,B,U,Y,pe){--B.pendingcb,U?(process.nextTick(pe,Y),process.nextTick(R,N,B),N._writableState.errorEmitted=!0,H(N,Y)):(pe(Y),N._writableState.errorEmitted=!0,H(N,Y),R(N,B))}function p(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}function b(N,B){var U=N._writableState,Y=U.sync,pe=U.writecb;if(typeof pe!="function")throw new P;if(p(U),B)u(N,U,Y,B,pe);else{var M=O(U)||N.destroyed;!M&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&A(N,U),Y?process.nextTick(S,N,U,M,pe):S(N,U,M,pe)}}function S(N,B,U,Y){U||x(N,B),B.pendingcb--,Y(),R(N,B)}function x(N,B){B.length===0&&B.needDrain&&(B.needDrain=!1,N.emit("drain"))}function A(N,B){B.bufferProcessing=!0;var U=B.bufferedRequest;if(N._writev&&U&&U.next){var Y=B.bufferedRequestCount,pe=new Array(Y),M=B.corkedRequestsFree;M.entry=U;for(var C=0,V=!0;U;)pe[C]=U,U.isBuf||(V=!1),U=U.next,C+=1;pe.allBuffers=V,_(N,B,!0,B.length,pe,"",M.finish),B.pendingcb++,B.lastBufferedRequest=null,M.next?(B.corkedRequestsFree=M.next,M.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;U;){var G=U.chunk,fe=U.encoding,m=U.callback,f=B.objectMode?1:G.length;if(_(N,B,!1,f,G,fe,m),U=U.next,B.bufferedRequestCount--,B.writing)break}U===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=U,B.bufferProcessing=!1}X.prototype._write=function(N,B,U){U(new E("_write()"))},X.prototype._writev=null,X.prototype.end=function(N,B,U){var Y=this._writableState;return typeof N=="function"?(U=N,N=null,B=null):typeof B=="function"&&(U=B,B=null),N!=null&&this.write(N,B),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Q(this,Y,U),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function O(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function w(N,B){N._final(function(U){B.pendingcb--,U&&H(N,U),B.prefinished=!0,N.emit("prefinish"),R(N,B)})}function l(N,B){!B.prefinished&&!B.finalCalled&&(typeof N._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,process.nextTick(w,N,B)):(B.prefinished=!0,N.emit("prefinish")))}function R(N,B){var U=O(B);if(U&&(l(N,B),B.pendingcb===0&&(B.finished=!0,N.emit("finish"),B.autoDestroy))){var Y=N._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&N.destroy()}return U}function Q(N,B,U){B.ending=!0,R(N,B),U&&(B.finished?process.nextTick(U):N.once("finish",U)),B.ended=!0,N.writable=!1}function K(N,B,U){var Y=N.entry;for(N.entry=null;Y;){var pe=Y.callback;B.pendingcb--,pe(U),Y=Y.next}B.corkedRequestsFree.next=N}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){!this._writableState||(this._writableState.destroyed=B)}}),X.prototype.destroy=c.destroy,X.prototype._undestroy=c.undestroy,X.prototype._destroy=function(N,B){B(N)},ba}var va,zc;function Yn(){if(zc)return va;zc=1;var t=Object.keys||function(h){var g=[];for(var y in h)g.push(y);return g};va=a;var e=hh(),r=lh();Qt.exports(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(h){if(!(this instanceof a))return new a(h);e.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(c,this)}function c(h){h.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),va}var ya={},qc;function Gc(){if(qc)return ya;qc=1;var t=cr.exports.Buffer,e=t.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(k){if(!k)return"utf8";for(var T;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(T)return;k=(""+k).toLowerCase(),T=!0}}function n(k){var T=r(k);if(typeof T!="string"&&(t.isEncoding===e||!e(k)))throw new Error("Unknown encoding: "+k);return T||k}ya.StringDecoder=i;function i(k){this.encoding=n(k);var T;switch(this.encoding){case"utf16le":this.text=y,this.end=v,T=4;break;case"utf8":this.fillLast=c,T=4;break;case"base64":this.text=E,this.end=P,T=3;break;default:this.write=F,this.end=W;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(T)}i.prototype.write=function(k){if(k.length===0)return"";var T,D;if(this.lastNeed){if(T=this.fillLast(k),T===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<k.length?T?T+this.text(k,D):this.text(k,D):T||""},i.prototype.end=g,i.prototype.text=h,i.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function s(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function a(k,T,D){var H=T.length-1;if(H<D)return 0;var j=s(T[H]);return j>=0?(j>0&&(k.lastNeed=j-1),j):--H<D||j===-2?0:(j=s(T[H]),j>=0?(j>0&&(k.lastNeed=j-2),j):--H<D||j===-2?0:(j=s(T[H]),j>=0?(j>0&&(j===2?j=0:k.lastNeed=j-3),j):0))}function o(k,T,D){if((T[0]&192)!==128)return k.lastNeed=0,"\uFFFD";if(k.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return k.lastNeed=1,"\uFFFD";if(k.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return k.lastNeed=2,"\uFFFD"}}function c(k){var T=this.lastTotal-this.lastNeed,D=o(this,k);if(D!==void 0)return D;if(this.lastNeed<=k.length)return k.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,T,0,k.length),this.lastNeed-=k.length}function h(k,T){var D=a(this,k,T);if(!this.lastNeed)return k.toString("utf8",T);this.lastTotal=D;var H=k.length-(D-this.lastNeed);return k.copy(this.lastChar,0,H),k.toString("utf8",T,H)}function g(k){var T=k&&k.length?this.write(k):"";return this.lastNeed?T+"\uFFFD":T}function y(k,T){if((k.length-T)%2===0){var D=k.toString("utf16le",T);if(D){var H=D.charCodeAt(D.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",T,k.length-1)}function v(k){var T=k&&k.length?this.write(k):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,D)}return T}function E(k,T){var D=(k.length-T)%3;return D===0?k.toString("base64",T):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",T,k.length-D))}function P(k){var T=k&&k.length?this.write(k):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function F(k){return k.toString(this.encoding)}function W(k){return k&&k.length?this.write(k):""}return ya}var Jc=vn.codes.ERR_STREAM_PREMATURE_CLOSE;function av(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function uv(){}function cv(t){return t.setHeader&&typeof t.abort=="function"}function fh(t,e,r){if(typeof e=="function")return fh(t,null,e);e||(e={}),r=av(r||uv);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||o()},a=t._writableState&&t._writableState.finished,o=function(){i=!1,a=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,c=!0,i||r.call(t)},g=function(P){r.call(t,P)},y=function(){var P;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(P=new Jc),r.call(t,P);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(P=new Jc),r.call(t,P)},v=function(){t.req.on("finish",o)};return cv(t)?(t.on("complete",o),t.on("abort",y),t.req?v():t.on("request",v)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",o),e.error!==!1&&t.on("error",g),t.on("close",y),function(){t.removeListener("complete",o),t.removeListener("abort",y),t.removeListener("request",v),t.req&&t.req.removeListener("finish",o),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",o),t.removeListener("end",h),t.removeListener("error",g),t.removeListener("close",y)}}var Mu=fh,ma,Zc;function lv(){if(Zc)return ma;Zc=1;var t;function e(k,T,D){return T in k?Object.defineProperty(k,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[T]=D,k}var r=Mu,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function g(k,T){return{value:k,done:T}}function y(k){var T=k[n];if(T!==null){var D=k[h].read();D!==null&&(k[o]=null,k[n]=null,k[i]=null,T(g(D,!1)))}}function v(k){process.nextTick(y,k)}function E(k,T){return function(D,H){k.then(function(){if(T[a]){D(g(void 0,!0));return}T[c](D,H)},H)}}var P=Object.getPrototypeOf(function(){}),F=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var T=this,D=this[s];if(D!==null)return Promise.reject(D);if(this[a])return Promise.resolve(g(void 0,!0));if(this[h].destroyed)return new Promise(function(ne,X){process.nextTick(function(){T[s]?X(T[s]):ne(g(void 0,!0))})});var H=this[o],j;if(H)j=new Promise(E(H,this));else{var J=this[h].read();if(J!==null)return Promise.resolve(g(J,!1));j=new Promise(this[c])}return this[o]=j,j}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var T=this;return new Promise(function(D,H){T[h].destroy(null,function(j){if(j){H(j);return}D(g(void 0,!0))})})}),t),P),W=function(T){var D,H=Object.create(F,(D={},e(D,h,{value:T,writable:!0}),e(D,n,{value:null,writable:!0}),e(D,i,{value:null,writable:!0}),e(D,s,{value:null,writable:!0}),e(D,a,{value:T._readableState.endEmitted,writable:!0}),e(D,c,{value:function(J,ne){var X=H[h].read();X?(H[o]=null,H[n]=null,H[i]=null,J(g(X,!1))):(H[n]=J,H[i]=ne)},writable:!0}),D));return H[o]=null,r(T,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=H[i];J!==null&&(H[o]=null,H[n]=null,H[i]=null,J(j)),H[s]=j;return}var ne=H[n];ne!==null&&(H[o]=null,H[n]=null,H[i]=null,ne(g(void 0,!0))),H[a]=!0}),T.on("readable",v.bind(null,H)),H};return ma=W,ma}var wa,Qc;function fv(){return Qc||(Qc=1,wa=function(){throw new Error("Readable.from is not available in the browser")}),wa}var _a,Yc;function hh(){if(Yc)return _a;Yc=1,_a=Z;var t;Z.ReadableState=X,hu.exports.EventEmitter;var e=function(C,V){return C.listeners(V).length},r=oh,n=zi.Buffer,i=te.Uint8Array||function(){};function s(M){return n.from(M)}function a(M){return n.isBuffer(M)||M instanceof i}var o=qs,c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var h=Jb(),g=ah,y=ch,v=y.getHighWaterMark,E=vn.codes,P=E.ERR_INVALID_ARG_TYPE,F=E.ERR_STREAM_PUSH_AFTER_EOF,W=E.ERR_METHOD_NOT_IMPLEMENTED,k=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,D,H;Qt.exports(Z,r);var j=g.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ne(M,C,V){if(typeof M.prependListener=="function")return M.prependListener(C,V);!M._events||!M._events[C]?M.on(C,V):Array.isArray(M._events[C])?M._events[C].unshift(V):M._events[C]=[V,M._events[C]]}function X(M,C,V){t=t||Yn(),M=M||{},typeof V!="boolean"&&(V=C instanceof t),this.objectMode=!!M.objectMode,V&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=v(this,M,"readableHighWaterMark",V),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(T||(T=Gc().StringDecoder),this.decoder=new T(M.encoding),this.encoding=M.encoding)}function Z(M){if(t=t||Yn(),!(this instanceof Z))return new Z(M);var C=this instanceof t;this._readableState=new X(M,this,C),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){!this._readableState||(this._readableState.destroyed=C)}}),Z.prototype.destroy=g.destroy,Z.prototype._undestroy=g.undestroy,Z.prototype._destroy=function(M,C){C(M)},Z.prototype.push=function(M,C){var V=this._readableState,G;return V.objectMode?G=!0:typeof M=="string"&&(C=C||V.defaultEncoding,C!==V.encoding&&(M=n.from(M,C),C=""),G=!0),ae(this,M,C,!1,G)},Z.prototype.unshift=function(M){return ae(this,M,null,!0,!1)};function ae(M,C,V,G,fe){c("readableAddChunk",C);var m=M._readableState;if(C===null)m.reading=!1,b(M,m);else{var f;if(fe||(f=ce(m,C)),f)j(M,f);else if(m.objectMode||C&&C.length>0)if(typeof C!="string"&&!m.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=s(C)),G)m.endEmitted?j(M,new k):re(M,m,C,!0);else if(m.ended)j(M,new F);else{if(m.destroyed)return!1;m.reading=!1,m.decoder&&!V?(C=m.decoder.write(C),m.objectMode||C.length!==0?re(M,m,C,!1):A(M,m)):re(M,m,C,!1)}else G||(m.reading=!1,A(M,m))}return!m.ended&&(m.length<m.highWaterMark||m.length===0)}function re(M,C,V,G){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,M.emit("data",V)):(C.length+=C.objectMode?1:V.length,G?C.buffer.unshift(V):C.buffer.push(V),C.needReadable&&S(M)),A(M,C)}function ce(M,C){var V;return!a(C)&&typeof C!="string"&&C!==void 0&&!M.objectMode&&(V=new P("chunk",["string","Buffer","Uint8Array"],C)),V}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(M){T||(T=Gc().StringDecoder);var C=new T(M);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,G="";V!==null;)G+=C.write(V.data),V=V.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var _=1073741824;function u(M){return M>=_?M=_:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function p(M,C){return M<=0||C.length===0&&C.ended?0:C.objectMode?1:M!==M?C.flowing&&C.length?C.buffer.head.data.length:C.length:(M>C.highWaterMark&&(C.highWaterMark=u(M)),M<=C.length?M:C.ended?C.length:(C.needReadable=!0,0))}Z.prototype.read=function(M){c("read",M),M=parseInt(M,10);var C=this._readableState,V=M;if(M!==0&&(C.emittedReadable=!1),M===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return c("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?U(this):S(this),null;if(M=p(M,C),M===0&&C.ended)return C.length===0&&U(this),null;var G=C.needReadable;c("need readable",G),(C.length===0||C.length-M<C.highWaterMark)&&(G=!0,c("length less than watermark",G)),C.ended||C.reading?(G=!1,c("reading or ended",G)):G&&(c("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(M=p(V,C)));var fe;return M>0?fe=B(M,C):fe=null,fe===null?(C.needReadable=C.length<=C.highWaterMark,M=0):(C.length-=M,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),V!==M&&C.ended&&U(this)),fe!==null&&this.emit("data",fe),fe};function b(M,C){if(c("onEofChunk"),!C.ended){if(C.decoder){var V=C.decoder.end();V&&V.length&&(C.buffer.push(V),C.length+=C.objectMode?1:V.length)}C.ended=!0,C.sync?S(M):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,x(M)))}}function S(M){var C=M._readableState;c("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(c("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(x,M))}function x(M){var C=M._readableState;c("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(M.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,N(M)}function A(M,C){C.readingMore||(C.readingMore=!0,process.nextTick(O,M,C))}function O(M,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var V=C.length;if(c("maybeReadMore read 0"),M.read(0),V===C.length)break}C.readingMore=!1}Z.prototype._read=function(M){j(this,new W("_read()"))},Z.prototype.pipe=function(M,C){var V=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=M;break;case 1:G.pipes=[G.pipes,M];break;default:G.pipes.push(M);break}G.pipesCount+=1,c("pipe count=%d opts=%j",G.pipesCount,C);var fe=(!C||C.end!==!1)&&M!==process.stdout&&M!==process.stderr,m=fe?d:he;G.endEmitted?process.nextTick(m):V.once("end",m),M.on("unpipe",f);function f(ue,at){c("onunpipe"),ue===V&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,$())}function d(){c("onend"),M.end()}var I=w(V);M.on("drain",I);var L=!1;function $(){c("cleanup"),M.removeListener("close",se),M.removeListener("finish",me),M.removeListener("drain",I),M.removeListener("error",ee),M.removeListener("unpipe",f),V.removeListener("end",d),V.removeListener("end",he),V.removeListener("data",q),L=!0,G.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&I()}V.on("data",q);function q(ue){c("ondata");var at=M.write(ue);c("dest.write",at),at===!1&&((G.pipesCount===1&&G.pipes===M||G.pipesCount>1&&pe(G.pipes,M)!==-1)&&!L&&(c("false write response, pause",G.awaitDrain),G.awaitDrain++),V.pause())}function ee(ue){c("onerror",ue),he(),M.removeListener("error",ee),e(M,"error")===0&&j(M,ue)}ne(M,"error",ee);function se(){M.removeListener("finish",me),he()}M.once("close",se);function me(){c("onfinish"),M.removeListener("close",se),he()}M.once("finish",me);function he(){c("unpipe"),V.unpipe(M)}return M.emit("pipe",V),G.flowing||(c("pipe resume"),V.resume()),M};function w(M){return function(){var V=M._readableState;c("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,V.awaitDrain===0&&e(M,"data")&&(V.flowing=!0,N(M))}}Z.prototype.unpipe=function(M){var C=this._readableState,V={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return M&&M!==C.pipes?this:(M||(M=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,M&&M.emit("unpipe",this,V),this);if(!M){var G=C.pipes,fe=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var m=0;m<fe;m++)G[m].emit("unpipe",this,{hasUnpiped:!1});return this}var f=pe(C.pipes,M);return f===-1?this:(C.pipes.splice(f,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),M.emit("unpipe",this,V),this)},Z.prototype.on=function(M,C){var V=r.prototype.on.call(this,M,C),G=this._readableState;return M==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):M==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,c("on readable",G.length,G.reading),G.length?S(this):G.reading||process.nextTick(R,this)),V},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(M,C){var V=r.prototype.removeListener.call(this,M,C);return M==="readable"&&process.nextTick(l,this),V},Z.prototype.removeAllListeners=function(M){var C=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&process.nextTick(l,this),C};function l(M){var C=M._readableState;C.readableListening=M.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:M.listenerCount("data")>0&&M.resume()}function R(M){c("readable nexttick read 0"),M.read(0)}Z.prototype.resume=function(){var M=this._readableState;return M.flowing||(c("resume"),M.flowing=!M.readableListening,Q(this,M)),M.paused=!1,this};function Q(M,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(K,M,C))}function K(M,C){c("resume",C.reading),C.reading||M.read(0),C.resumeScheduled=!1,M.emit("resume"),N(M),C.flowing&&!C.reading&&M.read(0)}Z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function N(M){var C=M._readableState;for(c("flow",C.flowing);C.flowing&&M.read()!==null;);}Z.prototype.wrap=function(M){var C=this,V=this._readableState,G=!1;M.on("end",function(){if(c("wrapped end"),V.decoder&&!V.ended){var f=V.decoder.end();f&&f.length&&C.push(f)}C.push(null)}),M.on("data",function(f){if(c("wrapped data"),V.decoder&&(f=V.decoder.write(f)),!(V.objectMode&&f==null)&&!(!V.objectMode&&(!f||!f.length))){var d=C.push(f);d||(G=!0,M.pause())}});for(var fe in M)this[fe]===void 0&&typeof M[fe]=="function"&&(this[fe]=function(d){return function(){return M[d].apply(M,arguments)}}(fe));for(var m=0;m<J.length;m++)M.on(J[m],this.emit.bind(this,J[m]));return this._read=function(f){c("wrapped _read",f),G&&(G=!1,M.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=lv()),D(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),Z._fromList=B,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(M,C){if(C.length===0)return null;var V;return C.objectMode?V=C.buffer.shift():!M||M>=C.length?(C.decoder?V=C.buffer.join(""):C.buffer.length===1?V=C.buffer.first():V=C.buffer.concat(C.length),C.buffer.clear()):V=C.buffer.consume(M,C.decoder),V}function U(M){var C=M._readableState;c("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick(Y,C,M))}function Y(M,C){if(c("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,C.readable=!1,C.emit("end"),M.autoDestroy)){var V=C._writableState;(!V||V.autoDestroy&&V.finished)&&C.destroy()}}typeof Symbol=="function"&&(Z.from=function(M,C){return H===void 0&&(H=fv()),H(Z,M,C)});function pe(M,C){for(var V=0,G=M.length;V<G;V++)if(M[V]===C)return V;return-1}return _a}var dh=br,ro=vn.codes,hv=ro.ERR_METHOD_NOT_IMPLEMENTED,dv=ro.ERR_MULTIPLE_CALLBACK,pv=ro.ERR_TRANSFORM_ALREADY_TRANSFORMING,gv=ro.ERR_TRANSFORM_WITH_LENGTH_0,no=Yn();Qt.exports(br,no);function bv(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new dv);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function br(t){if(!(this instanceof br))return new br(t);no.call(this,t),this._transformState={afterTransform:bv.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vv)}function vv(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Kc(t,e,r)}):Kc(this,null,null)}br.prototype.push=function(t,e){return this._transformState.needTransform=!1,no.prototype.push.call(this,t,e)};br.prototype._transform=function(t,e,r){r(new hv("_transform()"))};br.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};br.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};br.prototype._destroy=function(t,e){no.prototype._destroy.call(this,t,function(r){e(r)})};function Kc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new gv;if(t._transformState.transforming)throw new pv;return t.push(null)}var yv=Di,ph=dh;Qt.exports(Di,ph);function Di(t){if(!(this instanceof Di))return new Di(t);ph.call(this,t)}Di.prototype._transform=function(t,e,r){r(null,t)};var Ea;function mv(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var gh=vn.codes,wv=gh.ERR_MISSING_ARGS,_v=gh.ERR_STREAM_DESTROYED;function Xc(t){if(t)throw t}function Ev(t){return t.setHeader&&typeof t.abort=="function"}function Sv(t,e,r,n){n=mv(n);var i=!1;t.on("close",function(){i=!0}),Ea===void 0&&(Ea=Mu),Ea(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,Ev(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new _v("pipe"))}}}function el(t){t()}function xv(t,e){return t.pipe(e)}function Mv(t){return!t.length||typeof t[t.length-1]!="function"?Xc:t.pop()}function Cv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Mv(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new wv("streams");var i,s=e.map(function(a,o){var c=o<e.length-1,h=o>0;return Sv(a,c,h,function(g){i||(i=g),g&&s.forEach(el),!c&&(s.forEach(el),n(i))})});return e.reduce(xv)}var Rv=Cv;(function(t,e){e=t.exports=hh(),e.Stream=e,e.Readable=e,e.Writable=lh(),e.Duplex=Yn(),e.Transform=dh,e.PassThrough=yv,e.finished=Mu,e.pipeline=Rv})(Ds,Ds.exports);const{Transform:Iv}=Ds.exports;var Av=t=>class bh extends Iv{constructor(r,n,i,s,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=a,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new bh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:kv}=Ds.exports;var Tv=t=>class vh extends kv{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new vh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Nv=Av,Ov=Tv;var Lv=function(t){const e=Nv(t),r=Ov(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},yh={};const tl=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];yh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],g=t[8]^t[18]^t[28]^t[38]^t[48],y=t[9]^t[19]^t[29]^t[39]^t[49];let v=g^(i<<1|s>>>31),E=y^(s<<1|i>>>31);const P=t[0]^v,F=t[1]^E,W=t[10]^v,k=t[11]^E,T=t[20]^v,D=t[21]^E,H=t[30]^v,j=t[31]^E,J=t[40]^v,ne=t[41]^E;v=r^(a<<1|o>>>31),E=n^(o<<1|a>>>31);const X=t[2]^v,Z=t[3]^E,ae=t[12]^v,re=t[13]^E,ce=t[22]^v,_=t[23]^E,u=t[32]^v,p=t[33]^E,b=t[42]^v,S=t[43]^E;v=i^(c<<1|h>>>31),E=s^(h<<1|c>>>31);const x=t[4]^v,A=t[5]^E,O=t[14]^v,w=t[15]^E,l=t[24]^v,R=t[25]^E,Q=t[34]^v,K=t[35]^E,N=t[44]^v,B=t[45]^E;v=a^(g<<1|y>>>31),E=o^(y<<1|g>>>31);const U=t[6]^v,Y=t[7]^E,pe=t[16]^v,M=t[17]^E,C=t[26]^v,V=t[27]^E,G=t[36]^v,fe=t[37]^E,m=t[46]^v,f=t[47]^E;v=c^(r<<1|n>>>31),E=h^(n<<1|r>>>31);const d=t[8]^v,I=t[9]^E,L=t[18]^v,$=t[19]^E,q=t[28]^v,ee=t[29]^E,se=t[38]^v,me=t[39]^E,he=t[48]^v,ue=t[49]^E,at=P,xe=F,Me=k<<4|W>>>28,_n=W<<4|k>>>28,Ie=T<<3|D>>>29,Ae=D<<3|T>>>29,En=j<<9|H>>>23,ke=H<<9|j>>>23,Te=J<<18|ne>>>14,Sn=ne<<18|J>>>14,Ne=X<<1|Z>>>31,Oe=Z<<1|X>>>31,xn=re<<12|ae>>>20,Le=ae<<12|re>>>20,Pe=ce<<10|_>>>22,Mn=_<<10|ce>>>22,Be=p<<13|u>>>19,De=u<<13|p>>>19,Cn=b<<2|S>>>30,Fe=S<<2|b>>>30,$e=A<<30|x>>>2,Rn=x<<30|A>>>2,je=O<<6|w>>>26,Ue=w<<6|O>>>26,In=R<<11|l>>>21,We=l<<11|R>>>21,He=Q<<15|K>>>17,An=K<<15|Q>>>17,Ve=B<<29|N>>>3,ze=N<<29|B>>>3,kn=U<<28|Y>>>4,qe=Y<<28|U>>>4,Ge=M<<23|pe>>>9,Tn=pe<<23|M>>>9,Je=C<<25|V>>>7,Ze=V<<25|C>>>7,Lr=G<<21|fe>>>11,Pr=fe<<21|G>>>11,Br=f<<24|m>>>8,Dr=m<<24|f>>>8,Fr=d<<27|I>>>5,$r=I<<27|d>>>5,jr=L<<20|$>>>12,Ur=$<<20|L>>>12,Wr=ee<<7|q>>>25,Hr=q<<7|ee>>>25,Vr=se<<8|me>>>24,zr=me<<8|se>>>24,qr=he<<14|ue>>>18,Gr=ue<<14|he>>>18;t[0]=at^~xn&In,t[1]=xe^~Le&We,t[10]=kn^~jr&Ie,t[11]=qe^~Ur&Ae,t[20]=Ne^~je&Je,t[21]=Oe^~Ue&Ze,t[30]=Fr^~Me&Pe,t[31]=$r^~_n&Mn,t[40]=$e^~Ge&Wr,t[41]=Rn^~Tn&Hr,t[2]=xn^~In&Lr,t[3]=Le^~We&Pr,t[12]=jr^~Ie&Be,t[13]=Ur^~Ae&De,t[22]=je^~Je&Vr,t[23]=Ue^~Ze&zr,t[32]=Me^~Pe&He,t[33]=_n^~Mn&An,t[42]=Ge^~Wr&En,t[43]=Tn^~Hr&ke,t[4]=In^~Lr&qr,t[5]=We^~Pr&Gr,t[14]=Ie^~Be&Ve,t[15]=Ae^~De&ze,t[24]=Je^~Vr&Te,t[25]=Ze^~zr&Sn,t[34]=Pe^~He&Br,t[35]=Mn^~An&Dr,t[44]=Wr^~En&Cn,t[45]=Hr^~ke&Fe,t[6]=Lr^~qr&at,t[7]=Pr^~Gr&xe,t[16]=Be^~Ve&kn,t[17]=De^~ze&qe,t[26]=Vr^~Te&Ne,t[27]=zr^~Sn&Oe,t[36]=He^~Br&Fr,t[37]=An^~Dr&$r,t[46]=En^~Cn&$e,t[47]=ke^~Fe&Rn,t[8]=qr^~at&xn,t[9]=Gr^~xe&Le,t[18]=Ve^~kn&jr,t[19]=ze^~qe&Ur,t[28]=Te^~Ne&je,t[29]=Sn^~Oe&Ue,t[38]=Br^~Fr&Me,t[39]=Dr^~$r&_n,t[48]=Cn^~$e&Ge,t[49]=Fe^~Rn&Tn,t[0]^=tl[e*2],t[1]^=tl[e*2+1]}};const Fs=yh;function fi(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}fi.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};fi.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Fs.p1600(this.state),this.count=0)};fi.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Fs.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Fs.p1600(this.state),this.count=0,this.squeezing=!0};fi.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Fs.p1600(this.state),this.count=0);return e};fi.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Pv=fi,Bv=Lv(Pv);const Dv=Bv,Fv=Wi.exports;function mh(t){return Buffer.allocUnsafe(t).fill(0)}function wh(t,e,r){const n=mh(e);return t=io(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function $v(t,e){return wh(t,e,!0)}function io(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")_h(t)?t=Buffer.from(Wv(Eh(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Fv.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function jv(t){return t=io(t),"0x"+t.toString("hex")}function Uv(t,e){return t=io(t),e||(e=256),Dv("keccak"+e).update(t).digest()}function Wv(t){return t.length%2?"0"+t:t}function _h(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Eh(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Sh={zeros:mh,setLength:wh,setLengthRight:$v,isHexString:_h,stripHexPrefix:Eh,toBuffer:io,bufferToHex:jv,keccak:Uv};const un=Sh,nn=Wi.exports;function xh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function zn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function rl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Mh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Xr(t){var e=typeof t;if(e==="string")return un.isHexString(t)?new nn(un.stripHexPrefix(t),16):new nn(t,10);if(e==="number")return new nn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function rr(t,e){var r,n,i,s;if(t==="address")return rr("uint160",Xr(e));if(t==="bool")return rr("uint8",e?1:0);if(t==="string")return rr("bytes",new Buffer(e,"utf8"));if(Vv(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Mh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(rr(t,e[s]));if(r==="dynamic"){var a=rr("uint256",e.length);i.unshift(a)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([rr("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,un.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=zn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return un.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=zn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Xr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=zn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Xr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=rl(t),n=Xr(e),n<0)throw new Error("Supplied ufixed is negative");return rr("uint256",n.mul(new nn(2).pow(new nn(r[1]))))}else if(t.startsWith("fixed"))return r=rl(t),rr("int256",Xr(e).mul(new nn(2).pow(new nn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Hv(t){return t==="string"||t==="bytes"||Mh(t)==="dynamic"}function Vv(t){return t.lastIndexOf("]")===t.length-1}function zv(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var a=xh(t[s]),o=e[s],c=rr(a,o);Hv(a)?(r.push(rr("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Ch(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var a=xh(t[s]),o=e[s];if(a==="bytes")i.push(o);else if(a==="string")i.push(new Buffer(o,"utf8"));else if(a==="bool")i.push(new Buffer(o?"01":"00","hex"));else if(a==="address")i.push(un.setLength(o,20));else if(a.startsWith("bytes")){if(r=zn(a),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(un.setLengthRight(o,r))}else if(a.startsWith("uint")){if(r=zn(a),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Xr(o),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(a.startsWith("int")){if(r=zn(a),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Xr(o),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(i)}function qv(t,e){return un.keccak(Ch(t,e))}var Gv={rawEncode:zv,solidityPack:Ch,soliditySHA3:qv};const zt=Sh,ki=Gv,Rh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Sa={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const a=(o,c,h)=>{if(r[c]!==void 0)return["bytes32",h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":zt.keccak(this.encodeData(c,h,r,n))];if(h===void 0)throw new Error(`missing value for field ${o} of type ${c}`);if(c==="bytes")return["bytes32",zt.keccak(h)];if(c==="string")return typeof h=="string"&&(h=Buffer.from(h,"utf8")),["bytes32",zt.keccak(h)];if(c.lastIndexOf("]")===c.length-1){const g=c.slice(0,c.lastIndexOf("[")),y=h.map(v=>a(o,g,v));return["bytes32",zt.keccak(ki.rawEncode(y.map(([v])=>v),y.map(([,v])=>v)))]}return[c,h]};for(const o of r[t]){const[c,h]=a(o.name,o.type,e[o.name]);i.push(c),s.push(h)}}else for(const a of r[t]){let o=e[a.name];if(o!==void 0)if(a.type==="bytes")i.push("bytes32"),o=zt.keccak(o),s.push(o);else if(a.type==="string")i.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=zt.keccak(o),s.push(o);else if(r[a.type]!==void 0)i.push("bytes32"),o=zt.keccak(this.encodeData(a.type,o,r,n)),s.push(o);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),s.push(o)}}return ki.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:a,type:o})=>o+" "+a).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return zt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return zt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Rh.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),zt.keccak(Buffer.concat(n))}};var Jv={TYPED_MESSAGE_SCHEMA:Rh,TypedDataUtils:Sa,hashForSignTypedDataLegacy:function(t){return Zv(t.data)},hashForSignTypedData_v3:function(t){return Sa.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Sa.hash(t.data)}};function Zv(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?zt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return ki.soliditySHA3(["bytes32","bytes32"],[ki.soliditySHA3(new Array(t.length).fill("string"),i),ki.soliditySHA3(n,r)])}var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.filterFromParam=Kn.FilterPolyfill=void 0;const $n=Qi,_t=ie,Qv=5*60*1e3,en={jsonrpc:"2.0",id:0};class Yv{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,$n.IntNumber)(1),this.provider=e}async newFilter(e){const r=Ih(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,_t.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,_t.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,_t.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(bs())}async getFilterLogs(e){const r=(0,_t.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},en),{method:"eth_getLogs",params:[nl(n)]})):bs()}makeFilterId(){return(0,$n.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return bs();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return vs();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const a=await this.sendAsyncPromise(Object.assign(Object.assign({},en),{method:"eth_getLogs",params:[nl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(a.result)){const o=a.result.map(h=>(0,_t.intNumberFromHexString)(h.blockNumber||"0x0")),c=Math.max(...o);if(c&&c>n){const h=(0,$n.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${h}`),this.cursors.set(e,h)}}return a}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return bs();const n=await this.getCurrentBlockHeight();if(r>n)return vs();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,_t.range)(r,n+1).map(a=>this.getBlockHashByNumber((0,$n.IntNumber)(a))))).filter(a=>!!a),s=(0,$n.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},en),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(vs())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Qv);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},en),{method:"eth_blockNumber",params:[]}));return(0,_t.intNumberFromHexString)((0,_t.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},en),{method:"eth_getBlockByNumber",params:[(0,_t.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,_t.ensureHexString)(r.result.hash):null}}Kn.FilterPolyfill=Yv;function Ih(t){return{fromBlock:il(t.fromBlock),toBlock:il(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Kn.filterFromParam=Ih;function nl(t){const e={fromBlock:sl(t.fromBlock),toBlock:sl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function il(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,$n.IntNumber)(0);if((0,_t.isHexString)(t))return(0,_t.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function sl(t){return t==="latest"?t:(0,_t.hexStringFromIntNumber)(t)}function bs(){return Object.assign(Object.assign({},en),{error:{code:-32e3,message:"filter not found"}})}function vs(){return Object.assign(Object.assign({},en),{result:[]})}var Ah={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Ah);var so={},kh={},oo={},Cu=Kv;function Kv(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const ol=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(a,o){if(e.multiArgs){const c=new Array(arguments.length-1);for(let h=1;h<arguments.length;h++)c[h-1]=arguments[h];a?(c.unshift(a),s(c)):i(c)}else a?s(a):i(o)}):n.push(function(a){if(e.multiArgs){const o=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)o[c]=arguments[c];i(o)}else i(a)}),t.apply(this,n)})};var Xv=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=a=>typeof a=="string"?i===a:a.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):ol(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?ol(s,e):s}return n},Xi={},ey=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.BaseBlockTracker=void 0;const ty=ey(pn),ry=1e3,ny=(t,e)=>t+e,al=["sync","latest"];class iy extends ty.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*ry,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){al.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return al.map(e=>this.listenerCount(e)).reduce(ny)}_newPotentialLatest(e){const r=this._currentBlock;r&&ul(e)<=ul(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Xi.BaseBlockTracker=iy;function ul(t){return Number.parseInt(t,16)}var Th={},Nh={},gt={};class Oh extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...a}=e,{path:o}=e,c=o.length===0?i:`At path: ${o.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function sy(t){return jt(t)&&typeof t[Symbol.iterator]=="function"}function jt(t){return typeof t=="object"&&t!=null}function cl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ot(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function oy(t){const{done:e,value:r}=t.next();return e?void 0:r}function ay(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:a}=r,{refinement:o,message:c=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${ot(n)}\``}=t;return{value:n,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*tu(t,e,r,n){sy(t)||(t=[t]);for(const i of t){const s=ay(i,e,r,n);s&&(yield s)}}function*Ru(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:a=!1}=r,o={path:n,branch:i};if(s&&(t=e.coercer(t,o),a&&e.type!=="type"&&jt(e.schema)&&jt(t)&&!Array.isArray(t)))for(const h in t)e.schema[h]===void 0&&delete t[h];let c="valid";for(const h of e.validator(t,o))h.explanation=r.message,c="not_valid",yield[h,void 0];for(let[h,g,y]of e.entries(t,o)){const v=Ru(g,y,{path:h===void 0?n:[...n,h],branch:h===void 0?i:[...i,g],coerce:s,mask:a,message:r.message});for(const E of v)E[0]?(c=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):s&&(g=E[1],h===void 0?t=g:t instanceof Map?t.set(h,g):t instanceof Set?t.add(g):jt(t)&&(g!==void 0||h in t)&&(t[h]=g))}if(c!=="not_valid")for(const h of e.refiner(t,o))h.explanation=r.message,c="not_refined",yield[h,void 0];c==="valid"&&(yield[void 0,t])}class nt{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:a=c=>c,entries:o=function*(){}}=e;this.type=r,this.schema=n,this.entries=o,this.coercer=a,i?this.validator=(c,h)=>{const g=i(c,h);return tu(g,h,this,c)}:this.validator=()=>[],s?this.refiner=(c,h)=>{const g=s(c,h);return tu(g,h,this,c)}:this.refiner=()=>[]}assert(e,r){return Lh(e,this,r)}create(e,r){return Ph(e,this,r)}is(e){return Iu(e,this)}mask(e,r){return Bh(e,this,r)}validate(e,r={}){return hi(e,this,r)}}function Lh(t,e,r){const n=hi(t,e,{message:r});if(n[0])throw n[0]}function Ph(t,e,r){const n=hi(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Bh(t,e,r){const n=hi(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Iu(t,e){return!hi(t,e)[0]}function hi(t,e,r={}){const n=Ru(t,e,r),i=oy(n);return i[0]?[new Oh(i[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function uy(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?ku(n):es(n)}function Rt(t,e){return new nt({type:t,schema:null,validator:e})}function cy(t,e){return new nt({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function ly(t){return new nt({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function fy(t){let e;return new nt({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function hy(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return ku(n);default:return es(n)}}function dy(t){const e=t instanceof nt?{...t.schema}:{...t};for(const r in e)e[r]=Dh(e[r]);return es(e)}function py(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return es(n)}function gy(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Rt(t,e)}function by(){return Rt("any",()=>!0)}function vy(t){return new nt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ot(e)}`}})}function yy(){return Rt("bigint",t=>typeof t=="bigint")}function my(){return Rt("boolean",t=>typeof t=="boolean")}function wy(){return Rt("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ot(t)}`)}function _y(t){const e={},r=t.map(n=>ot(n)).join();for(const n of t)e[n]=n;return new nt({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${ot(n)}`}})}function Ey(){return Rt("func",t=>typeof t=="function"||`Expected a function, but received: ${ot(t)}`)}function Sy(t){return Rt("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ot(e)}`)}function xy(){return Rt("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ot(t)}`)}function My(t){return new nt({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Cy(t){const e=ot(t),r=typeof t;return new nt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ot(n)}`}})}function Ry(t,e){return new nt({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ot(r)}`}})}function Au(){return Rt("never",()=>!1)}function Iy(t){return new nt({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Ay(){return Rt("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ot(t)}`)}function es(t){const e=t?Object.keys(t):[],r=Au();return new nt({type:"object",schema:t||null,*entries(n){if(t&&jt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return jt(n)||`Expected an object, but received: ${ot(n)}`},coercer(n){return jt(n)?{...n}:n}})}function Dh(t){return new nt({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function ky(t,e){return new nt({type:"record",schema:null,*entries(r){if(jt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return jt(r)||`Expected an object, but received: ${ot(r)}`}})}function Ty(){return Rt("regexp",t=>t instanceof RegExp)}function Ny(t){return new nt({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ot(e)}`}})}function Fh(){return Rt("string",t=>typeof t=="string"||`Expected a string, but received: ${ot(t)}`)}function Oy(t){const e=Au();return new nt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ot(r)}`}})}function ku(t){const e=Object.keys(t);return new nt({type:"type",schema:t,*entries(r){if(jt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return jt(r)||`Expected an object, but received: ${ot(r)}`},coercer(r){return jt(r)?{...r}:r}})}function Ly(t){const e=t.map(r=>r.type).join(" | ");return new nt({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...a]=Ru(r,s,n),[o]=a;if(o[0])for(const[c]of a)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ot(r)}`,...i]}})}function $h(){return Rt("unknown",()=>!0)}function Tu(t,e,r){return new nt({...t,coercer:(n,i)=>Iu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function Py(t,e,r={}){return Tu(t,$h(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&cl(n)&&cl(i)){const s={...n};let a=!1;for(const o in i)s[o]===void 0&&(s[o]=i[o],a=!0);if(a)return s}return n})}function By(t){return Tu(t,Fh(),e=>e.trim())}function Dy(t){return yn(t,"empty",e=>{const r=jh(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function jh(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Fy(t,e,r={}){const{exclusive:n}=r;return yn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function $y(t,e,r={}){const{exclusive:n}=r;return yn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function jy(t){return yn(t,"nonempty",e=>jh(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Uy(t,e){return yn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Wy(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return yn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:a}=s;return e<=a&&a<=r||`${n} with a size ${i} but received one with a size of \`${a}\``}else{const{length:a}=s;return e<=a&&a<=r||`${n} with a length ${i} but received one with a length of \`${a}\``}})}function yn(t,e,r){return new nt({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),a=tu(s,i,t,n);for(const o of a)yield{...o,refinement:e}}})}const Hy=Object.freeze(Object.defineProperty({__proto__:null,Struct:nt,StructError:Oh,any:by,array:vy,assert:Lh,assign:uy,bigint:yy,boolean:my,coerce:Tu,create:Ph,date:wy,defaulted:Py,define:Rt,deprecated:cy,dynamic:ly,empty:Dy,enums:_y,func:Ey,instance:Sy,integer:xy,intersection:My,is:Iu,lazy:fy,literal:Cy,map:Ry,mask:Bh,max:Fy,min:$y,never:Au,nonempty:jy,nullable:Iy,number:Ay,object:es,omit:hy,optional:Dh,partial:dy,pattern:Uy,pick:py,record:ky,refine:yn,regexp:Ty,set:Ny,size:Wy,string:Fh,struct:gy,trimmed:By,tuple:Oy,type:ku,union:Ly,unknown:$h,validate:hi},Symbol.toStringTag,{value:"Module"})),mn=dn(Hy);Object.defineProperty(gt,"__esModule",{value:!0});gt.assertExhaustive=gt.assertStruct=gt.assert=gt.AssertionError=void 0;const Vy=mn;function zy(t){return typeof t=="object"&&t!==null&&"message"in t}function qy(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function Gy(t){const e=zy(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Uh(t,e){return qy(t)?new t({message:e}):t({message:e})}class Nu extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}gt.AssertionError=Nu;function Jy(t,e="Assertion failed.",r=Nu){if(!t)throw e instanceof Error?e:Uh(r,e)}gt.assert=Jy;function Zy(t,e,r="Assertion failed",n=Nu){try{(0,Vy.assert)(t,e)}catch(i){throw Uh(n,`${r}: ${Gy(i)}.`)}}gt.assertStruct=Zy;function Qy(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}gt.assertExhaustive=Qy;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.base64=void 0;const Yy=mn,Ky=gt,Xy=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let a;s==="base64"?a=String.raw`[A-Za-z0-9+\/]`:((0,Ky.assert)(s==="base64url"),a=String.raw`[-_A-Za-z0-9]`);let o;return i?o=new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):o=new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,Yy.pattern)(t,o)};ts.base64=Xy;var _e={},rs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=mn,r=gt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(h){return(0,e.is)(h,t.HexStruct)}t.isHexString=n;function i(h){return(0,e.is)(h,t.StrictHexStruct)}t.isStrictHexString=i;function s(h){(0,r.assert)(n(h),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function a(h){(0,r.assert)(i(h),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=a;function o(h){return h.startsWith("0x")?h:h.startsWith("0X")?`0x${h.substring(2)}`:`0x${h}`}t.add0x=o;function c(h){return h.startsWith("0x")||h.startsWith("0X")?h.substring(2):h}t.remove0x=c})(rs);Object.defineProperty(_e,"__esModule",{value:!0});_e.createDataView=_e.concatBytes=_e.valueToBytes=_e.stringToBytes=_e.numberToBytes=_e.signedBigIntToBytes=_e.bigIntToBytes=_e.hexToBytes=_e.bytesToString=_e.bytesToNumber=_e.bytesToSignedBigInt=_e.bytesToBigInt=_e.bytesToHex=_e.assertIsBytes=_e.isBytes=void 0;const At=gt,ru=rs,ll=48,fl=58,hl=87;function em(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const tm=em();function Ou(t){return t instanceof Uint8Array}_e.isBytes=Ou;function di(t){(0,At.assert)(Ou(t),"Value must be a Uint8Array.")}_e.assertIsBytes=di;function Wh(t){if(di(t),t.length===0)return"0x";const e=tm(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,ru.add0x)(r.join(""))}_e.bytesToHex=Wh;function Hh(t){di(t);const e=Wh(t);return BigInt(e)}_e.bytesToBigInt=Hh;function rm(t){di(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}_e.bytesToSignedBigInt=rm;function nm(t){di(t);const e=Hh(t);return(0,At.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}_e.bytesToNumber=nm;function im(t){return di(t),new TextDecoder().decode(t)}_e.bytesToString=im;function ao(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,ru.assertIsHexString)(t);const r=(0,ru.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const a=n.charCodeAt(s*2),o=n.charCodeAt(s*2+1),c=a-(a<fl?ll:hl),h=o-(o<fl?ll:hl);i[s]=c*16+h}return i}_e.hexToBytes=ao;function Vh(t){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return ao(e)}_e.bigIntToBytes=Vh;function sm(t,e){(0,At.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function om(t,e){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(typeof e=="number","Byte length must be a number."),(0,At.assert)(e>0,"Byte length must be greater than 0."),(0,At.assert)(sm(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}_e.signedBigIntToBytes=om;function zh(t){(0,At.assert)(typeof t=="number","Value must be a number."),(0,At.assert)(t>=0,"Value must be a non-negative number."),(0,At.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return ao(e)}_e.numberToBytes=zh;function qh(t){return(0,At.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}_e.stringToBytes=qh;function Gh(t){if(typeof t=="bigint")return Vh(t);if(typeof t=="number")return zh(t);if(typeof t=="string")return t.startsWith("0x")?ao(t):qh(t);if(Ou(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}_e.valueToBytes=Gh;function am(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Gh(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}_e.concatBytes=am;function um(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}_e.createDataView=um;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.ChecksumStruct=void 0;const dl=mn,cm=ts;uo.ChecksumStruct=(0,dl.size)((0,cm.base64)((0,dl.string)(),{paddingRequired:!0}),44,44);var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.createHex=sr.createBytes=sr.createBigInt=sr.createNumber=void 0;const Ke=mn,lm=gt,Jh=_e,co=rs,Zh=(0,Ke.union)([(0,Ke.number)(),(0,Ke.bigint)(),(0,Ke.string)(),co.StrictHexStruct]),fm=(0,Ke.coerce)((0,Ke.number)(),Zh,Number),hm=(0,Ke.coerce)((0,Ke.bigint)(),Zh,BigInt);(0,Ke.union)([co.StrictHexStruct,(0,Ke.instance)(Uint8Array)]);const dm=(0,Ke.coerce)((0,Ke.instance)(Uint8Array),(0,Ke.union)([co.StrictHexStruct]),Jh.hexToBytes),pm=(0,Ke.coerce)(co.StrictHexStruct,(0,Ke.instance)(Uint8Array),Jh.bytesToHex);function gm(t){try{const e=(0,Ke.create)(t,fm);return(0,lm.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}sr.createNumber=gm;function bm(t){try{return(0,Ke.create)(t,hm)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}sr.createBigInt=bm;function vm(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ke.create)(t,dm)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}sr.createBytes=vm;function ym(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Ke.create)(t,pm)}catch(e){throw e instanceof Ke.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}sr.createHex=ym;var Xn={},Qh=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Et=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ht,er;Object.defineProperty(Xn,"__esModule",{value:!0});Xn.FrozenSet=Xn.FrozenMap=void 0;class Lu{constructor(e){Ht.set(this,void 0),Qh(this,Ht,new Map(e),"f"),Object.freeze(this)}get size(){return Et(this,Ht,"f").size}[(Ht=new WeakMap,Symbol.iterator)](){return Et(this,Ht,"f")[Symbol.iterator]()}entries(){return Et(this,Ht,"f").entries()}forEach(e,r){return Et(this,Ht,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Et(this,Ht,"f").get(e)}has(e){return Et(this,Ht,"f").has(e)}keys(){return Et(this,Ht,"f").keys()}values(){return Et(this,Ht,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Xn.FrozenMap=Lu;class Pu{constructor(e){er.set(this,void 0),Qh(this,er,new Set(e),"f"),Object.freeze(this)}get size(){return Et(this,er,"f").size}[(er=new WeakMap,Symbol.iterator)](){return Et(this,er,"f")[Symbol.iterator]()}entries(){return Et(this,er,"f").entries()}forEach(e,r){return Et(this,er,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Et(this,er,"f").has(e)}keys(){return Et(this,er,"f").keys()}values(){return Et(this,er,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Xn.FrozenSet=Pu;Object.freeze(Lu);Object.freeze(Lu.prototype);Object.freeze(Pu);Object.freeze(Pu.prototype);var Yh={},Bu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(h){return Array.isArray(h)&&h.length>0}t.isNonEmptyArray=e;function r(h){return h==null}t.isNullOrUndefined=r;function n(h){return Boolean(h)&&typeof h=="object"&&!Array.isArray(h)}t.isObject=n;const i=(h,g)=>Object.hasOwnProperty.call(h,g);t.hasProperty=i,function(h){h[h.Null=4]="Null",h[h.Comma=1]="Comma",h[h.Wrapper=1]="Wrapper",h[h.True=4]="True",h[h.False=5]="False",h[h.Quote=1]="Quote",h[h.Colon=1]="Colon",h[h.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(h){if(typeof h!="object"||h===null)return!1;try{let g=h;for(;Object.getPrototypeOf(g)!==null;)g=Object.getPrototypeOf(g);return Object.getPrototypeOf(h)===g}catch{return!1}}t.isPlainObject=s;function a(h){return h.charCodeAt(0)<=127}t.isASCII=a;function o(h){var g;return h.split("").reduce((v,E)=>a(E)?v+1:v+2,0)+((g=h.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&g!==void 0?g:[]).length}t.calculateStringSize=o;function c(h){return h.toString().length}t.calculateNumberSize=c})(Bu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=mn,r=gt,n=Bu;t.JsonStruct=(0,e.define)("Json",j=>{const[J]=H(j,!0);return J?!0:"Expected a valid JSON-serializable value"});function i(j){return(0,e.is)(j,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(j){return(0,e.is)(j,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function a(j,J){(0,r.assertStruct)(j,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",J)}t.assertIsJsonRpcNotification=a;function o(j){return(0,e.is)(j,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=o;function c(j,J){(0,r.assertStruct)(j,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",J)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function h(j){return(0,e.is)(j,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=h;function g(j,J){(0,r.assertStruct)(j,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",J)}t.assertIsPendingJsonRpcResponse=g;function y(j){return(0,e.is)(j,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=y;function v(j,J){(0,r.assertStruct)(j,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",J)}t.assertIsJsonRpcResponse=v;function E(j){return(0,e.is)(j,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=E;function P(j,J){(0,r.assertStruct)(j,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",J)}t.assertIsJsonRpcSuccess=P;function F(j){return(0,e.is)(j,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=F;function W(j,J){(0,r.assertStruct)(j,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",J)}t.assertIsJsonRpcFailure=W;function k(j){return(0,e.is)(j,t.JsonRpcErrorStruct)}t.isJsonRpcError=k;function T(j,J){(0,r.assertStruct)(j,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",J)}t.assertIsJsonRpcError=T;function D(j){const{permitEmptyString:J,permitFractions:ne,permitNull:X}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},j);return ae=>Boolean(typeof ae=="number"&&(ne||Number.isInteger(ae))||typeof ae=="string"&&(J||ae.length>0)||X&&ae===null)}t.getJsonRpcIdValidator=D;function H(j,J=!1){const ne=new Set;function X(Z,ae){if(Z===void 0)return[!1,0];if(Z===null)return[!0,ae?0:n.JsonSize.Null];const re=typeof Z;try{if(re==="function")return[!1,0];if(re==="string"||Z instanceof String)return[!0,ae?0:(0,n.calculateStringSize)(Z)+n.JsonSize.Quote*2];if(re==="boolean"||Z instanceof Boolean)return ae?[!0,0]:[!0,Z==!0?n.JsonSize.True:n.JsonSize.False];if(re==="number"||Z instanceof Number)return ae?[!0,0]:[!0,(0,n.calculateNumberSize)(Z)];if(Z instanceof Date)return ae?[!0,0]:[!0,isNaN(Z.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(Z)&&!Array.isArray(Z))return[!1,0];if(ne.has(Z))return[!1,0];ne.add(Z);try{return[!0,Object.entries(Z).reduce((ce,[_,u],p,b)=>{let[S,x]=X(u,ae);if(!S)throw new Error("JSON validation did not pass. Validation process stopped.");if(ne.delete(Z),ae)return 0;const A=Array.isArray(Z)?0:_.length+n.JsonSize.Comma+n.JsonSize.Colon*2,O=p<b.length-1?n.JsonSize.Comma:0;return ce+A+x+O},ae?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return X(j,J)}t.validateJsonAndGetSize=H})(Yh);var ei={},nu={exports:{}},xa,pl;function mm(){if(pl)return xa;pl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;xa=function(g,y){y=y||{};var v=typeof g;if(v==="string"&&g.length>0)return a(g);if(v==="number"&&isFinite(g))return y.long?c(g):o(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function a(g){if(g=String(g),!(g.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(!!y){var v=parseFloat(y[1]),E=(y[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*e;case"seconds":case"second":case"secs":case"sec":case"s":return v*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function o(g){var y=Math.abs(g);return y>=n?Math.round(g/n)+"d":y>=r?Math.round(g/r)+"h":y>=e?Math.round(g/e)+"m":y>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var y=Math.abs(g);return y>=n?h(g,y,n,"day"):y>=r?h(g,y,r,"hour"):y>=e?h(g,y,e,"minute"):y>=t?h(g,y,t,"second"):g+" ms"}function h(g,y,v,E){var P=y>=v*1.5;return Math.round(g/v)+" "+E+(P?"s":"")}return xa}function wm(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=mm(),r.destroy=h,Object.keys(t).forEach(g=>{r[g]=t[g]}),r.names=[],r.skips=[],r.formatters={};function e(g){let y=0;for(let v=0;v<g.length;v++)y=(y<<5)-y+g.charCodeAt(v),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=e;function r(g){let y,v=null,E,P;function F(...W){if(!F.enabled)return;const k=F,T=Number(new Date),D=T-(y||T);k.diff=D,k.prev=y,k.curr=T,y=T,W[0]=r.coerce(W[0]),typeof W[0]!="string"&&W.unshift("%O");let H=0;W[0]=W[0].replace(/%([a-zA-Z%])/g,(J,ne)=>{if(J==="%%")return"%";H++;const X=r.formatters[ne];if(typeof X=="function"){const Z=W[H];J=X.call(k,Z),W.splice(H,1),H--}return J}),r.formatArgs.call(k,W),(k.log||r.log).apply(k,W)}return F.namespace=g,F.useColors=r.useColors(),F.color=r.selectColor(g),F.extend=n,F.destroy=r.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(E!==r.namespaces&&(E=r.namespaces,P=r.enabled(g)),P),set:W=>{v=W}}),typeof r.init=="function"&&r.init(F),F}function n(g,y){const v=r(this.namespace+(typeof y>"u"?":":y)+g);return v.log=this.log,v}function i(g){r.save(g),r.namespaces=g,r.names=[],r.skips=[];let y;const v=(typeof g=="string"?g:"").split(/[\s,]+/),E=v.length;for(y=0;y<E;y++)!v[y]||(g=v[y].replace(/\*/g,".*?"),g[0]==="-"?r.skips.push(new RegExp("^"+g.slice(1)+"$")):r.names.push(new RegExp("^"+g+"$")))}function s(){const g=[...r.names.map(o),...r.skips.map(o).map(y=>"-"+y)].join(",");return r.enable(""),g}function a(g){if(g[g.length-1]==="*")return!0;let y,v;for(y=0,v=r.skips.length;y<v;y++)if(r.skips[y].test(g))return!1;for(y=0,v=r.names.length;y<v;y++)if(r.names[y].test(g))return!0;return!1}function o(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function c(g){return g instanceof Error?g.stack||g.message:g}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var _m=wm;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;c.splice(1,0,h,"color: inherit");let g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(g++,v==="%c"&&(y=g))}),c.splice(y,0,h)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=_m(e);const{formatters:o}=t.exports;o.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(nu,nu.exports);var Em=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});ei.createModuleLogger=ei.createProjectLogger=void 0;const Sm=Em(nu.exports),xm=(0,Sm.default)("metamask");function Mm(t){return xm.extend(t)}ei.createProjectLogger=Mm;function Cm(t,e){return t.extend(e)}ei.createModuleLogger=Cm;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.hexToBigInt=or.hexToNumber=or.bigIntToHex=or.numberToHex=void 0;const qn=gt,Fi=rs,Rm=t=>((0,qn.assert)(typeof t=="number","Value must be a number."),(0,qn.assert)(t>=0,"Value must be a non-negative number."),(0,qn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Fi.add0x)(t.toString(16)));or.numberToHex=Rm;const Im=t=>((0,qn.assert)(typeof t=="bigint","Value must be a bigint."),(0,qn.assert)(t>=0,"Value must be a non-negative bigint."),(0,Fi.add0x)(t.toString(16)));or.bigIntToHex=Im;const Am=t=>{(0,Fi.assertIsHexString)(t);const e=parseInt(t,16);return(0,qn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};or.hexToNumber=Am;const km=t=>((0,Fi.assertIsHexString)(t),BigInt((0,Fi.add0x)(t)));or.hexToBigInt=km;var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});var Xh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,a)=>{if(!e(s))throw new Error(`"${a}" must be a non-negative integer. Received: "${s}".`)};function n(s,a){return r(s,"count"),s*a}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Xh);var ed={},cn={exports:{}};const Tm="2.0.0",td=256,Nm=Number.MAX_SAFE_INTEGER||9007199254740991,Om=16,Lm=td-6,Pm=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var lo={MAX_LENGTH:td,MAX_SAFE_COMPONENT_LENGTH:Om,MAX_SAFE_BUILD_LENGTH:Lm,MAX_SAFE_INTEGER:Nm,RELEASE_TYPES:Pm,SEMVER_SPEC_VERSION:Tm,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Bm=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var fo=Bm;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n}=lo,i=fo;e=t.exports={};const s=e.re=[],a=e.safeRe=[],o=e.src=[],c=e.t={};let h=0;const g="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",r],[g,n]],v=P=>{for(const[F,W]of y)P=P.split(`${F}*`).join(`${F}{0,${W}}`).split(`${F}+`).join(`${F}{1,${W}}`);return P},E=(P,F,W)=>{const k=v(F),T=h++;i(P,T,F),c[P]=T,o[T]=F,s[T]=new RegExp(F,W?"g":void 0),a[T]=new RegExp(k,W?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),E("MAINVERSION",`(${o[c.NUMERICIDENTIFIER]})\\.(${o[c.NUMERICIDENTIFIER]})\\.(${o[c.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${o[c.NUMERICIDENTIFIERLOOSE]})\\.(${o[c.NUMERICIDENTIFIERLOOSE]})\\.(${o[c.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${o[c.NUMERICIDENTIFIER]}|${o[c.NONNUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${o[c.NUMERICIDENTIFIERLOOSE]}|${o[c.NONNUMERICIDENTIFIER]})`),E("PRERELEASE",`(?:-(${o[c.PRERELEASEIDENTIFIER]}(?:\\.${o[c.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${o[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[c.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${g}+`),E("BUILD",`(?:\\+(${o[c.BUILDIDENTIFIER]}(?:\\.${o[c.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${o[c.MAINVERSION]}${o[c.PRERELEASE]}?${o[c.BUILD]}?`),E("FULL",`^${o[c.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${o[c.MAINVERSIONLOOSE]}${o[c.PRERELEASELOOSE]}?${o[c.BUILD]}?`),E("LOOSE",`^${o[c.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${o[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${o[c.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${o[c.XRANGEIDENTIFIER]})(?:\\.(${o[c.XRANGEIDENTIFIER]})(?:\\.(${o[c.XRANGEIDENTIFIER]})(?:${o[c.PRERELEASE]})?${o[c.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${o[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[c.XRANGEIDENTIFIERLOOSE]})(?:${o[c.PRERELEASELOOSE]})?${o[c.BUILD]}?)?)?`),E("XRANGE",`^${o[c.GTLT]}\\s*${o[c.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${o[c.GTLT]}\\s*${o[c.XRANGEPLAINLOOSE]}$`),E("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),E("COERCERTL",o[c.COERCE],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${o[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",E("TILDE",`^${o[c.LONETILDE]}${o[c.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${o[c.LONETILDE]}${o[c.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${o[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",E("CARET",`^${o[c.LONECARET]}${o[c.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${o[c.LONECARET]}${o[c.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${o[c.GTLT]}\\s*(${o[c.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${o[c.GTLT]}\\s*(${o[c.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${o[c.GTLT]}\\s*(${o[c.LOOSEPLAIN]}|${o[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${o[c.XRANGEPLAIN]})\\s+-\\s+(${o[c.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${o[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[c.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(cn,cn.exports);const Dm=Object.freeze({loose:!0}),Fm=Object.freeze({}),$m=t=>t?typeof t!="object"?Dm:t:Fm;var Du=$m;const gl=/^[0-9]+$/,rd=(t,e)=>{const r=gl.test(t),n=gl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},jm=(t,e)=>rd(e,t);var nd={compareIdentifiers:rd,rcompareIdentifiers:jm};const ys=fo,{MAX_LENGTH:bl,MAX_SAFE_INTEGER:ms}=lo,{safeRe:vl,t:yl}=cn.exports,Um=Du,{compareIdentifiers:On}=nd;class qt{constructor(e,r){if(r=Um(r),e instanceof qt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>bl)throw new TypeError(`version is longer than ${bl} characters`);ys("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?vl[yl.LOOSE]:vl[yl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ms||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ms||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ms||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ms)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ys("SemVer.compare",this.version,this.options,e),!(e instanceof qt)){if(typeof e=="string"&&e===this.version)return 0;e=new qt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof qt||(e=new qt(e,this.options)),On(this.major,e.major)||On(this.minor,e.minor)||On(this.patch,e.patch)}comparePre(e){if(e instanceof qt||(e=new qt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(ys("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return On(n,i)}while(++r)}compareBuild(e){e instanceof qt||(e=new qt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(ys("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return On(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),On(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var Mt=qt;const ml=Mt,Wm=(t,e,r=!1)=>{if(t instanceof ml)return t;try{return new ml(t,e)}catch(n){if(!r)return null;throw n}};var pi=Wm;const Hm=pi,Vm=(t,e)=>{const r=Hm(t,e);return r?r.version:null};var zm=Vm;const qm=pi,Gm=(t,e)=>{const r=qm(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Jm=Gm;const wl=Mt,Zm=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new wl(t instanceof wl?t.version:t,r).inc(e,n,i).version}catch{return null}};var Qm=Zm;const _l=pi,Ym=(t,e)=>{const r=_l(t,null,!0),n=_l(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,a=s?r:n,o=s?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c)return!o.patch&&!o.minor?"major":a.patch?"patch":a.minor?"minor":"major";const g=c?"pre":"";return r.major!==n.major?g+"major":r.minor!==n.minor?g+"minor":r.patch!==n.patch?g+"patch":"prerelease"};var Km=Ym;const Xm=Mt,e1=(t,e)=>new Xm(t,e).major;var t1=e1;const r1=Mt,n1=(t,e)=>new r1(t,e).minor;var i1=n1;const s1=Mt,o1=(t,e)=>new s1(t,e).patch;var a1=o1;const u1=pi,c1=(t,e)=>{const r=u1(t,e);return r&&r.prerelease.length?r.prerelease:null};var l1=c1;const El=Mt,f1=(t,e,r)=>new El(t,r).compare(new El(e,r));var Yt=f1;const h1=Yt,d1=(t,e,r)=>h1(e,t,r);var p1=d1;const g1=Yt,b1=(t,e)=>g1(t,e,!0);var v1=b1;const Sl=Mt,y1=(t,e,r)=>{const n=new Sl(t,r),i=new Sl(e,r);return n.compare(i)||n.compareBuild(i)};var Fu=y1;const m1=Fu,w1=(t,e)=>t.sort((r,n)=>m1(r,n,e));var _1=w1;const E1=Fu,S1=(t,e)=>t.sort((r,n)=>E1(n,r,e));var x1=S1;const M1=Yt,C1=(t,e,r)=>M1(t,e,r)>0;var ho=C1;const R1=Yt,I1=(t,e,r)=>R1(t,e,r)<0;var $u=I1;const A1=Yt,k1=(t,e,r)=>A1(t,e,r)===0;var id=k1;const T1=Yt,N1=(t,e,r)=>T1(t,e,r)!==0;var sd=N1;const O1=Yt,L1=(t,e,r)=>O1(t,e,r)>=0;var ju=L1;const P1=Yt,B1=(t,e,r)=>P1(t,e,r)<=0;var Uu=B1;const D1=id,F1=sd,$1=ho,j1=ju,U1=$u,W1=Uu,H1=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return D1(t,r,n);case"!=":return F1(t,r,n);case">":return $1(t,r,n);case">=":return j1(t,r,n);case"<":return U1(t,r,n);case"<=":return W1(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var od=H1;const V1=Mt,z1=pi,{safeRe:ws,t:_s}=cn.exports,q1=(t,e)=>{if(t instanceof V1)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(ws[_s.COERCE]);else{let n;for(;(n=ws[_s.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ws[_s.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ws[_s.COERCERTL].lastIndex=-1}return r===null?null:z1(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var G1=q1,Ma,xl;function J1(){return xl||(xl=1,Ma=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Ma}var Z1=Ee;Ee.Node=ln;Ee.create=Ee;function Ee(t){var e=this;if(e instanceof Ee||(e=new Ee),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Ee.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Ee.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ee.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ee.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Y1(this,arguments[t]);return this.length};Ee.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)K1(this,arguments[t]);return this.length};Ee.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ee.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ee.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Ee.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Ee.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ee.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ee.prototype.map=function(t,e){e=e||this;for(var r=new Ee,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Ee.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ee,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Ee.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Ee.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Ee.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ee.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ee.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ee;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Ee.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ee;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Ee.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Q1(this,i,r[n]);return s};Ee.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Q1(t,e,r){var n=e===t.head?new ln(r,null,e,t):new ln(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Y1(t,e){t.tail=new ln(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function K1(t,e){t.head=new ln(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ln(t,e,r,n){if(!(this instanceof ln))return new ln(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{J1()(Ee)}catch{}const X1=Z1,tn=Symbol("max"),pr=Symbol("length"),Ln=Symbol("lengthCalculator"),Ti=Symbol("allowStale"),sn=Symbol("maxAge"),fr=Symbol("dispose"),Ml=Symbol("noDisposeOnSet"),lt=Symbol("lruList"),Gt=Symbol("cache"),ad=Symbol("updateAgeOnGet"),Ca=()=>1;class ew{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[tn]=e.max||1/0;const r=e.length||Ca;if(this[Ln]=typeof r!="function"?Ca:r,this[Ti]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[sn]=e.maxAge||0,this[fr]=e.dispose,this[Ml]=e.noDisposeOnSet||!1,this[ad]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[tn]=e||1/0,_i(this)}get max(){return this[tn]}set allowStale(e){this[Ti]=!!e}get allowStale(){return this[Ti]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[sn]=e,_i(this)}get maxAge(){return this[sn]}set lengthCalculator(e){typeof e!="function"&&(e=Ca),e!==this[Ln]&&(this[Ln]=e,this[pr]=0,this[lt].forEach(r=>{r.length=this[Ln](r.value,r.key),this[pr]+=r.length})),_i(this)}get lengthCalculator(){return this[Ln]}get length(){return this[pr]}get itemCount(){return this[lt].length}rforEach(e,r){r=r||this;for(let n=this[lt].tail;n!==null;){const i=n.prev;Cl(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[lt].head;n!==null;){const i=n.next;Cl(this,e,n,r),n=i}}keys(){return this[lt].toArray().map(e=>e.key)}values(){return this[lt].toArray().map(e=>e.value)}reset(){this[fr]&&this[lt]&&this[lt].length&&this[lt].forEach(e=>this[fr](e.key,e.value)),this[Gt]=new Map,this[lt]=new X1,this[pr]=0}dump(){return this[lt].map(e=>$s(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[lt]}set(e,r,n){if(n=n||this[sn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Ln](r,e);if(this[Gt].has(e)){if(s>this[tn])return Gn(this,this[Gt].get(e)),!1;const c=this[Gt].get(e).value;return this[fr]&&(this[Ml]||this[fr](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[pr]+=s-c.length,c.length=s,this.get(e),_i(this),!0}const a=new tw(e,r,s,i,n);return a.length>this[tn]?(this[fr]&&this[fr](e,r),!1):(this[pr]+=a.length,this[lt].unshift(a),this[Gt].set(e,this[lt].head),_i(this),!0)}has(e){if(!this[Gt].has(e))return!1;const r=this[Gt].get(e).value;return!$s(this,r)}get(e){return Ra(this,e,!0)}peek(e){return Ra(this,e,!1)}pop(){const e=this[lt].tail;return e?(Gn(this,e),e.value):null}del(e){Gn(this,this[Gt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Gt].forEach((e,r)=>Ra(this,r,!1))}}const Ra=(t,e,r)=>{const n=t[Gt].get(e);if(n){const i=n.value;if($s(t,i)){if(Gn(t,n),!t[Ti])return}else r&&(t[ad]&&(n.value.now=Date.now()),t[lt].unshiftNode(n));return i.value}},$s=(t,e)=>{if(!e||!e.maxAge&&!t[sn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[sn]&&r>t[sn]},_i=t=>{if(t[pr]>t[tn])for(let e=t[lt].tail;t[pr]>t[tn]&&e!==null;){const r=e.prev;Gn(t,e),e=r}},Gn=(t,e)=>{if(e){const r=e.value;t[fr]&&t[fr](r.key,r.value),t[pr]-=r.length,t[Gt].delete(r.key),t[lt].removeNode(e)}};class tw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Cl=(t,e,r,n)=>{let i=r.value;$s(t,i)&&(Gn(t,r),t[Ti]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var rw=ew,Ia,Rl;function Kt(){if(Rl)return Ia;Rl=1;class t{constructor(u,p){if(p=n(p),u instanceof t)return u.loose===!!p.loose&&u.includePrerelease===!!p.includePrerelease?u:new t(u.raw,p);if(u instanceof i)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(b=>this.parseRange(b)).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(S=>!P(S[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&F(S[0])){this.set=[S];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const b=((this.options.includePrerelease&&v)|(this.options.loose&&E))+":"+u,S=r.get(b);if(S)return S;const x=this.options.loose,A=x?o[c.HYPHENRANGELOOSE]:o[c.HYPHENRANGE];u=u.replace(A,re(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(o[c.COMPARATORTRIM],h),s("comparator trim",u),u=u.replace(o[c.TILDETRIM],g),s("tilde trim",u),u=u.replace(o[c.CARETTRIM],y),s("caret trim",u);let O=u.split(" ").map(Q=>k(Q,this.options)).join(" ").split(/\s+/).map(Q=>ae(Q,this.options));x&&(O=O.filter(Q=>(s("loose invalid filter",Q,this.options),!!Q.match(o[c.COMPARATORLOOSE])))),s("range list",O);const w=new Map,l=O.map(Q=>new i(Q,this.options));for(const Q of l){if(P(Q))return[Q];w.set(Q.value,Q)}w.size>1&&w.has("")&&w.delete("");const R=[...w.values()];return r.set(b,R),R}intersects(u,p){if(!(u instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>W(b,p)&&u.set.some(S=>W(S,p)&&b.every(x=>S.every(A=>x.intersects(A,p)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(ce(this.set[p],u,this.options))return!0;return!1}}Ia=t;const e=rw,r=new e({max:1e3}),n=Du,i=po(),s=fo,a=Mt,{safeRe:o,t:c,comparatorTrimReplace:h,tildeTrimReplace:g,caretTrimReplace:y}=cn.exports,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:E}=lo,P=_=>_.value==="<0.0.0-0",F=_=>_.value==="",W=(_,u)=>{let p=!0;const b=_.slice();let S=b.pop();for(;p&&b.length;)p=b.every(x=>S.intersects(x,u)),S=b.pop();return p},k=(_,u)=>(s("comp",_,u),_=j(_,u),s("caret",_),_=D(_,u),s("tildes",_),_=ne(_,u),s("xrange",_),_=Z(_,u),s("stars",_),_),T=_=>!_||_.toLowerCase()==="x"||_==="*",D=(_,u)=>_.trim().split(/\s+/).map(p=>H(p,u)).join(" "),H=(_,u)=>{const p=u.loose?o[c.TILDELOOSE]:o[c.TILDE];return _.replace(p,(b,S,x,A,O)=>{s("tilde",_,b,S,x,A,O);let w;return T(S)?w="":T(x)?w=`>=${S}.0.0 <${+S+1}.0.0-0`:T(A)?w=`>=${S}.${x}.0 <${S}.${+x+1}.0-0`:O?(s("replaceTilde pr",O),w=`>=${S}.${x}.${A}-${O} <${S}.${+x+1}.0-0`):w=`>=${S}.${x}.${A} <${S}.${+x+1}.0-0`,s("tilde return",w),w})},j=(_,u)=>_.trim().split(/\s+/).map(p=>J(p,u)).join(" "),J=(_,u)=>{s("caret",_,u);const p=u.loose?o[c.CARETLOOSE]:o[c.CARET],b=u.includePrerelease?"-0":"";return _.replace(p,(S,x,A,O,w)=>{s("caret",_,S,x,A,O,w);let l;return T(x)?l="":T(A)?l=`>=${x}.0.0${b} <${+x+1}.0.0-0`:T(O)?x==="0"?l=`>=${x}.${A}.0${b} <${x}.${+A+1}.0-0`:l=`>=${x}.${A}.0${b} <${+x+1}.0.0-0`:w?(s("replaceCaret pr",w),x==="0"?A==="0"?l=`>=${x}.${A}.${O}-${w} <${x}.${A}.${+O+1}-0`:l=`>=${x}.${A}.${O}-${w} <${x}.${+A+1}.0-0`:l=`>=${x}.${A}.${O}-${w} <${+x+1}.0.0-0`):(s("no pr"),x==="0"?A==="0"?l=`>=${x}.${A}.${O}${b} <${x}.${A}.${+O+1}-0`:l=`>=${x}.${A}.${O}${b} <${x}.${+A+1}.0-0`:l=`>=${x}.${A}.${O} <${+x+1}.0.0-0`),s("caret return",l),l})},ne=(_,u)=>(s("replaceXRanges",_,u),_.split(/\s+/).map(p=>X(p,u)).join(" ")),X=(_,u)=>{_=_.trim();const p=u.loose?o[c.XRANGELOOSE]:o[c.XRANGE];return _.replace(p,(b,S,x,A,O,w)=>{s("xRange",_,b,S,x,A,O,w);const l=T(x),R=l||T(A),Q=R||T(O),K=Q;return S==="="&&K&&(S=""),w=u.includePrerelease?"-0":"",l?S===">"||S==="<"?b="<0.0.0-0":b="*":S&&K?(R&&(A=0),O=0,S===">"?(S=">=",R?(x=+x+1,A=0,O=0):(A=+A+1,O=0)):S==="<="&&(S="<",R?x=+x+1:A=+A+1),S==="<"&&(w="-0"),b=`${S+x}.${A}.${O}${w}`):R?b=`>=${x}.0.0${w} <${+x+1}.0.0-0`:Q&&(b=`>=${x}.${A}.0${w} <${x}.${+A+1}.0-0`),s("xRange return",b),b})},Z=(_,u)=>(s("replaceStars",_,u),_.trim().replace(o[c.STAR],"")),ae=(_,u)=>(s("replaceGTE0",_,u),_.trim().replace(o[u.includePrerelease?c.GTE0PRE:c.GTE0],"")),re=_=>(u,p,b,S,x,A,O,w,l,R,Q,K,N)=>(T(b)?p="":T(S)?p=`>=${b}.0.0${_?"-0":""}`:T(x)?p=`>=${b}.${S}.0${_?"-0":""}`:A?p=`>=${p}`:p=`>=${p}${_?"-0":""}`,T(l)?w="":T(R)?w=`<${+l+1}.0.0-0`:T(Q)?w=`<${l}.${+R+1}.0-0`:K?w=`<=${l}.${R}.${Q}-${K}`:_?w=`<${l}.${R}.${+Q+1}-0`:w=`<=${w}`,`${p} ${w}`.trim()),ce=(_,u,p)=>{for(let b=0;b<_.length;b++)if(!_[b].test(u))return!1;if(u.prerelease.length&&!p.includePrerelease){for(let b=0;b<_.length;b++)if(s(_[b].semver),_[b].semver!==i.ANY&&_[b].semver.prerelease.length>0){const S=_[b].semver;if(S.major===u.major&&S.minor===u.minor&&S.patch===u.patch)return!0}return!1}return!0};return Ia}var Aa,Il;function po(){if(Il)return Aa;Il=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(g,y){if(y=r(y),g instanceof e){if(g.loose===!!y.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),a("comparator",g,y),this.options=y,this.loose=!!y.loose,this.parse(g),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(g){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=g.match(y);if(!v)throw new TypeError(`Invalid comparator: ${g}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new o(v[2],this.options.loose):this.semver=t}toString(){return this.value}test(g){if(a("Comparator.test",g,this.options.loose),this.semver===t||g===t)return!0;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}return s(g,this.operator,this.semver,this.options)}intersects(g,y){if(!(g instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(g.value,y).test(this.value):g.operator===""?g.value===""?!0:new c(this.value,y).test(g.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||s(this.semver,"<",g.semver,y)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||s(this.semver,">",g.semver,y)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}Aa=e;const r=Du,{safeRe:n,t:i}=cn.exports,s=od,a=fo,o=Mt,c=Kt();return Aa}const nw=Kt(),iw=(t,e,r)=>{try{e=new nw(e,r)}catch{return!1}return e.test(t)};var go=iw;const sw=Kt(),ow=(t,e)=>new sw(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var aw=ow;const uw=Mt,cw=Kt(),lw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new cw(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new uw(n,r))}),n};var fw=lw;const hw=Mt,dw=Kt(),pw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new dw(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new hw(n,r))}),n};var gw=pw;const ka=Mt,bw=Kt(),Al=ho,vw=(t,e)=>{t=new bw(t,e);let r=new ka("0.0.0");if(t.test(r)||(r=new ka("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(a=>{const o=new ka(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Al(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Al(r,s))&&(r=s)}return r&&t.test(r)?r:null};var yw=vw;const mw=Kt(),ww=(t,e)=>{try{return new mw(t,e).range||"*"}catch{return null}};var _w=ww;const Ew=Mt,ud=po(),{ANY:Sw}=ud,xw=Kt(),Mw=go,kl=ho,Tl=$u,Cw=Uu,Rw=ju,Iw=(t,e,r,n)=>{t=new Ew(t,n),e=new xw(e,n);let i,s,a,o,c;switch(r){case">":i=kl,s=Cw,a=Tl,o=">",c=">=";break;case"<":i=Tl,s=Rw,a=kl,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Mw(t,e,n))return!1;for(let h=0;h<e.set.length;++h){const g=e.set[h];let y=null,v=null;if(g.forEach(E=>{E.semver===Sw&&(E=new ud(">=0.0.0")),y=y||E,v=v||E,i(E.semver,y.semver,n)?y=E:a(E.semver,v.semver,n)&&(v=E)}),y.operator===o||y.operator===c||(!v.operator||v.operator===o)&&s(t,v.semver))return!1;if(v.operator===c&&a(t,v.semver))return!1}return!0};var Wu=Iw;const Aw=Wu,kw=(t,e,r)=>Aw(t,e,">",r);var Tw=kw;const Nw=Wu,Ow=(t,e,r)=>Nw(t,e,"<",r);var Lw=Ow;const Nl=Kt(),Pw=(t,e,r)=>(t=new Nl(t,r),e=new Nl(e,r),t.intersects(e,r));var Bw=Pw;const Dw=go,Fw=Yt;var $w=(t,e,r)=>{const n=[];let i=null,s=null;const a=t.sort((g,y)=>Fw(g,y,r));for(const g of a)Dw(g,e,r)?(s=g,i||(i=g)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const o=[];for(const[g,y]of n)g===y?o.push(g):!y&&g===a[0]?o.push("*"):y?g===a[0]?o.push(`<=${y}`):o.push(`${g} - ${y}`):o.push(`>=${g}`);const c=o.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return c.length<h.length?c:e};const Ol=Kt(),Hu=po(),{ANY:Ta}=Hu,Ei=go,Vu=Yt,jw=(t,e,r={})=>{if(t===e)return!0;t=new Ol(t,r),e=new Ol(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const a=Ww(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Uw=[new Hu(">=0.0.0-0")],Ll=[new Hu(">=0.0.0")],Ww=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ta){if(e.length===1&&e[0].semver===Ta)return!0;r.includePrerelease?t=Uw:t=Ll}if(e.length===1&&e[0].semver===Ta){if(r.includePrerelease)return!0;e=Ll}const n=new Set;let i,s;for(const E of t)E.operator===">"||E.operator===">="?i=Pl(i,E,r):E.operator==="<"||E.operator==="<="?s=Bl(s,E,r):n.add(E.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Vu(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const E of n){if(i&&!Ei(E,String(i),r)||s&&!Ei(E,String(s),r))return null;for(const P of e)if(!Ei(E,String(P),r))return!1;return!0}let o,c,h,g,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const E of e){if(g=g||E.operator===">"||E.operator===">=",h=h||E.operator==="<"||E.operator==="<=",i){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator===">"||E.operator===">="){if(o=Pl(i,E,r),o===E&&o!==i)return!1}else if(i.operator===">="&&!Ei(i.semver,String(E),r))return!1}if(s){if(y&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===y.major&&E.semver.minor===y.minor&&E.semver.patch===y.patch&&(y=!1),E.operator==="<"||E.operator==="<="){if(c=Bl(s,E,r),c===E&&c!==s)return!1}else if(s.operator==="<="&&!Ei(s.semver,String(E),r))return!1}if(!E.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&g&&!i&&a!==0||v||y)},Pl=(t,e,r)=>{if(!t)return e;const n=Vu(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Bl=(t,e,r)=>{if(!t)return e;const n=Vu(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Hw=jw;const Na=cn.exports,Dl=lo,Vw=Mt,Fl=nd,zw=pi,qw=zm,Gw=Jm,Jw=Qm,Zw=Km,Qw=t1,Yw=i1,Kw=a1,Xw=l1,e_=Yt,t_=p1,r_=v1,n_=Fu,i_=_1,s_=x1,o_=ho,a_=$u,u_=id,c_=sd,l_=ju,f_=Uu,h_=od,d_=G1,p_=po(),g_=Kt(),b_=go,v_=aw,y_=fw,m_=gw,w_=yw,__=_w,E_=Wu,S_=Tw,x_=Lw,M_=Bw,C_=$w,R_=Hw;var I_={parse:zw,valid:qw,clean:Gw,inc:Jw,diff:Zw,major:Qw,minor:Yw,patch:Kw,prerelease:Xw,compare:e_,rcompare:t_,compareLoose:r_,compareBuild:n_,sort:i_,rsort:s_,gt:o_,lt:a_,eq:u_,neq:c_,gte:l_,lte:f_,cmp:h_,coerce:d_,Comparator:p_,Range:g_,satisfies:b_,toComparators:v_,maxSatisfying:y_,minSatisfying:m_,minVersion:w_,validRange:__,outside:E_,gtr:S_,ltr:x_,intersects:M_,simplifyRange:C_,subset:R_,SemVer:Vw,re:Na.re,src:Na.src,tokens:Na.t,SEMVER_SPEC_VERSION:Dl.SEMVER_SPEC_VERSION,RELEASE_TYPES:Dl.RELEASE_TYPES,compareIdentifiers:Fl.compareIdentifiers,rcompareIdentifiers:Fl.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=I_,r=mn,n=gt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",y=>(0,e.valid)(y)===null?`Expected SemVer version, got "${y}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",y=>(0,e.validRange)(y)===null?`Expected SemVer range, got "${y}"`:!0);function i(y){return(0,r.is)(y,t.VersionStruct)}t.isValidSemVerVersion=i;function s(y){return(0,r.is)(y,t.VersionRangeStruct)}t.isValidSemVerRange=s;function a(y){(0,n.assertStruct)(y,t.VersionStruct)}t.assertIsSemVerVersion=a;function o(y){(0,n.assertStruct)(y,t.VersionRangeStruct)}t.assertIsSemVerRange=o;function c(y,v){return(0,e.gt)(y,v)}t.gtVersion=c;function h(y,v){return(0,e.gtr)(y,v)}t.gtRange=h;function g(y,v){return(0,e.satisfies)(y,v,{includePrerelease:!0})}t.satisfiesVersionRange=g})(ed);(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s);var o=Object.getOwnPropertyDescriptor(i,s);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,a,o)}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gt,t),r(ts,t),r(_e,t),r(uo,t),r(sr,t),r(Xn,t),r(rs,t),r(Yh,t),r(ei,t),r(Bu,t),r(or,t),r(Kh,t),r(Xh,t),r(ed,t)})(Nh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Nh;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Th);var cd=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.PollingBlockTracker=void 0;const A_=cd(Cu),k_=cd(Xv),T_=Xi,$l=Th,jl=(0,$l.createModuleLogger)($l.projectLogger,"polling-block-tracker"),N_=(0,A_.default)(),O_=1e3;class L_ extends T_.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*O_,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Ul(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Ul(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:N_(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),jl("Making request",e);const r=await(0,k_.default)(n=>this._provider.sendAsync(e,n))();if(jl("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}oo.PollingBlockTracker=L_;function Ul(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var bo={},P_=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});bo.SubscribeBlockTracker=void 0;const B_=P_(Cu),D_=Xi,F_=(0,B_.default)();class $_ extends D_.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:F_(),method:e,params:r,jsonrpc:"2.0"},(s,a)=>{s?i(s):n(a.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}bo.SubscribeBlockTracker=$_;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oo,t),r(bo,t),r(ld,t)})(kh);var zu={},vo={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.getUniqueId=void 0;const fd=4294967295;let Oa=Math.floor(Math.random()*fd);function j_(){return Oa=(Oa+1)%fd,Oa}ns.getUniqueId=j_;Object.defineProperty(vo,"__esModule",{value:!0});vo.createIdRemapMiddleware=void 0;const U_=ns;function W_(){return(t,e,r,n)=>{const i=t.id,s=U_.getUniqueId();t.id=s,e.id=s,r(a=>{t.id=i,e.id=i,a()})}}vo.createIdRemapMiddleware=W_;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.createAsyncMiddleware=void 0;function H_(t){return async(e,r,n,i)=>{let s;const a=new Promise(g=>{s=g});let o=null,c=!1;const h=async()=>{c=!0,n(g=>{o=g,s()}),await a};try{await t(e,r,h),c?(await a,o(null)):i(null)}catch(g){o?o(g):i(g)}}}yo.createAsyncMiddleware=H_;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.createScaffoldMiddleware=void 0;function V_(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}mo.createScaffoldMiddleware=V_;var is={},hd={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.EthereumProviderError=Ir.EthereumRpcError=void 0;const z_=xf;class dd extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return z_.default(this.serialize(),J_,2)}}Ir.EthereumRpcError=dd;class q_ extends dd{constructor(e,r,n){if(!G_(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Ir.EthereumProviderError=q_;function G_(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function J_(t,e){if(e!=="[Circular]")return e}var qu={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.errorValues=Ar.errorCodes=void 0;Ar.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ar.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ar,r=Ir,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:a(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(v,E=i){if(Number.isInteger(v)){const P=v.toString();if(y(e.errorValues,P))return e.errorValues[P].message;if(h(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=a;function o(v){if(!Number.isInteger(v))return!1;const E=v.toString();return!!(e.errorValues[E]||h(v))}t.isValidCode=o;function c(v,{fallbackError:E=s,shouldIncludeStack:P=!1}={}){var F,W;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const k={};if(v&&typeof v=="object"&&!Array.isArray(v)&&y(v,"code")&&o(v.code)){const D=v;k.code=D.code,D.message&&typeof D.message=="string"?(k.message=D.message,y(D,"data")&&(k.data=D.data)):(k.message=a(k.code),k.data={originalError:g(v)})}else{k.code=E.code;const D=(F=v)===null||F===void 0?void 0:F.message;k.message=D&&typeof D=="string"?D:E.message,k.data={originalError:g(v)}}const T=(W=v)===null||W===void 0?void 0:W.stack;return P&&v&&T&&typeof T=="string"&&(k.stack=T),k}t.serializeError=c;function h(v){return v>=-32099&&v<=-32e3}function g(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function y(v,E){return Object.prototype.hasOwnProperty.call(v,E)}})(qu);var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.ethErrors=void 0;const Gu=Ir,pd=qu,vt=Ar;wo.ethErrors={rpc:{parse:t=>Ot(vt.errorCodes.rpc.parse,t),invalidRequest:t=>Ot(vt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ot(vt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ot(vt.errorCodes.rpc.methodNotFound,t),internal:t=>Ot(vt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ot(e,t)},invalidInput:t=>Ot(vt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ot(vt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ot(vt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ot(vt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ot(vt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ot(vt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Si(vt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Si(vt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Si(vt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Si(vt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Si(vt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Gu.EthereumProviderError(e,r,n)}}};function Ot(t,e){const[r,n]=gd(e);return new Gu.EthereumRpcError(t,r||pd.getMessageFromCode(t),n)}function Si(t,e){const[r,n]=gd(e);return new Gu.EthereumProviderError(t,r||pd.getMessageFromCode(t),n)}function gd(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Ir;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=qu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=wo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ar;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(hd);var Z_=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});is.JsonRpcEngine=void 0;const Q_=Z_(pn),Lt=hd;class hr extends Q_.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,a,o]=await hr._runAllMiddleware(e,r,this._middleware);return a?(await hr._runReturnHandlers(o),i(s)):n(async c=>{try{await hr._runReturnHandlers(o)}catch(h){return c(h)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const a=new Lt.EthereumRpcError(Lt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){const a=new Lt.EthereumRpcError(Lt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(a,{id:e.id,jsonrpc:"2.0",error:a})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(a){s=a}return s&&(delete i.result,i.error||(i.error=Lt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await hr._runAllMiddleware(e,r,this._middleware);if(hr._checkForCompletion(e,r,i),await hr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,a=!1;for(const o of n)if([s,a]=await hr._runMiddleware(e,r,o,i),a)break;return[s,a,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const a=c=>{const h=c||r.error;h&&(r.error=Lt.serializeError(h)),s([h,!0])},o=c=>{r.error?a(r.error):(c&&(typeof c!="function"&&a(new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${La(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,o,a)}catch(c){a(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${La(e)}`,{request:e});if(!n)throw new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${La(e)}`,{request:e})}}is.JsonRpcEngine=hr;function La(t){return JSON.stringify(t,null,2)}var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.mergeMiddleware=void 0;const Y_=is;function K_(t){const e=new Y_.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}_o.mergeMiddleware=K_;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vo,t),r(yo,t),r(mo,t),r(ns,t),r(is,t),r(_o,t)})(zu);var bd={},Ju={};const Zu=dn(x0);var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});var Wl=Zu,X_=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Wl.__awaiter(this,void 0,void 0,function(){var r,n,i;return Wl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Eo.default=X_;Object.defineProperty(Ju,"__esModule",{value:!0});var Hl=Zu,e2=Eo,t2=function(){function t(){this._semaphore=new e2.default(1)}return t.prototype.acquire=function(){return Hl.__awaiter(this,void 0,void 0,function(){var e,r;return Hl.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ju.default=t2;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.withTimeout=void 0;var Es=Zu;function r2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Es.__awaiter(n,void 0,void 0,function(){var a,o,c;return Es.__generator(this,function(h){switch(h.label){case 0:return a=!1,setTimeout(function(){a=!0,s(r)},e),[4,t.acquire()];case 1:return o=h.sent(),a?(c=Array.isArray(o)?o[1]:o,c()):i(o),[2]}})})})},runExclusive:function(i){return Es.__awaiter(this,void 0,void 0,function(){var s,a;return Es.__generator(this,function(o){switch(o.label){case 0:s=function(){},o.label=1;case 1:return o.trys.push([1,,7,8]),[4,this.acquire()];case 2:return a=o.sent(),Array.isArray(a)?(s=a[1],[4,i(a[0])]):[3,4];case 3:return[2,o.sent()];case 4:return s=a,[4,i()];case 5:return[2,o.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}So.withTimeout=r2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ju;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Eo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=So;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(bd);var n2=s2,i2=Object.prototype.hasOwnProperty;function s2(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)i2.call(r,n)&&(t[n]=r[n])}return t}const o2=n2,a2=Cu();var u2=de;function de(t){const e=this;e.currentProvider=t}de.prototype.getBalance=ss(2,"eth_getBalance");de.prototype.getCode=ss(2,"eth_getCode");de.prototype.getTransactionCount=ss(2,"eth_getTransactionCount");de.prototype.getStorageAt=ss(3,"eth_getStorageAt");de.prototype.call=ss(2,"eth_call");de.prototype.protocolVersion=ve("eth_protocolVersion");de.prototype.syncing=ve("eth_syncing");de.prototype.coinbase=ve("eth_coinbase");de.prototype.mining=ve("eth_mining");de.prototype.hashrate=ve("eth_hashrate");de.prototype.gasPrice=ve("eth_gasPrice");de.prototype.accounts=ve("eth_accounts");de.prototype.blockNumber=ve("eth_blockNumber");de.prototype.getBlockTransactionCountByHash=ve("eth_getBlockTransactionCountByHash");de.prototype.getBlockTransactionCountByNumber=ve("eth_getBlockTransactionCountByNumber");de.prototype.getUncleCountByBlockHash=ve("eth_getUncleCountByBlockHash");de.prototype.getUncleCountByBlockNumber=ve("eth_getUncleCountByBlockNumber");de.prototype.sign=ve("eth_sign");de.prototype.sendTransaction=ve("eth_sendTransaction");de.prototype.sendRawTransaction=ve("eth_sendRawTransaction");de.prototype.estimateGas=ve("eth_estimateGas");de.prototype.getBlockByHash=ve("eth_getBlockByHash");de.prototype.getBlockByNumber=ve("eth_getBlockByNumber");de.prototype.getTransactionByHash=ve("eth_getTransactionByHash");de.prototype.getTransactionByBlockHashAndIndex=ve("eth_getTransactionByBlockHashAndIndex");de.prototype.getTransactionByBlockNumberAndIndex=ve("eth_getTransactionByBlockNumberAndIndex");de.prototype.getTransactionReceipt=ve("eth_getTransactionReceipt");de.prototype.getUncleByBlockHashAndIndex=ve("eth_getUncleByBlockHashAndIndex");de.prototype.getUncleByBlockNumberAndIndex=ve("eth_getUncleByBlockNumberAndIndex");de.prototype.getCompilers=ve("eth_getCompilers");de.prototype.compileLLL=ve("eth_compileLLL");de.prototype.compileSolidity=ve("eth_compileSolidity");de.prototype.compileSerpent=ve("eth_compileSerpent");de.prototype.newFilter=ve("eth_newFilter");de.prototype.newBlockFilter=ve("eth_newBlockFilter");de.prototype.newPendingTransactionFilter=ve("eth_newPendingTransactionFilter");de.prototype.uninstallFilter=ve("eth_uninstallFilter");de.prototype.getFilterChanges=ve("eth_getFilterChanges");de.prototype.getFilterLogs=ve("eth_getFilterLogs");de.prototype.getLogs=ve("eth_getLogs");de.prototype.getWork=ve("eth_getWork");de.prototype.submitWork=ve("eth_submitWork");de.prototype.submitHashrate=ve("eth_submitHashrate");de.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(c2(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ve(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ss(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function c2(t){return o2({id:a2(),jsonrpc:"2.0",params:[]},t)}const Vl=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((a,o)=>{e.multiArgs?i.push((...h)=>{e.errorFirst?h[0]?o(h):(h.shift(),a(h)):a(h)}):e.errorFirst?i.push((h,g)=>{h?o(h):a(g)}):i.push(a),Reflect.apply(t,this===r?n:this,i)})},zl=new WeakMap;var l2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(a,o)=>{let c=zl.get(a);if(c||(c={},zl.set(a,c)),o in c)return c[o];const h=P=>typeof P=="string"||typeof o=="symbol"?o===P:P.test(o),g=Reflect.getOwnPropertyDescriptor(a,o),y=g===void 0||g.writable||g.configurable,E=(e.include?e.include.some(h):!e.exclude.some(h))&&y;return c[o]=E,E},i=new WeakMap,s=new Proxy(t,{apply(a,o,c){const h=i.get(a);if(h)return Reflect.apply(h,o,c);const g=e.excludeMain?a:Vl(a,e,s,a);return i.set(a,g),Reflect.apply(g,o,c)},get(a,o){const c=a[o];if(!n(a,o)||c===Function.prototype[o])return c;const h=i.get(c);if(h)return h;if(typeof c=="function"){const g=Vl(c,e,s,a);return i.set(c,g),g}return c}});return s};const f2=pn.default;class h2 extends f2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Qu=h2;const d2=Qu;class p2 extends d2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var g2=p2,os={minBlockRef:b2,maxBlockRef:v2,sortBlockRefs:Yu,bnToHex:y2,blockRefIsNumber:m2,hexToInt:js,incrementHexInt:w2,intToHex:vd,unsafeRandomBytes:_2};function b2(...t){return Yu(t)[0]}function v2(...t){const e=Yu(t);return e[e.length-1]}function Yu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:js(e)-js(r))}function y2(t){return"0x"+t.toString(16)}function m2(t){return t&&!["earliest","latest","pending"].includes(t)}function js(t){return t==null?t:Number.parseInt(t,16)}function w2(t){if(t==null)return t;const e=js(t);return vd(e+1)}function vd(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function _2(t){let e="0x";for(let r=0;r<t;r++)e+=ql(),e+=ql();return e}function ql(){return Math.floor(Math.random()*16).toString(16)}const E2=u2,S2=l2,x2=g2,{bnToHex:BC,hexToInt:Ss,incrementHexInt:M2,minBlockRef:C2,blockRefIsNumber:R2}=os;class I2 extends x2{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new E2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=C2(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=M2(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),o=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(o)}async _fetchLogs(e){return await S2(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ss(this.params.fromBlock)>=Ss(e.blockNumber)||R2(this.params.toBlock)&&Ss(this.params.toBlock)<=Ss(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let a=e.topics[s];if(!a)return!1;a=a.toLowerCase();let o=Array.isArray(i)?i:[i];return o.includes(null)?!0:(o=o.map(g=>g.toLowerCase()),o.includes(a))})}}var A2=I2,Ku=k2;async function k2({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Gl(e),s=Gl(r)-n+1,a=Array(s).fill().map((c,h)=>n+h).map(T2);return await Promise.all(a.map(c=>O2(t,"eth_getBlockByNumber",[c,!1])))}function Gl(t){return t==null?t:Number.parseInt(t,16)}function T2(t){return t==null?t:"0x"+t.toString(16)}function N2(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function O2(t,e,r){for(let n=0;n<3;n++)try{return await N2(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const L2=Qu,P2=Ku,{incrementHexInt:B2}=os;class D2 extends L2{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=B2(e),a=(await P2({provider:this.provider,fromBlock:i,toBlock:n})).map(o=>o.hash);this.addResults(a)}}var F2=D2;const $2=Qu,j2=Ku,{incrementHexInt:U2}=os;class W2 extends $2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=U2(e),i=await j2({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const a of i)s.push(...a.transactions);this.addResults(s)}}var H2=W2;const V2=bd.Mutex,{createAsyncMiddleware:z2,createScaffoldMiddleware:q2}=zu,G2=A2,J2=F2,Z2=H2,{intToHex:yd,hexToInt:Pa}=os;var Q2=Y2;function Y2({blockTracker:t,provider:e}){let r=0,n={};const i=new V2,s=K2({mutex:i}),a=q2({eth_newFilter:s(Ba(c)),eth_newBlockFilter:s(Ba(h)),eth_newPendingTransactionFilter:s(Ba(g)),eth_uninstallFilter:s(ks(E)),eth_getFilterChanges:s(ks(y)),eth_getFilterLogs:s(ks(v))}),o=async({oldBlock:T,newBlock:D})=>{if(n.length===0)return;const H=await i.acquire();try{await Promise.all(Pn(n).map(async j=>{try{await j.update({oldBlock:T,newBlock:D})}catch(J){console.error(J)}}))}catch(j){console.error(j)}H()};return a.newLogFilter=c,a.newBlockFilter=h,a.newPendingTransactionFilter=g,a.uninstallFilter=E,a.getFilterChanges=y,a.getFilterLogs=v,a.destroy=()=>{W()},a;async function c(T){const D=new G2({provider:e,params:T});return await P(D),D}async function h(){const T=new J2({provider:e});return await P(T),T}async function g(){const T=new Z2({provider:e});return await P(T),T}async function y(T){const D=Pa(T),H=n[D];if(!H)throw new Error(`No filter for index "${D}"`);return H.getChangesAndClear()}async function v(T){const D=Pa(T),H=n[D];if(!H)throw new Error(`No filter for index "${D}"`);let j=[];return H.type==="log"&&(j=H.getAllResults()),j}async function E(T){const D=Pa(T),H=n[D],j=Boolean(H);return j&&await F(D),j}async function P(T){const D=Pn(n).length,H=await t.getLatestBlock();await T.initialize({currentBlock:H}),r++,n[r]=T,T.id=r,T.idHex=yd(r);const j=Pn(n).length;return k({prevFilterCount:D,newFilterCount:j}),r}async function F(T){const D=Pn(n).length;delete n[T];const H=Pn(n).length;k({prevFilterCount:D,newFilterCount:H})}async function W(){const T=Pn(n).length;n={},k({prevFilterCount:T,newFilterCount:0})}function k({prevFilterCount:T,newFilterCount:D}){if(T===0&&D>0){t.on("sync",o);return}if(T>0&&D===0){t.removeListener("sync",o);return}}}function Ba(t){return ks(async(...e)=>{const r=await t(...e);return yd(r.id)})}function ks(t){return z2(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function K2({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Pn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const X2=pn.default,{createAsyncMiddleware:Jl,createScaffoldMiddleware:eE}=zu,tE=Q2,{unsafeRandomBytes:rE,incrementHexInt:nE}=os,iE=Ku;var sE=oE;function oE({blockTracker:t,provider:e}){const r={},n=tE({blockTracker:t,provider:e});let i=!1;const s=new X2,a=eE({eth_subscribe:Jl(o),eth_unsubscribe:Jl(c)});return a.destroy=g,{events:s,middleware:a};async function o(y,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=y.params[0],P=rE(16);let F;switch(E){case"newHeads":F=W({subId:P});break;case"logs":const T=y.params[1],D=await n.newLogFilter(T);F=k({subId:P,filter:D});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${E}"`)}r[P]=F,v.result=P;return;function W({subId:T}){const D={type:E,destroy:async()=>{t.removeListener("sync",D.update)},update:async({oldBlock:H,newBlock:j})=>{const J=j,ne=nE(H);(await iE({provider:e,fromBlock:ne,toBlock:J})).map(aE).filter(ae=>ae!==null).forEach(ae=>{h(T,ae)})}};return t.on("sync",D.update),D}function k({subId:T,filter:D}){return D.on("update",j=>h(T,j)),{type:E,destroy:async()=>await n.uninstallFilter(D.idHex)}}}async function c(y,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=y.params[0],P=r[E];if(!P){v.result=!1;return}delete r[E],await P.destroy(),v.result=!0}function h(y,v){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:y,result:v}})}function g(){s.removeAllListeners();for(const y in r)r[y].destroy(),delete r[y];i=!0}}function aE(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(so,"__esModule",{value:!0});so.SubscriptionManager=void 0;const uE=kh,cE=sE,Zl=()=>{};class lE{constructor(e){const r=new uE.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=cE({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Zl,Zl),r}destroy(){this.subscriptionMiddleware.destroy()}}so.SubscriptionManager=lE;var Xu=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.CoinbaseWalletProvider=void 0;const fE=Xu(pn),hE=Xu(Wi.exports),Da=ai,Ce=Hi,Ql=ui,Yl=Zt,Fa=Qs,dE=Re,ge=ie,$a=Xu(Jv),pE=Kn,Se=Ah,gE=so,Kl="DefaultChainId",Xl="DefaultJsonRpcUrl";class bE extends fE.default{constructor(e){var r,n;super(),this._filterPolyfill=new pE.FilterPolyfill(this),this._subscriptionManager=new gE.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ge.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const a=this._storage.getItem(Yl.LOCAL_STORAGE_ADDRESSES_KEY);if(a){const o=a.split(" ");o[0]!==""&&(this._addresses=o.map(c=>(0,ge.ensureAddressString)(c)),this.emit("accountsChanged",o))}this._subscriptionManager.events.on("notification",o=>{this.emit("message",{type:o.method,data:o.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",o=>{var c;if(!(o.origin!==location.origin||o.source!==window)&&o.data.type==="walletLinkMessage"){if(o.data.data.action==="defaultChainChanged"||o.data.data.action==="dappChainSwitched"){const h=o.data.data.chainId,g=(c=o.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(g,Number(h))}o.data.data.action==="addressChanged"&&this._setAddresses([o.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ge.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Xl))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Xl,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Kl,r.toString(10)),((0,ge.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,a){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,a?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,a){var o,c;if((0,ge.ensureIntNumber)(e)===this.getChainId())return!1;const h=await this.initializeRelay(),g=h.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!g&&await h.requestEthereumAccounts().promise;const y=await h.addEthereumChain(e.toString(),r,s,n,i,a).promise;return((o=y.result)===null||o===void 0?void 0:o.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=y.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,dE.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Ce.standardErrorCodes.provider.unsupportedChain?Ce.standardErrors.provider.unsupportedChain(e):Ce.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Da.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ql.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(Se.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Ce.serializeError)(i,e)})}catch(n){throw(0,Ce.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],a={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(a).then(o=>o.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Ce.serializeError)(n,e)})}catch(n){return Promise.reject((0,Ce.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Ce.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Ce.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ce.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ce.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ce.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,ge.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Ce.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Fa.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Ce.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Fa.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Ce.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Fa.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ge.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Yl.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(o=>r(Object.assign(Object.assign({},o),{id:e.id}))).catch(o=>n(o));return}const a=this._handleSubscriptionMethods(e);if(a!==void 0){a.then(o=>r({jsonrpc:"2.0",id:e.id,result:o.result})).catch(o=>n(o));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Se.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Se.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Se.JSONRPCMethod.net_version:return this._net_version();case Se.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Se.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Se.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Se.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Se.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Se.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Se.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Se.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Se.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Se.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Se.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Se.JSONRPCMethod.eth_signTypedData_v4:case Se.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Se.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Se.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Se.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Se.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Se.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Se.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Se.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Se.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Se.JSONRPCMethod.eth_subscribe:case Se.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ge.ensureAddressString)(e);return this._addresses.map(i=>(0,ge.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Da.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ge.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ge.ensureAddressString)(e.to):null,i=e.value!=null?(0,ge.ensureBN)(e.value):new hE.default(0),s=e.data?(0,ge.ensureBuffer)(e.data):Buffer.alloc(0),a=e.nonce!=null?(0,ge.ensureIntNumber)(e.nonce):null,o=e.gasPrice!=null?(0,ge.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,ge.ensureBN)(e.maxFeePerGas):null,h=e.maxPriorityFeePerGas!=null?(0,ge.ensureBN)(e.maxPriorityFeePerGas):null,g=e.gas!=null?(0,ge.ensureBN)(e.gas):null,y=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:c,maxPriorityFeePerGas:h,gasLimit:g,chainId:y}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ce.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ce.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ge.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Kl);if(!e)return(0,ge.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ge.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Da.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ql.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ge.ensureAddressString)(e[0]),n=(0,ge.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ge.ensureBuffer)(e[0]),n=(0,ge.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ge.ensureBuffer)(e[0]),n=(0,ge.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ge.ensureBuffer)(e[0]),n=(0,ge.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ge.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ge.ensureParsedJSONObject)(e[0]),n=(0,ge.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=$a.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ge.ensureAddressString)(e[0]),n=(0,ge.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=$a.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ge.ensureAddressString)(e[0]),n=(0,ge.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=$a.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const a=e[0];if(((r=a.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!a.chainName||a.chainName.trim()==="")throw Ce.standardErrors.rpc.invalidParams("chainName is a required field");if(!a.nativeCurrency)throw Ce.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(a.chainId,16);return await this.addEthereumChain(o,(n=a.rpcUrls)!==null&&n!==void 0?n:[],(i=a.blockExplorerUrls)!==null&&i!==void 0?i:[],a.chainName,(s=a.iconUrls)!==null&&s!==void 0?s:[],a.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ce.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw Ce.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw Ce.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw Ce.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,o,a,n)}}_eth_uninstallFilter(e){const r=(0,ge.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ge.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ge.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Zn.CoinbaseWalletProvider=bE;var xo={},Mo={};const Tt=dn(C0);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iu=function(t,e){return iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},iu(t,e)};function z(t,e){iu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ti(t){return typeof t=="function"}var ef=!1,Bt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}ef=t},get useDeprecatedSynchronousErrorHandling(){return ef}};function jn(t){setTimeout(function(){throw t},0)}var Us={closed:!0,next:function(t){},error:function(t){if(Bt.useDeprecatedSynchronousErrorHandling)throw t;jn(t)},complete:function(){}},St=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function ec(t){return t!==null&&typeof t=="object"}var vE=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Ni=vE,Xe=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var o=0;o<n.length;++o){var c=n[o];c.remove(this)}if(ti(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(y){e=y instanceof Ni?tf(y.errors):[y]}}if(St(a))for(var o=-1,h=a.length;++o<h;){var g=a[o];if(ec(g))try{g.unsubscribe()}catch(v){e=e||[],v instanceof Ni?e=e.concat(tf(v.errors)):e.push(v)}}if(e)throw new Ni(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function tf(t){return t.reduce(function(e,r){return e.concat(r instanceof Ni?r.errors:r)},[])}var Ws=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),oe=function(t){z(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Us;break;case 1:if(!r){s.destination=Us;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new rf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new rf(s,r,n,i);break}return s}return e.prototype[Ws]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Xe),rf=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this)||this;a._parentSubscriber=r;var o,c=a;return ti(n)?o=n:n&&(o=n.next,i=n.error,s=n.complete,n!==Us&&(c=Object.create(n),ti(c.unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=o,a._error=i,a._complete=s,a}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Bt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Bt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):jn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;jn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Bt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Bt.useDeprecatedSynchronousErrorHandling)throw i;jn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Bt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Bt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(jn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(oe);function tc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof oe?t=n:t=null}return!0}function yE(t,e,r){if(t){if(t instanceof oe)return t;if(t[Ws])return t[Ws]()}return!t&&!e&&!r?new oe(Us):new oe(t,e,r)}var gi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function kr(t){return t}function su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return md(t)}function md(t){return t.length===0?kr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var be=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=yE(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Bt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Bt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Bt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),tc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=nf(r),new r(function(i,s){var a;a=n.subscribe(function(o){try{e(o)}catch(c){s(c),a&&a.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[gi]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:md(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=nf(e),new e(function(n,i){var s;r.subscribe(function(a){return s=a},function(a){return i(a)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function nf(t){if(t||(t=Bt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var mE=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),xr=mE,wd=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Xe),_d=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(oe),ht=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Ws]=function(){return new _d(this)},e.prototype.lift=function(r){var n=new sf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new xr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),a=0;a<i;a++)s[a].next(r)},e.prototype.error=function(r){if(this.closed)throw new xr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),a=0;a<i;a++)s[a].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new xr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new xr;return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.isStopped?(r.complete(),Xe.EMPTY):(this.observers.push(r),new wd(this,r))},e.prototype.asObservable=function(){var r=new be;return r.source=this,r},e.create=function(r,n){return new sf(r,n)},e}(be),sf=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Xe.EMPTY},e}(ht);function rc(){return function(e){return e.lift(new wE(e))}}var wE=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new _E(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),_E=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(oe),Ed=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Xe,r.add(this.source.subscribe(new SE(this.getSubject(),this))),r.closed&&(this._connection=null,r=Xe.EMPTY)),r},e.prototype.refCount=function(){return rc()(this)},e}(be),EE=function(){var t=Ed.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),SE=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(_d);function xE(t,e,r,n){return function(i){return i.lift(new ME(t,e,r,n))}}var ME=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new CE(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),CE=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;return o.keySelector=n,o.elementSelector=i,o.durationSelector=s,o.subjectSelector=a,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),a;if(this.elementSelector)try{a=this.elementSelector(r)}catch(h){this.error(h)}else a=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ht,i.set(n,s);var o=new ou(n,s,this);if(this.destination.next(o),this.durationSelector){var c=void 0;try{c=this.durationSelector(new ou(n,s))}catch(h){this.error(h);return}this.add(c.subscribe(new RE(n,s,this)))}}s.closed||s.next(a)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(oe),RE=function(t){z(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(oe),ou=function(t){z(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Xe,i=this,s=i.refCountSubscription,a=i.groupSubject;return s&&!s.closed&&n.add(new IE(s)),n.add(a.subscribe(r)),n},e}(be),IE=function(t){z(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Xe),Sd=function(t){z(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ht),AE=function(t){z(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Xe),as=function(t){z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(a){i=!0,s=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(AE),kE=function(t){z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(as),au=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),us=function(t){z(e,t);function e(r,n){n===void 0&&(n=au.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(au),TE=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(us),xd=new TE(kE),Md=xd,ri=new be(function(t){return t.complete()});function bi(t){return t?NE(t):ri}function NE(t){return new be(function(e){return t.schedule(function(){return e.complete()})})}function kt(t){return t&&typeof t.schedule=="function"}var Cd=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function nc(t,e){return new be(function(r){var n=new Xe,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function cs(t,e){return e?nc(t,e):new be(Cd(t))}function Co(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),nc(t,r)):cs(t)}function ic(t,e){return e?new be(function(r){return e.schedule(OE,0,{error:t,subscriber:r})}):new be(function(r){return r.error(t)})}function OE(t){var e=t.error,r=t.subscriber;r.error(e)}var uu;uu||(uu={});var gr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Co(this.value);case"E":return ic(this.error);case"C":return bi()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function LE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new PE(t,e))}}var PE=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Rd(e,this.scheduler,this.delay))},t}(),Rd=function(t){z(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new BE(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(gr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(gr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(gr.createComplete()),this.unsubscribe()},e}(oe),BE=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),sc=function(t){z(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new DE(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,a=i.length,o;if(this.closed)throw new xr;if(this.isStopped||this.hasError?o=Xe.EMPTY:(this.observers.push(r),o=new wd(this,r)),s&&r.add(r=new Rd(r,s)),n)for(var c=0;c<a&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<a&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),o},e.prototype._getNow=function(){return(this.scheduler||Md).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,a=s.length,o=0;o<a&&!(r-s[o].time<i);)o++;return a>n&&(o=Math.max(o,a-n)),o>0&&s.splice(0,o),s},e}(ht),DE=function(){function t(e,r){this.time=e,this.value=r}return t}(),vi=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Xe.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ht),FE=1,$E=function(){return Promise.resolve()}(),cu={};function of(t){return t in cu?(delete cu[t],!0):!1}var af={setImmediate:function(t){var e=FE++;return cu[e]=!0,$E.then(function(){return of(e)&&t()}),e},clearImmediate:function(t){of(t)}},jE=function(t){z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=af.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(af.clearImmediate(n),r.scheduled=void 0)},e}(as),UE=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,a=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<a&&(r=n.shift()));if(this.active=!1,i){for(;++s<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(us),Id=new UE(jE),Ts=Id,Ad=new us(as),xt=Ad,WE=function(t){z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(as),HE=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,a=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<a&&(r=n.shift()));if(this.active=!1,i){for(;++s<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(us),kd=new HE(WE),VE=kd,zE=function(t){z(e,t);function e(r,n){r===void 0&&(r=Td),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(s=a.execute(a.state,a.delay))););if(s){for(;a=n.shift();)a.unsubscribe();throw s}},e.frameTimeFactor=10,e}(us),Td=function(t){z(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(as);function nr(){}function qE(t){return!!t&&(t instanceof be||typeof t.lift=="function"&&typeof t.subscribe=="function")}var GE=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),ni=GE,JE=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ls=JE,ZE=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Nd=ZE;function Wt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new QE(t,e))}}var QE=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new YE(e,this.project,this.thisArg))},t}(),YE=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(oe);function Od(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Od(t,r).apply(void 0,n).pipe(Wt(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,a,o={context:s,subject:a,callbackFunc:t,scheduler:r};return new be(function(c){if(r){var g={args:n,subscriber:c,params:o};return r.schedule(KE,0,g)}else{if(!a){a=new vi;var h=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];a.next(y.length<=1?y[0]:y),a.complete()};try{t.apply(s,n.concat([h]))}catch(y){tc(a)?a.error(y):console.warn(y)}}return a.subscribe(c)}})}}function KE(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,a=i.context,o=i.scheduler,c=i.subject;if(!c){c=i.subject=new vi;var h=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var v=g.length<=1?g[0]:g;e.add(o.schedule(XE,0,{value:v,subject:c}))};try{s.apply(a,r.concat([h]))}catch(g){c.error(g)}}this.add(c.subscribe(n))}function XE(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ld(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ld(t,r).apply(void 0,n).pipe(Wt(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new be(function(a){var o=s.context,c=s.subject;if(r)return r.schedule(eS,0,{params:s,subscriber:a,context:o});if(!c){c=s.subject=new vi;var h=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var v=g.shift();if(v){c.error(v);return}c.next(g.length<=1?g[0]:g),c.complete()};try{t.apply(o,n.concat([h]))}catch(g){tc(c)?c.error(g):console.warn(g)}}return c.subscribe(a)})}}function eS(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,a=r.args,o=r.scheduler,c=r.subject;if(!c){c=r.subject=new vi;var h=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var v=g.shift();if(v)e.add(o.schedule(uf,0,{err:v,subject:c}));else{var E=g.length<=1?g[0]:g;e.add(o.schedule(tS,0,{value:E,subject:c}))}};try{s.apply(i,a.concat([h]))}catch(g){this.add(o.schedule(uf,0,{err:g,subject:c}))}}this.add(c.subscribe(n))}function tS(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function uf(t){var e=t.err,r=t.subject;r.error(e)}var wn=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,a){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(oe),rS=function(t){z(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(oe),nS=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,jn),e}};function iS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tr=iS(),sS=function(t){return function(e){var r=t[Tr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},oS=function(t){return function(e){var r=t[gi]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Pd=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Bd(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var $i=function(t){if(!!t&&typeof t[gi]=="function")return oS(t);if(Pd(t))return Cd(t);if(Bd(t))return nS(t);if(!!t&&typeof t[Tr]=="function")return sS(t);var e=ec(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function vr(t,e,r,n,i){if(i===void 0&&(i=new rS(t,r,n)),!i.closed)return e instanceof be?e.subscribe(i):$i(e)(i)}var cf={};function aS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return kt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0]),cs(t,n).lift(new oc(r))}var oc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new uS(e,this.resultSelector))},t}(),uS=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(cf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(vr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,a=s[i],o=this.toRespond?a===cf?--this.toRespond:this.toRespond:0;s[i]=n,o===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(wn);function cS(t,e){return new be(function(r){var n=new Xe;return n.add(e.schedule(function(){var i=t[gi]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function lS(t,e){return new be(function(r){var n=new Xe;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function fS(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(function(r){var n=new Xe,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Tr](),n.add(e.schedule(function(){if(!r.closed){var s,a;try{var o=i.next();s=o.value,a=o.done}catch(c){r.error(c);return}a?r.complete():(r.next(s),this.schedule())}}))})),n})}function hS(t){return t&&typeof t[gi]=="function"}function dS(t){return t&&typeof t[Tr]=="function"}function Dd(t,e){if(t!=null){if(hS(t))return cS(t,e);if(Bd(t))return lS(t,e);if(Pd(t))return nc(t,e);if(dS(t)||typeof t=="string")return fS(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function yr(t,e){return e?Dd(t,e):t instanceof be?t:new be($i(t))}var et=function(t){z(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(oe),tt=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(oe);function rt(t,e){if(!e.closed){if(t instanceof be)return t.subscribe(e);var r;try{r=$i(t)(e)}catch(n){e.error(n)}return r}}function fn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(fn(function(i,s){return yr(t(i,s)).pipe(Wt(function(a,o){return e(i,a,s,o)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new pS(t,r))})}var pS=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new gS(e,this.project,this.concurrent))},t}(),gS=function(t){z(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(tt),bS=fn;function ac(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),fn(kr,t)}function Fd(){return ac(1)}function ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fd()(Co.apply(void 0,t))}function uc(t){return new be(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?yr(r):bi();return n.subscribe(e)})}function vS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(St(r))return xs(r,null);if(ec(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return xs(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&St(t[0])?t[0]:t,xs(t,null).pipe(Wt(function(s){return i.apply(void 0,s)}))}return xs(t,null)}function xs(t,e){return new be(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,a=0,o=function(h){var g=yr(t[h]),y=!1;r.add(g.subscribe({next:function(v){y||(y=!0,a++),i[h]=v},error:function(v){return r.error(v)},complete:function(){s++,(s===n||!y)&&(a===n&&r.next(e?e.reduce(function(v,E,P){return v[E]=i[P],v},{}):i),r.complete())}}))},c=0;c<n;c++)o(c)})}function $d(t,e,r,n){return ti(r)&&(n=r,r=void 0),n?$d(t,e,r).pipe(Wt(function(i){return St(i)?n.apply(void 0,i):n(i)})):new be(function(i){function s(a){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(a)}jd(t,e,s,i,r)})}function jd(t,e,r,n,i){var s;if(wS(t)){var a=t;t.addEventListener(e,r,i),s=function(){return a.removeEventListener(e,r,i)}}else if(mS(t)){var o=t;t.on(e,r),s=function(){return o.off(e,r)}}else if(yS(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var h=0,g=t.length;h<g;h++)jd(t[h],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function yS(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function mS(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function wS(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ud(t,e,r){return r?Ud(t,e).pipe(Wt(function(n){return St(n)?r.apply(void 0,n):r(n)})):new be(function(n){var i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return n.next(a.length===1?a[0]:a)},s;try{s=t(i)}catch(a){n.error(a);return}if(!!ti(e))return function(){return e(i,s)}})}function _S(t,e,r,n,i){var s,a;if(arguments.length==1){var o=t;a=o.initialState,e=o.condition,r=o.iterate,s=o.resultSelector||kr,i=o.scheduler}else n===void 0||kt(n)?(a=t,s=kr,i=n):(a=t,s=n);return new be(function(c){var h=a;if(i)return i.schedule(ES,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:h});do{if(e){var g=void 0;try{g=e(h)}catch(v){c.error(v);return}if(!g){c.complete();break}}var y=void 0;try{y=s(h)}catch(v){c.error(v);return}if(c.next(y),c.closed)break;try{h=r(h)}catch(v){c.error(v);return}}while(!0)})}function ES(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function SS(t,e,r){return e===void 0&&(e=ri),r===void 0&&(r=ri),uc(function(){return t()?e:r})}function ii(t){return!St(t)&&t-parseFloat(t)+1>=0}function xS(t,e){return t===void 0&&(t=0),e===void 0&&(e=xt),(!ii(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=xt),new be(function(r){return r.add(e.schedule(MS,t,{subscriber:r,counter:0,period:t})),r})}function MS(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Wd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return kt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof be?t[0]:ac(r)(cs(t,n))}var Hd=new be(nr);function CS(){return Hd}function lu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return ri;var r=t[0],n=t.slice(1);return t.length===1&&St(r)?lu.apply(void 0,r):new be(function(i){var s=function(){return i.add(lu.apply(void 0,n).subscribe(i))};return yr(r).subscribe({next:function(a){i.next(a)},error:s,complete:s})})}function RS(t,e){return e?new be(function(r){var n=Object.keys(t),i=new Xe;return i.add(e.schedule(IS,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new be(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function IS(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var a=e[r];n.next([a,s[a]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Vd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Nr(t,e){return function(n){return n.lift(new AS(t,e))}}var AS=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new kS(e,this.predicate,this.thisArg))},t}(),kS=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(oe);function TS(t,e,r){return[Nr(e,r)(new be($i(t))),Nr(Vd(e,r))(new be($i(t)))]}function zd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(St(t[0]))t=t[0];else return t[0];return cs(t,void 0).lift(new NS)}var NS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new OS(e))},t}(),OS=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],a=vr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(a),this.add(a)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var a=this.subscriptions[s];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(n)},e}(wn);function LS(t,e,r){return t===void 0&&(t=0),new be(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(PS,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function PS(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function qd(t,e,r){t===void 0&&(t=0);var n=-1;return ii(e)?n=Number(e)<1&&1||Number(e):kt(e)&&(r=e),kt(r)||(r=xt),new be(function(i){var s=ii(t)?t:+t-r.now();return r.schedule(BS,s,{index:0,period:n,subscriber:i})})}function BS(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function DS(t,e){return new be(function(r){var n;try{n=t()}catch(o){r.error(o);return}var i;try{i=e(n)}catch(o){r.error(o);return}var s=i?yr(i):ri,a=s.subscribe(r);return function(){a.unsubscribe(),n&&n.unsubscribe()}})}function Gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),cs(t,void 0).lift(new Jd(r))}var Jd=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new FS(e,this.resultSelector))},t}(),FS=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;St(r)?n.push(new jS(r)):typeof r[Tr]=="function"?n.push(new $S(r[Tr]())):n.push(new US(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var a=this.destination;a.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var a=r[s];if(typeof a.hasValue=="function"&&!a.hasValue())return}for(var o=!1,c=[],s=0;s<n;s++){var a=r[s],h=a.next();if(a.hasCompleted()&&(o=!0),h.done){i.complete();return}c.push(h.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),o&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(oe),$S=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),jS=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Tr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),US=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Tr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return rt(this.observable,new et(this))},e}(tt);const WS=Object.freeze(Object.defineProperty({__proto__:null,Observable:be,ConnectableObservable:Ed,GroupedObservable:ou,observable:gi,Subject:ht,BehaviorSubject:Sd,ReplaySubject:sc,AsyncSubject:vi,asap:Ts,asapScheduler:Id,async:xt,asyncScheduler:Ad,queue:Md,queueScheduler:xd,animationFrame:VE,animationFrameScheduler:kd,VirtualTimeScheduler:zE,VirtualAction:Td,Scheduler:au,Subscription:Xe,Subscriber:oe,Notification:gr,get NotificationKind(){return uu},pipe:su,noop:nr,identity:kr,isObservable:qE,ArgumentOutOfRangeError:ni,EmptyError:ls,ObjectUnsubscribedError:xr,UnsubscriptionError:Ni,TimeoutError:Nd,bindCallback:Od,bindNodeCallback:Ld,combineLatest:aS,concat:ji,defer:uc,empty:bi,forkJoin:vS,from:yr,fromEvent:$d,fromEventPattern:Ud,generate:_S,iif:SS,interval:xS,merge:Wd,never:CS,of:Co,onErrorResumeNext:lu,pairs:RS,partition:TS,race:zd,range:LS,throwError:ic,timer:qd,using:DS,zip:Gd,scheduled:Dd,EMPTY:ri,NEVER:Hd,config:Bt},Symbol.toStringTag,{value:"Module"})),Ro=dn(WS);var Io={};function Zd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Zd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function lf(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Zd(t))&&(n&&(n+=" "),n+=e);return n}const HS=Object.freeze(Object.defineProperty({__proto__:null,clsx:lf,default:lf},Symbol.toStringTag,{value:"Module"})),Ao=dn(HS),fs=dn(R0);var ar={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.CloseIcon=void 0;const ff=Tt;function VS(t){return(0,ff.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,ff.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ko.CloseIcon=VS;var cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var To={};Object.defineProperty(To,"__esModule",{value:!0});To.QRCodeIcon=void 0;const tr=Tt;function zS(t){return(0,tr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,tr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,tr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,tr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,tr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,tr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,tr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,tr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,tr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,tr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}To.QRCodeIcon=zS;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});const qS=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;fc.default=qS;var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var No={};Object.defineProperty(No,"__esModule",{value:!0});No.StatusDotIcon=void 0;const hf=Tt;function GS(t){return(0,hf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,hf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}No.StatusDotIcon=GS;var Oo={};function Qd(t){this.mode=It.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Qd.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ur(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ur.prototype={addData:function(t){var e=new Qd(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ur.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ye.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var a=s*i,o=0;o<this.modules[s].length;o++){var c=o*i,h=this.modules[s][o];h&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+i,a),n.lineTo(c+i,a+i),n.lineTo(c,a+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ye.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var a=-2;a<=2;a++)s==-2||s==2||a==-2||a==2||s==0&&a==0?this.modules[n+s][i+a]=!0:this.modules[n+s][i+a]=!1}},setupTypeNumber:function(t){for(var e=Ye.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ye.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var o=0;o<2;o++)if(this.modules[n][a-o]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var h=Ye.getMask(e,n,a-o);h&&(c=!c),this.modules[n][a-o]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ur.PAD0=236;ur.PAD1=17;ur.createData=function(t,e,r){for(var n=ir.getRSBlocks(t,e),i=new Yd,s=0;s<r.length;s++){var a=r[s];i.put(a.mode,4),i.put(a.getLength(),Ye.getLengthInBits(a.mode,t)),a.write(i)}for(var o=0,s=0;s<n.length;s++)o+=n[s].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(ur.PAD0,8),i.getLengthInBits()>=o*8));)i.put(ur.PAD1,8);return ur.createBytes(i,n)};ur.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),a=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,h=e[o].totalCount-c;n=Math.max(n,c),i=Math.max(i,h),s[o]=new Array(c);for(var g=0;g<s[o].length;g++)s[o][g]=255&t.buffer[g+r];r+=c;var y=Ye.getErrorCorrectPolynomial(h),v=new Jn(s[o],y.getLength()-1),E=v.mod(y);a[o]=new Array(y.getLength()-1);for(var g=0;g<a[o].length;g++){var P=g+E.getLength()-a[o].length;a[o][g]=P>=0?E.get(P):0}}for(var F=0,g=0;g<e.length;g++)F+=e[g].totalCount;for(var W=new Array(F),k=0,g=0;g<n;g++)for(var o=0;o<e.length;o++)g<s[o].length&&(W[k++]=s[o][g]);for(var g=0;g<i;g++)for(var o=0;o<e.length;o++)g<a[o].length&&(W[k++]=a[o][g]);return W};var It={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Mr={L:1,M:0,Q:3,H:2},mr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ye={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15)>=0;)e^=Ye.G15<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15);return(t<<10|e)^Ye.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18)>=0;)e^=Ye.G18<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ye.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case mr.PATTERN000:return(e+r)%2==0;case mr.PATTERN001:return e%2==0;case mr.PATTERN010:return r%3==0;case mr.PATTERN011:return(e+r)%3==0;case mr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case mr.PATTERN101:return e*r%2+e*r%3==0;case mr.PATTERN110:return(e*r%2+e*r%3)%2==0;case mr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Jn([1],0),r=0;r<t;r++)e=e.multiply(new Jn([1,ft.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case It.MODE_NUMBER:return 10;case It.MODE_ALPHA_NUM:return 9;case It.MODE_8BIT_BYTE:return 8;case It.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case It.MODE_NUMBER:return 12;case It.MODE_ALPHA_NUM:return 11;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case It.MODE_NUMBER:return 14;case It.MODE_ALPHA_NUM:return 13;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,a=t.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||o==0&&c==0||a==t.isDark(n+o,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var h=0;t.isDark(n,i)&&h++,t.isDark(n+1,i)&&h++,t.isDark(n,i+1)&&h++,t.isDark(n+1,i+1)&&h++,(h==0||h==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var g=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&g++;var y=Math.abs(100*g/e/e-50)/5;return r+=y*10,r}},ft={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ft.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ft.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var pt=0;pt<8;pt++)ft.EXP_TABLE[pt]=1<<pt;for(var pt=8;pt<256;pt++)ft.EXP_TABLE[pt]=ft.EXP_TABLE[pt-4]^ft.EXP_TABLE[pt-5]^ft.EXP_TABLE[pt-6]^ft.EXP_TABLE[pt-8];for(var pt=0;pt<255;pt++)ft.LOG_TABLE[ft.EXP_TABLE[pt]]=pt;function Jn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Jn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=ft.gexp(ft.glog(this.get(r))+ft.glog(t.get(n)));return new Jn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ft.glog(this.get(0))-ft.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=ft.gexp(ft.glog(t.get(n))+e);return new Jn(r,0).mod(t)}};function ir(t,e){this.totalCount=t,this.dataCount=e}ir.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ir.getRSBlocks=function(t,e){var r=ir.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var a=r[s*3+0],o=r[s*3+1],c=r[s*3+2],h=0;h<a;h++)i.push(new ir(o,c));return i};ir.getRsBlockTable=function(t,e){switch(e){case Mr.L:return ir.RS_BLOCK_TABLE[(t-1)*4+0];case Mr.M:return ir.RS_BLOCK_TABLE[(t-1)*4+1];case Mr.Q:return ir.RS_BLOCK_TABLE[(t-1)*4+2];case Mr.H:return ir.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Yd(){this.buffer=[],this.length=0}Yd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ja=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Kd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Mr.L;case"M":return Mr.M;case"Q":return Mr.Q;case"H":return Mr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,h){for(var g=i(c),y=1,v=0,E=0,P=ja.length;E<=P;E++){var F=ja[E];if(!F)throw new Error("Content too long: expected "+v+" but got "+g);switch(h){case"L":v=F[0];break;case"M":v=F[1];break;case"Q":v=F[2];break;case"H":v=F[3];break;default:throw new Error("Unknwon error correction level: "+h)}if(g<=v)break;y++}if(y>ja.length)throw new Error("Content too long");return y}function i(c){var h=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return h.length+(h.length!=c?3:0)}var s=this.options.content,a=n(s,this.options.ecl),o=r(this.options.ecl);this.qrcode=new ur(a,o),this.qrcode.addData(s),this.qrcode.make()}Kd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",a=e.width,o=e.height,c=r.length,h=a/(c+2*e.padding),g=o/(c+2*e.padding),y=typeof e.join<"u"?!!e.join:!1,v=typeof e.swap<"u"?!!e.swap:!1,E=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,P=typeof e.predefined<"u"?!!e.predefined:!1,F=P?i+'<defs><path id="qrmodule" d="M0 0 h'+g+" v"+h+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",W=i+'<rect x="0" y="0" width="'+a+'" height="'+o+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,k="",T="",D=0;D<c;D++)for(var H=0;H<c;H++){var j=r[H][D];if(j){var J=H*h+e.padding*h,ne=D*g+e.padding*g;if(v){var X=J;J=ne,ne=X}if(y){var Z=h+J,ae=g+ne;J=Number.isInteger(J)?Number(J):J.toFixed(2),ne=Number.isInteger(ne)?Number(ne):ne.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),ae=Number.isInteger(ae)?Number(ae):ae.toFixed(2),T+="M"+J+","+ne+" V"+ae+" H"+Z+" V"+ne+" H"+J+" Z "}else P?k+=i+'<use x="'+J.toString()+'" y="'+ne.toString()+'" href="#qrmodule" />'+s:k+=i+'<rect x="'+J.toString()+'" y="'+ne.toString()+'" width="'+h+'" height="'+g+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}y&&(k=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+T+'" />');let re="";if(this.options.image!==void 0&&this.options.image.svg){const _=a*this.options.image.width/100,u=o*this.options.image.height/100,p=a/2-_/2,b=o/2-u/2;re+=`<svg x="${p}" y="${b}" width="${_}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,re+=this.options.image.svg+s,re+="</svg>"}var ce="";switch(t.container){case"svg":E&&(ce+='<?xml version="1.0" standalone="yes"?>'+s),ce+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+o+'">'+s,ce+=F+W+k,ce+=re,ce+="</svg>";break;case"svg-viewbox":E&&(ce+='<?xml version="1.0" standalone="yes"?>'+s),ce+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+o+'">'+s,ce+=F+W+k,ce+=re,ce+="</svg>";break;case"g":ce+='<g width="'+a+'" height="'+o+'">'+s,ce+=F+W+k,ce+=re,ce+="</g>";break;default:ce+=(F+W+k+re).replace(/^\s+/,"");break}return ce};var JS=Kd,ZS=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.QRCode=void 0;const QS=Tt,df=fs,YS=ZS(JS),KS=t=>{const[e,r]=(0,df.useState)("");return(0,df.useEffect)(()=>{var n,i;const s=new YS.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),a=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${a}`)}),e?(0,QS.h)("img",{src:e,alt:"QR Code"}):null};Oo.QRCode=KS;var Lo={},dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var XS=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Spinner=void 0;const Ms=Tt,e3=XS(dc),t3=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ms.h)("div",{class:"-cbwsdk-spinner"},(0,Ms.h)("style",null,e3.default),(0,Ms.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ms.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Lo.Spinner=t3;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var yi=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});ar.CoinbaseAppSteps=ar.CoinbaseWalletSteps=ar.ConnectItem=ar.ConnectContent=void 0;const Ft=yi(Ao),le=Tt,pf=fs,r3=ie,n3=Vi,i3=ko,s3=yi(cc),o3=yi(lc),Xd=To,a3=yi(fc),u3=yi(hc),c3=No,l3=Oo,f3=Lo,h3=yi(pc),gf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:o3.default,steps:t0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:s3.default,steps:r0}},d3=t=>{switch(t){case"coinbase-app":return a3.default;case"coinbase-wallet-app":default:return u3.default}},fu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function p3(t){const{theme:e}=t,[r,n]=(0,pf.useState)("coinbase-wallet-app"),i=(0,pf.useCallback)(h=>{n(h)},[]),s=(0,r3.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),a=gf[r];if(!r)return null;const o=a.steps,c=r==="coinbase-app";return(0,le.h)("div",{"data-testid":"connect-content",class:(0,Ft.default)("-cbwsdk-connect-content",e)},(0,le.h)("style",null,h3.default),(0,le.h)("div",{class:"-cbwsdk-connect-content-header"},(0,le.h)("h2",{class:(0,Ft.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,le.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,le.h)(i3.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,le.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,le.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,le.h)("div",null,Object.entries(gf).map(([h,g])=>(0,le.h)(e0,{key:h,title:g.title,description:g.description,icon:g.icon,selected:r===h,onClick:()=>i(h),theme:e}))),c&&(0,le.h)("div",{class:(0,Ft.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,le.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,le.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,le.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,le.h)(l3.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:d3(r),width:25,height:25}}),(0,le.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:n3.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:s})),(0,le.h)(o,{theme:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Ft.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,le.h)(f3.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting...")))))}ar.ConnectContent=p3;function e0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,le.h)("div",{onClick:s,class:(0,Ft.default)("-cbwsdk-connect-item",i,{selected:n})},(0,le.h)("div",null,(0,le.h)("img",{src:r,alt:t})),(0,le.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,le.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,le.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}ar.ConnectItem=e0;function t0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ft.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,le.h)("li",{class:(0,Ft.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"Scan")," "),(0,le.h)("span",{class:(0,Ft.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(Xd.QRCodeIcon,{fill:fu(t)})))))}ar.CoinbaseWalletSteps=t0;function r0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ft.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,le.h)("li",{class:(0,Ft.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"More")),(0,le.h)("span",{class:(0,Ft.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(c3.StatusDotIcon,{fill:fu(t)})),(0,le.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,le.h)("strong",null,"Scan")),(0,le.h)("span",{class:(0,Ft.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(Xd.QRCodeIcon,{fill:fu(t)})))))}ar.CoinbaseAppSteps=r0;var Po={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.ArrowLeftIcon=void 0;const bf=Tt;function g3(t){return(0,bf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,bf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Bo.ArrowLeftIcon=g3;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.LaptopIcon=void 0;const Ua=Tt;function b3(t){return(0,Ua.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ua.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ua.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Do.LaptopIcon=b3;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.SafeIcon=void 0;const vf=Tt;function v3(t){return(0,vf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,vf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Fo.SafeIcon=v3;var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var n0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0});Po.TryExtensionContent=void 0;const Jr=n0(Ao),it=Tt,Wa=fs,y3=Bo,m3=Do,w3=Fo,_3=n0(gc);function E3({theme:t}){const[e,r]=(0,Wa.useState)(!1),n=(0,Wa.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Wa.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,it.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension",t)},(0,it.h)("style",null,_3.default),(0,it.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,it.h)("h3",{class:(0,Jr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,it.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,it.h)("button",{class:(0,Jr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,it.h)("div",null,!e&&(0,it.h)(y3.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,it.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,it.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,it.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,it.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,it.h)("span",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,it.h)(m3.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,it.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,it.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,it.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,it.h)("span",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,it.h)(w3.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,it.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Po.TryExtensionContent=E3;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var i0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});Io.ConnectDialog=void 0;const Ha=i0(Ao),Zr=Tt,Va=fs,S3=ar,x3=Po,M3=i0(bc),C3=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Va.useState)(!e),[s,a]=(0,Va.useState)(!e);(0,Va.useEffect)(()=>{const c=[window.setTimeout(()=>{a(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const o=r?"dark":"light";return(0,Zr.h)("div",{class:(0,Ha.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Zr.h)("style",null,M3.default),(0,Zr.h)("div",{class:(0,Ha.default)("-cbwsdk-connect-dialog-backdrop",o,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Zr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Zr.h)("div",{class:(0,Ha.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Zr.h)(S3.ConnectContent,{theme:o,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Zr.h)(x3.TryExtensionContent,{theme:o}))))};Io.ConnectDialog=C3;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.LinkFlow=void 0;const za=Tt,yf=Ro,R3=Io;class I3{constructor(e){this.extensionUI$=new yf.BehaviorSubject({}),this.subscriptions=new yf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,za.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,za.render)((0,za.h)(R3.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Mo.LinkFlow=I3;var s0={},vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=te&&te.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ao),n=Tt,i=fs,s=e(vc),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function o(y){switch(y){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(v){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=v.darkMode}attach(v){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",v.appendChild(this.root),this.render()}presentItem(v){const E=this.nextItemKey++;return this.items.set(E,v),this.render(),()=>{this.items.delete(E),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([v,E])=>(0,n.h)(t.SnackbarInstance,Object.assign({},E,{key:v}))))),this.root)}}t.Snackbar=c;const h=y=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},y.children));t.SnackbarContainer=h;const g=({autoExpand:y,message:v,menuItems:E,appSrc:P})=>{const[F,W]=(0,i.useState)(!0),[k,T]=(0,i.useState)(y??!1);(0,i.useEffect)(()=>{const H=[window.setTimeout(()=>{W(!1)},1),window.setTimeout(()=>{T(!0)},1e4)];return()=>{H.forEach(window.clearTimeout)}});const D=()=>{T(!k)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",F&&"-cbwsdk-snackbar-instance-hidden",k&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:D},(0,n.h)("img",{src:o(P),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},v),(0,n.h)("div",{class:"-gear-container"},!k&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),E&&E.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},E.map((H,j)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:H.onClick,key:j},(0,n.h)("svg",{width:H.svgWidth,height:H.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":H.defaultFillRule,"clip-rule":H.defaultClipRule,d:H.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},H.info)))))};t.SnackbarInstance=g})(s0);var $o={},yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var A3=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($o,"__esModule",{value:!0});$o.injectCssReset=void 0;const k3=A3(yc);function T3(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(k3.default)),document.documentElement.appendChild(t)}$o.injectCssReset=T3;Object.defineProperty(xo,"__esModule",{value:!0});xo.WalletSDKUI=void 0;const N3=Mo,O3=s0,L3=$o;class P3{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new O3.Snackbar({darkMode:e.darkMode}),this.linkFlow=new N3.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,L3.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}xo.WalletSDKUI=P3;var jo={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});var Un;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Un||(Un={}));function o0(t,e,r){if(!r||typeof r.value!==Un.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Un.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Un.boolTrue,writable:Un.boolTrue}),n}}}Uo.bind=o0;Uo.default=o0;function a0(t){return function(r){return r.lift(new B3(t))}}var B3=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new D3(e,this.durationSelector))},t}(),D3=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(a){return this.destination.error(a)}var s=rt(n,new et(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(tt);function F3(t,e){return e===void 0&&(e=xt),a0(function(){return qd(t,e)})}function $3(t){return function(r){return r.lift(new j3(t))}}var j3=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new U3(e,this.closingNotifier))},t}(),U3=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(rt(n,new et(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(tt);function W3(t,e){return e===void 0&&(e=null),function(n){return n.lift(new H3(t,e))}}var H3=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=V3:this.subscriberClass=z3}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),V3=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(oe),z3=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,a=n.buffers,o=n.count;this.count++,o%s===0&&a.push([]);for(var c=a.length;c--;){var h=a[c];h.push(r),h.length===i&&(a.splice(c,1),this.destination.next(h))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(oe);function q3(t){var e=arguments.length,r=xt;kt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(a){return a.lift(new G3(t,n,i,r))}}var G3=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Z3(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),J3=function(){function t(){this.buffer=[]}return t}(),Z3=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;o.bufferTimeSpan=n,o.bufferCreationInterval=i,o.maxBufferSize=s,o.scheduler=a,o.contexts=[];var c=o.openContext();if(o.timespanOnly=i==null||i<0,o.timespanOnly){var h={subscriber:o,context:c,bufferTimeSpan:n};o.add(c.closeAction=a.schedule(mf,n,h))}else{var g={subscriber:o,context:c},y={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:o,scheduler:a};o.add(c.closeAction=a.schedule(u0,n,g)),o.add(a.schedule(Q3,i,y))}return o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,a=0;a<i;a++){var o=n[a],c=o.buffer;c.push(r),c.length==this.maxBufferSize&&(s=o)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(mf,i,s))}},e.prototype.openContext=function(){var r=new J3;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(oe);function mf(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Q3(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),a=this;n.closed||(n.add(s.closeAction=i.schedule(u0,r,{subscriber:n,context:s})),a.schedule(t,e))}function u0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Y3(t,e){return function(n){return n.lift(new K3(t,e))}}var K3=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new X3(e,this.openings,this.closingSelector))},t}(),X3=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(vr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Xe,a={buffer:i,subscription:s};n.push(a);var o=vr(this,r,a);!o||o.closed?this.closeBuffer(a):(o.context=a,this.add(o),s.add(o))},e}(wn);function e4(t){return function(e){return e.lift(new t4(t))}}var t4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new r4(e,this.closingSelector))},t}(),r4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(a){return this.error(a)}r=new Xe,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(rt(i,new et(this))),this.subscribing=!1},e}(tt);function n4(t){return function(r){var n=new i4(t),i=r.lift(n);return n.caught=i}}var i4=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.selector,this.caught))},t}(),s4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(a){t.prototype.error.call(this,a);return}this._unsubscribeAndRecycle();var i=new et(this);this.add(i);var s=rt(n,i);s!==i&&this.add(s)}},e}(tt);function o4(t){return function(e){return e.lift(new oc(t))}}function a4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(yr([n].concat(t)),new oc(r))}}function u4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ji.apply(void 0,[r].concat(t)))}}function c0(t,e){return fn(t,e,1)}function c4(t,e){return c0(function(){return t},e)}function l4(t){return function(e){return e.lift(new f4(t,e))}}var f4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new h4(e,this.predicate,this.source))},t}(),h4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(oe);function d4(t){return function(e){return e.lift(new p4(t))}}var p4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new g4(e,this.durationSelector))},t}(),g4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=rt(n,new et(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(tt);function b4(t,e){return e===void 0&&(e=xt),function(r){return r.lift(new v4(t,e))}}var v4=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new y4(e,this.dueTime,this.scheduler))},t}(),y4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m4,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(oe);function m4(t){t.debouncedNext()}function hs(t){return t===void 0&&(t=null),function(e){return e.lift(new w4(t))}}var w4=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new _4(e,this.defaultValue))},t}(),_4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(oe);function l0(t){return t instanceof Date&&!isNaN(+t)}function E4(t,e){e===void 0&&(e=xt);var r=l0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new S4(n,e))}}var S4=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new x4(e,this.delay,this.scheduler))},t}(),x4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,a=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var o=Math.max(0,i[0].time-s.now());this.schedule(r,o)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new M4(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(gr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(gr.createComplete()),this.unsubscribe()},e}(oe),M4=function(){function t(e,r){this.time=e,this.notification=r}return t}();function C4(t,e){return e?function(r){return new I4(r,e).lift(new wf(t))}:function(r){return r.lift(new wf(t))}}var wf=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new R4(e,this.delayDurationSelector))},t}(),R4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,a){this.destination.next(r),this.removeSubscription(a),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=vr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(wn),I4=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new A4(r,this.source))},e}(be),A4=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(oe);function k4(){return function(e){return e.lift(new T4)}}var T4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new N4(e))},t}(),N4=function(t){z(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(oe);function O4(t,e){return function(r){return r.lift(new L4(t,e))}}var L4=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new P4(e,this.keySelector,this.flushes))},t}(),P4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(rt(i,new et(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(tt);function f0(t,e){return function(r){return r.lift(new B4(t,e))}}var B4=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new D4(e,this.compare,this.keySelector))},t}(),D4=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(o){return this.destination.error(o)}var s=!1;if(this.hasKey)try{var a=this.compare;s=a(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(oe);function F4(t,e){return f0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Wo(t){return t===void 0&&(t=U4),function(e){return e.lift(new $4(t))}}var $4=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new j4(e,this.errorFactory))},t}(),j4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(oe);function U4(){return new ls}function mc(t){return function(e){return t===0?bi():e.lift(new W4(t))}}var W4=function(){function t(e){if(this.total=e,this.total<0)throw new ni}return t.prototype.call=function(e,r){return r.subscribe(new H4(e,this.total))},t}(),H4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(oe);function V4(t,e){if(t<0)throw new ni;var r=arguments.length>=2;return function(n){return n.pipe(Nr(function(i,s){return s===t}),mc(1),r?hs(e):Wo(function(){return new ni}))}}function z4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ji(r,Co.apply(void 0,t))}}function q4(t,e){return function(r){return r.lift(new G4(t,e,r))}}var G4=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new J4(e,this.predicate,this.thisArg,this.source))},t}(),J4=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a.predicate=n,a.thisArg=i,a.source=s,a.index=0,a.thisArg=i||a,a}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(oe);function Z4(){return function(t){return t.lift(new Q4)}}var Q4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Y4(e))},t}(),Y4=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(rt(r,new et(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(tt);function h0(t,e){return e?function(r){return r.pipe(h0(function(n,i){return yr(t(n,i)).pipe(Wt(function(s,a){return e(n,s,i,a)}))}))}:function(r){return r.lift(new K4(t))}}var K4=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new X4(e,this.project))},t}(),X4=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(tt);function ex(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new tx(t,e,r))}}var tx=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new rx(e,this.project,this.concurrent,this.scheduler))},t}(),rx=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a.project=n,a.concurrent=i,a.scheduler=s,a.index=0,a.active=0,a.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(a.buffer=[]),a}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,a=r.index;n.subscribeToProjection(i,s,a)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,a=s(r,i);if(!this.scheduler)this.subscribeToProjection(a,r,i);else{var o={subscriber:this,result:a,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,o))}}catch(h){n.error(h)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(rt(r,new et(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(tt);function nx(t){return function(e){return e.lift(new ix(t))}}var ix=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new sx(e,this.callback))},t}(),sx=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Xe(n)),i}return e}(oe);function ox(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new d0(t,r,!1,e))}}var d0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new ax(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ax=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.yieldIndex=s,o.thisArg=a,o.index=0,o}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,a=this.index++;try{var o=i.call(s||this,r,a,this.source);o&&this.notifyComplete(this.yieldIndex?a:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(oe);function ux(t,e){return function(r){return r.lift(new d0(t,r,!0,e))}}function cx(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Nr(function(i,s){return t(i,s,n)}):kr,mc(1),r?hs(e):Wo(function(){return new ls}))}}function lx(){return function(e){return e.lift(new fx)}}var fx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new hx(e))},t}(),hx=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(oe);function dx(){return function(t){return t.lift(new px)}}var px=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gx(e))},t}(),gx=function(t){z(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(oe);function Hs(t){return function(r){return t===0?bi():r.lift(new bx(t))}}var bx=function(){function t(e){if(this.total=e,this.total<0)throw new ni}return t.prototype.call=function(e,r){return r.subscribe(new vx(e,this.total))},t}(),vx=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var a=s%i;n[a]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,a=0;a<i;a++){var o=n++%i;r.next(s[o])}r.complete()},e}(oe);function yx(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Nr(function(i,s){return t(i,s,n)}):kr,Hs(1),r?hs(e):Wo(function(){return new ls}))}}function mx(t){return function(e){return e.lift(new wx(t))}}var wx=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new _x(e,this.value))},t}(),_x=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(oe);function Ex(){return function(e){return e.lift(new Sx)}}var Sx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new xx(e))},t}(),xx=function(t){z(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(gr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(gr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(gr.createComplete()),r.complete()},e}(oe);function Vs(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Mx(t,e,r))}}var Mx=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Cx(e,this.accumulator,this.seed,this.hasSeed))},t}(),Cx=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a.accumulator=n,a._seed=i,a.hasSeed=s,a.index=0,a}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(oe);function Ho(t,e){return arguments.length>=2?function(n){return su(Vs(t,e),Hs(1),hs(e))(n)}:function(n){return su(Vs(function(i,s,a){return t(i,s,a+1)}),Hs(1))(n)}}function Rx(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Ho(e)}function Ix(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Wd.apply(void 0,[r].concat(t)))}}function Ax(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?fn(function(){return t},e,r):(typeof e=="number"&&(r=e),fn(function(){return t},r))}function kx(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Tx(t,e,r))}}var Tx=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Nx(e,this.accumulator,this.seed,this.concurrent))},t}(),Nx=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a.accumulator=n,a.acc=i,a.concurrent=s,a.hasValue=!1,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var a=this.accumulator;s=a(this.acc,r,n)}catch(o){return i.error(o)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(tt);function Ox(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Ho(e)}function hn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Lx(i,e));var s=Object.create(n,EE);return s.source=n,s.subjectFactory=i,s}}var Lx=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Px(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&St(t[0])&&(t=t[0]),function(r){return r.lift(new Bx(t))}}var Bx=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Dx(e,this.nextSources))},t}(),Dx=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(tt);function Fx(){return function(t){return t.lift(new $x)}}var $x=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new jx(e))},t}(),jx=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(oe);function Ux(t,e){return function(r){return[Nr(t,e)(r),Nr(Vd(t,e))(r)]}}function Wx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Wt(Hx(t,r))(n)}}function Hx(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var a=i?.[t[s]];if(a!==void 0)i=a;else return}return i};return r}function Vx(t){return t?hn(function(){return new ht},t):hn(new ht)}function zx(t){return function(e){return hn(new Sd(t))(e)}}function qx(){return function(t){return hn(new vi)(t)}}function Gx(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new sc(t,e,n);return function(a){return hn(function(){return s},i)(a)}}function Jx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&St(t[0])&&(t=t[0]),n.lift.call(zd.apply(void 0,[n].concat(t)))}}function Zx(t){return t===void 0&&(t=-1),function(e){return t===0?bi():t<0?e.lift(new _f(-1,e)):e.lift(new _f(t-1,e))}}var _f=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Qx(e,this.count,this.source))},t}(),Qx=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(oe);function Yx(t){return function(e){return e.lift(new Kx(t))}}var Kx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Xx(e,this.notifier,r))},t}(),Xx=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ht;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=rt(r,new et(this))},e}(tt);function e5(t){return t===void 0&&(t=-1),function(e){return e.lift(new t5(t,e))}}var t5=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new r5(e,this.count,this.source))},t}(),r5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(oe);function n5(t){return function(e){return e.lift(new i5(t,e))}}var i5=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new s5(e,this.notifier,this.source))},t}(),s5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ht;try{var a=this.notifier;i=a(n)}catch(o){return t.prototype.error.call(this,o)}s=rt(i,new et(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(tt);function o5(t){return function(e){return e.lift(new a5(t))}}var a5=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new u5(e),i=r.subscribe(n);return i.add(rt(this.notifier,new et(n))),i},t}(),u5=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(tt);function c5(t,e){return e===void 0&&(e=xt),function(r){return r.lift(new l5(t,e))}}var l5=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new f5(e,this.period,this.scheduler))},t}(),f5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(h5,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(oe);function h5(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function d5(t,e){return function(r){return r.lift(new p5(t,e))}}var p5=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.compareTo,this.comparator))},t}(),g5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new b5(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var a=n.shift(),o=i.shift(),c=!1;try{c=s?s(a,o):a===o}catch(h){this.destination.error(h)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(oe),b5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(oe);function v5(){return new ht}function y5(){return function(t){return rc()(hn(v5)(t))}}function m5(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(w5(n))}}function w5(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,a=t.scheduler,o,c=0,h,g=!1,y=!1;return function(E){c++;var P;!o||g?(g=!1,o=new sc(r,i,a),P=o.subscribe(this),h=E.subscribe({next:function(F){o.next(F)},error:function(F){g=!0,o.error(F)},complete:function(){y=!0,h=void 0,o.complete()}}),y&&(h=void 0)):P=o.subscribe(this),this.add(function(){c--,P.unsubscribe(),P=void 0,h&&!y&&s&&c===0&&(h.unsubscribe(),h=void 0,o=void 0)})}}function _5(t){return function(e){return e.lift(new E5(t,e))}}var E5=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new S5(e,this.predicate,this.source))},t}(),S5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new ls)},e}(oe);function x5(t){return function(e){return e.lift(new M5(t))}}var M5=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new C5(e,this.total))},t}(),C5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(oe);function R5(t){return function(e){return e.lift(new I5(t))}}var I5=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new ni}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new oe(e)):r.subscribe(new A5(e,this._skipCount))},t}(),A5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,a=this._ring,o=a[s];a[s]=r,this.destination.next(o)}},e}(oe);function k5(t){return function(e){return e.lift(new T5(t))}}var T5=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new N5(e,this.notifier))},t}(),N5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new et(i);i.add(s),i.innerSubscription=s;var a=rt(n,s);return a!==s&&(i.add(a),i.innerSubscription=a),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(tt);function O5(t){return function(e){return e.lift(new L5(t))}}var L5=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new P5(e,this.predicate))},t}(),P5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(oe);function B5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),function(n){return ji(t,n,r)}):function(n){return ji(t,n)}}var D5=function(t){z(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Ts);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!ii(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Ts),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Ts),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(be);function F5(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $5(t,e))}}var $5=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new D5(r,this.delay,this.scheduler).subscribe(e)},t}();function Ui(t,e){return typeof e=="function"?function(r){return r.pipe(Ui(function(n,i){return yr(t(n,i)).pipe(Wt(function(s,a){return e(n,s,i,a)}))}))}:function(r){return r.lift(new j5(t))}}var j5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new U5(e,this.project))},t}(),U5=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new et(this),s=this.destination;s.add(i),this.innerSubscription=rt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(tt);function W5(){return Ui(kr)}function H5(t,e){return e?Ui(function(){return t},e):Ui(function(){return t})}function V5(t){return function(e){return e.lift(new z5(t))}}var z5=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new q5(e),i=rt(this.notifier,new et(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),q5=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(tt);function G5(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new J5(t,e))}}var J5=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Z5(e,this.predicate,this.inclusive))},t}(),Z5=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(oe);function Q5(t,e,r){return function(i){return i.lift(new Y5(t,e,r))}}var Y5=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new K5(e,this.nextOrObserver,this.error,this.complete))},t}(),K5=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a._tapNext=nr,a._tapError=nr,a._tapComplete=nr,a._tapError=i||nr,a._tapComplete=s||nr,ti(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||nr,a._tapError=n.error||nr,a._tapComplete=n.complete||nr),a}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(oe),p0={leading:!0,trailing:!1};function X5(t,e){return e===void 0&&(e=p0),function(r){return r.lift(new eM(t,!!e.leading,!!e.trailing))}}var eM=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new tM(e,this.durationSelector,this.leading,this.trailing))},t}(),tM=function(t){z(e,t);function e(r,n,i,s){var a=t.call(this,r)||this;return a.destination=r,a.durationSelector=n,a._leading=i,a._trailing=s,a._hasValue=!1,a}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=rt(n,new et(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(tt);function rM(t,e,r){return e===void 0&&(e=xt),r===void 0&&(r=p0),function(n){return n.lift(new nM(t,e,r.leading,r.trailing))}}var nM=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new iM(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),iM=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;return o.duration=n,o.scheduler=i,o.leading=s,o.trailing=a,o._hasTrailingValue=!1,o._trailingValue=null,o}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(sM,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(oe);function sM(t){var e=t.subscriber;e.clearThrottle()}function oM(t){return t===void 0&&(t=xt),function(e){return uc(function(){return e.pipe(Vs(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Wt(function(r){var n=r.current,i=r.last,s=r.value;return new aM(s,n-i)}))})}}var aM=function(){function t(e,r){this.value=e,this.interval=r}return t}();function g0(t,e,r){return r===void 0&&(r=xt),function(n){var i=l0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new uM(s,i,e,r))}}var uM=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new cM(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),cM=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;return o.absoluteTimeout=n,o.waitFor=i,o.withObservable=s,o.scheduler=a,o.scheduleTimeout(),o}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(rt(n,new et(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(tt);function lM(t,e){return e===void 0&&(e=xt),g0(t,ic(new Nd),e)}function fM(t){return t===void 0&&(t=xt),Wt(function(e){return new hM(e,t.now())})}var hM=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function dM(t,e,r){return r===0?[e]:(t.push(e),t)}function pM(){return Ho(dM,[])}function gM(t){return function(r){return r.lift(new bM(t))}}var bM=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new vM(e),i=r.subscribe(n);return i.closed||n.add(rt(this.windowBoundaries,new et(n))),i},t}(),vM=function(t){z(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ht,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ht;n.next(i)},e}(tt);function yM(t,e){return e===void 0&&(e=0),function(n){return n.lift(new mM(t,e))}}var mM=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new wM(e,this.windowSize,this.startWindowEvery))},t}(),wM=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ht],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,a=this.windows,o=a.length,c=0;c<o&&!this.closed;c++)a[c].next(r);var h=this.count-s+1;if(h>=0&&h%n===0&&!this.closed&&a.shift().complete(),++this.count%n===0&&!this.closed){var g=new ht;a.push(g),i.next(g)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(oe);function _M(t){var e=xt,r=null,n=Number.POSITIVE_INFINITY;return kt(arguments[3])&&(e=arguments[3]),kt(arguments[2])?e=arguments[2]:ii(arguments[2])&&(n=Number(arguments[2])),kt(arguments[1])?e=arguments[1]:ii(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new EM(t,r,n,e))}}var EM=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new xM(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),SM=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ht),xM=function(t){z(e,t);function e(r,n,i,s,a){var o=t.call(this,r)||this;o.destination=r,o.windowTimeSpan=n,o.windowCreationInterval=i,o.maxWindowSize=s,o.scheduler=a,o.windows=[];var c=o.openWindow();if(i!==null&&i>=0){var h={subscriber:o,window:c,context:null},g={windowTimeSpan:n,windowCreationInterval:i,subscriber:o,scheduler:a};o.add(a.schedule(b0,n,h)),o.add(a.schedule(CM,i,g))}else{var y={subscriber:o,window:c,windowTimeSpan:n};o.add(a.schedule(MM,n,y))}return o}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var a=n[s];a.closed||(a.next(r),a.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(a))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new SM;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(oe);function MM(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function CM(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),a=this,o={action:a,subscription:null},c={subscriber:r,window:s,context:o};o.subscription=n.schedule(b0,e,c),a.add(o.subscription),a.schedule(t,i)}function b0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function RM(t,e){return function(r){return r.lift(new IM(t,e))}}var IM=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new AM(e,this.openings,this.closingSelector))},t}(),AM=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=vr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var a=n[s];a.window.error(r),a.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,a){if(r===this.openings){var o=void 0;try{var c=this.closingSelector;o=c(n)}catch(E){return this.error(E)}var h=new ht,g=new Xe,y={window:h,subscription:g};this.contexts.push(y);var v=vr(this,o,y);v.closed?this.closeWindow(this.contexts.length-1):(v.context=y,g.add(v)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,a=i.subscription;n.splice(r,1),s.complete(),a.unsubscribe()}},e}(wn);function kM(t){return function(r){return r.lift(new TM(t))}}var TM=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new NM(e,this.closingSelector))},t}(),NM=function(t){z(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,a){this.openWindow(a)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ht;this.destination.next(i);var s;try{var a=this.closingSelector;s=a()}catch(o){this.destination.error(o),this.window.error(o);return}this.add(this.closingNotification=vr(this,s))},e}(wn);function OM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new LM(i,n))}}var LM=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new PM(e,this.observables,this.project))},t}(),PM=function(t){z(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var a=n.length;s.values=new Array(a);for(var o=0;o<a;o++)s.toRespond.push(o);for(var o=0;o<a;o++){var c=n[o];s.add(vr(s,c,void 0,o))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var a=s.indexOf(i);a!==-1&&s.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(wn);function BM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Gd.apply(void 0,[n].concat(t)))}}function DM(t){return function(e){return e.lift(new Jd(t))}}const FM=Object.freeze(Object.defineProperty({__proto__:null,audit:a0,auditTime:F3,buffer:$3,bufferCount:W3,bufferTime:q3,bufferToggle:Y3,bufferWhen:e4,catchError:n4,combineAll:o4,combineLatest:a4,concat:u4,concatAll:Fd,concatMap:c0,concatMapTo:c4,count:l4,debounce:d4,debounceTime:b4,defaultIfEmpty:hs,delay:E4,delayWhen:C4,dematerialize:k4,distinct:O4,distinctUntilChanged:f0,distinctUntilKeyChanged:F4,elementAt:V4,endWith:z4,every:q4,exhaust:Z4,exhaustMap:h0,expand:ex,filter:Nr,finalize:nx,find:ox,findIndex:ux,first:cx,groupBy:xE,ignoreElements:lx,isEmpty:dx,last:yx,map:Wt,mapTo:mx,materialize:Ex,max:Rx,merge:Ix,mergeAll:ac,mergeMap:fn,flatMap:bS,mergeMapTo:Ax,mergeScan:kx,min:Ox,multicast:hn,observeOn:LE,onErrorResumeNext:Px,pairwise:Fx,partition:Ux,pluck:Wx,publish:Vx,publishBehavior:zx,publishLast:qx,publishReplay:Gx,race:Jx,reduce:Ho,repeat:Zx,repeatWhen:Yx,retry:e5,retryWhen:n5,refCount:rc,sample:o5,sampleTime:c5,scan:Vs,sequenceEqual:d5,share:y5,shareReplay:m5,single:_5,skip:x5,skipLast:R5,skipUntil:k5,skipWhile:O5,startWith:B5,subscribeOn:F5,switchAll:W5,switchMap:Ui,switchMapTo:H5,take:mc,takeLast:Hs,takeUntil:V5,takeWhile:G5,tap:Q5,throttle:X5,throttleTime:rM,throwIfEmpty:Wo,timeInterval:oM,timeout:lM,timeoutWith:g0,timestamp:fM,toArray:pM,window:gM,windowCount:yM,windowTime:_M,windowToggle:RM,windowWhen:kM,withLatestFrom:OM,zip:BM,zipAll:DM},Symbol.toStringTag,{value:"Module"})),wc=dn(FM);var Vo={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.ClientMessagePublishEvent=Dt.ClientMessageSetSessionConfig=Dt.ClientMessageGetSessionConfig=Dt.ClientMessageIsLinked=Dt.ClientMessageHostSession=void 0;function $M(t){return Object.assign({type:"HostSession"},t)}Dt.ClientMessageHostSession=$M;function jM(t){return Object.assign({type:"IsLinked"},t)}Dt.ClientMessageIsLinked=jM;function UM(t){return Object.assign({type:"GetSessionConfig"},t)}Dt.ClientMessageGetSessionConfig=UM;function WM(t){return Object.assign({type:"SetSessionConfig"},t)}Dt.ClientMessageSetSessionConfig=WM;function HM(t){return Object.assign({type:"PublishEvent"},t)}Dt.ClientMessagePublishEvent=HM;var v0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ro,r=wc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(a,o=WebSocket){this.WebSocketClass=o,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=a.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(a=>{let o;try{this.webSocket=o=new this.WebSocketClass(this.url)}catch(c){a.error(c);return}this.connectionStateSubject.next(n.CONNECTING),o.onclose=c=>{this.clearWebSocket(),a.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},o.onopen=c=>{a.next(),a.complete(),this.connectionStateSubject.next(n.CONNECTED)},o.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:a}=this;if(!!a){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{a.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(a=>{let o;try{o=JSON.parse(a)}catch{return(0,e.empty)()}return(0,e.of)(o)}))}sendData(a){const{webSocket:o}=this;if(!o)throw new Error("websocket is not connected");o.send(a)}clearWebSocket(){const{webSocket:a}=this;!a||(this.webSocket=null,a.onclose=null,a.onerror=null,a.onmessage=null,a.onopen=null)}}t.RxWebSocket=i})(v0);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.isServerMessageFail=void 0;function VM(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}zo.isServerMessageFail=VM;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.WalletSDKConnection=void 0;const Vt=Ro,ye=wc,xi=ui,Bn=Qi,Mi=Dt,Ci=ai,Cs=v0,qa=zo,Ef=1e4,zM=6e4;class qM{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Vt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Bn.IntNumber)(1),this.connectedSubject=new Vt.BehaviorSubject(!1),this.linkedSubject=new Vt.BehaviorSubject(!1),this.sessionConfigSubject=new Vt.ReplaySubject(1);const a=new Cs.RxWebSocket(n+"/rpc",s);this.ws=a,this.subscriptions.add(a.connectionState$.pipe((0,ye.tap)(o=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Ci.EVENTS.CONNECTED_STATE_CHANGE,{state:o,sessionIdHash:xi.Session.hash(e)})}),(0,ye.skip)(1),(0,ye.filter)(o=>o===Cs.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ye.delay)(5e3),(0,ye.filter)(o=>!this.destroyed),(0,ye.flatMap)(o=>a.connect()),(0,ye.retry)()).subscribe()),this.subscriptions.add(a.connectionState$.pipe((0,ye.skip)(2),(0,ye.switchMap)(o=>(0,Vt.iif)(()=>o===Cs.ConnectionState.CONNECTED,this.authenticate().pipe((0,ye.tap)(c=>this.sendIsLinked()),(0,ye.tap)(c=>this.sendGetSessionConfig()),(0,ye.map)(c=>!0)),(0,Vt.of)(!1))),(0,ye.distinctUntilChanged)(),(0,ye.catchError)(o=>(0,Vt.of)(!1))).subscribe(o=>this.connectedSubject.next(o))),this.subscriptions.add(a.connectionState$.pipe((0,ye.skip)(1),(0,ye.switchMap)(o=>(0,Vt.iif)(()=>o===Cs.ConnectionState.CONNECTED,(0,Vt.timer)(0,Ef)))).subscribe(o=>o===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(a.incomingData$.pipe((0,ye.filter)(o=>o==="h")).subscribe(o=>this.updateLastHeartbeat())),this.subscriptions.add(a.incomingJSONData$.pipe((0,ye.filter)(o=>["IsLinkedOK","Linked"].includes(o.type))).subscribe(o=>{var c;const h=o;(c=this.diagnostic)===null||c===void 0||c.log(Ci.EVENTS.LINKED,{sessionIdHash:xi.Session.hash(e),linked:h.linked,type:o.type,onlineGuests:h.onlineGuests}),this.linkedSubject.next(h.linked||h.onlineGuests>0)})),this.subscriptions.add(a.incomingJSONData$.pipe((0,ye.filter)(o=>["GetSessionConfigOK","SessionConfigUpdated"].includes(o.type))).subscribe(o=>{var c;const h=o;(c=this.diagnostic)===null||c===void 0||c.log(Ci.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:xi.Session.hash(e),metadata_keys:h&&h.metadata?Object.keys(h.metadata):void 0}),this.sessionConfigSubject.next({webhookId:h.webhookId,webhookUrl:h.webhookUrl,metadata:h.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Ci.EVENTS.STARTED_CONNECTING,{sessionIdHash:xi.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Ci.EVENTS.DISCONNECTED,{sessionIdHash:xi.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ye.filter)(e=>e),(0,ye.take)(1),(0,ye.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ye.filter)(e=>e),(0,ye.take)(1),(0,ye.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ye.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ye.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Mi.ClientMessageSetSessionConfig)({id:(0,Bn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ye.flatMap)(i=>this.makeRequest(n)),(0,ye.map)(i=>{if((0,qa.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Mi.ClientMessagePublishEvent)({id:(0,Bn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ye.flatMap)(s=>this.makeRequest(i)),(0,ye.map)(s=>{if((0,qa.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Ef*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=zM){const n=e.id;try{this.sendData(e)}catch(i){return(0,Vt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ye.timeoutWith)(r,(0,Vt.throwError)(new Error(`request ${n} timed out`))),(0,ye.filter)(i=>i.id===n),(0,ye.take)(1))}authenticate(){const e=(0,Mi.ClientMessageHostSession)({id:(0,Bn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ye.map)(r=>{if((0,qa.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Mi.ClientMessageIsLinked)({id:(0,Bn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Mi.ClientMessageGetSessionConfig)({id:(0,Bn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Vo.WalletSDKConnection=qM;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.decrypt=si.encrypt=void 0;const zs=ie;async function GM(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,zs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),a=16,o=s.slice(s.byteLength-a),c=s.slice(0,s.byteLength-a),h=new Uint8Array(o),g=new Uint8Array(c),y=new Uint8Array([...r,...h,...g]);return(0,zs.uint8ArrayToHex)(y)}si.encrypt=GM;function JM(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,zs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,zs.hexStringToUint8Array)(t),a=s.slice(0,12),o=s.slice(12,28),c=s.slice(28),h=new Uint8Array([...c,...o]),g={name:"AES-GCM",iv:new Uint8Array(a)};try{const y=await window.crypto.subtle.decrypt(g,i,h),v=new TextDecoder;r(v.decode(y))}catch(y){n(y)}})()})}si.decrypt=JM;var qo={},Go={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Go);Object.defineProperty(qo,"__esModule",{value:!0});qo.Web3RequestCanceledMessage=void 0;const ZM=Go;function QM(t){return{type:ZM.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}qo.Web3RequestCanceledMessage=QM;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.Web3RequestMessage=void 0;const YM=Go;function KM(t){return Object.assign({type:YM.RelayMessageType.WEB3_REQUEST},t)}Jo.Web3RequestMessage=KM;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.isWeb3ResponseMessage=oi.Web3ResponseMessage=void 0;const y0=Go;function XM(t){return Object.assign({type:y0.RelayMessageType.WEB3_RESPONSE},t)}oi.Web3ResponseMessage=XM;function eC(t){return t&&t.type===y0.RelayMessageType.WEB3_RESPONSE}oi.isWeb3ResponseMessage=eC;var tC=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rC=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m0=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},nC=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tC(e,t,r);return rC(e,t),e},iC=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jo,"__esModule",{value:!0});jo.WalletSDKRelay=void 0;const w0=iC(Uo),Qr=Ro,st=wc,yt=ai,sC=Vo,Dn=Hi,oC=Qi,Qe=ie,wr=nC(si),_r=ui,Rs=Zt,dt=Qs,aC=qo,uC=Jo,Pt=Re,Ct=oi;class Jt extends Rs.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Qr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Qr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=_r.Session.load(this.storage)||new _r.Session(this.storage).save(),r=new sC.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,st.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,st.skip)(1),(0,st.tap)(i=>{var s;this.isLinked=i;const a=this.storage.getItem(Rs.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(o[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const h=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(yt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:h})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,st.mergeMap)(i=>wr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Rs.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,st.mergeMap)(i=>wr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Rs.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,st.mergeMap)(i=>(0,Qr.zip)(wr.decrypt(i.metadata.ChainId,e.secret),wr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,st.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,st.mergeMap)(i=>wr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Jt.accountRequestCallbackIds.size>0&&(Array.from(Jt.accountRequestCallbackIds.values()).forEach(s=>{const a=(0,Ct.Web3ResponseMessage)({id:s,response:(0,Pt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},a),{id:s}))}),Jt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,st.mergeMap)(i=>wr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,st.timeout)(1e3),(0,st.catchError)(e=>(0,Qr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(yt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const a=_r.Session.load(this.storage);if(a?.id===this._session.id?this.storage.clear():a&&((i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:_r.Session.hash(a.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Qr.Subscription;const{session:o,ui:c,connection:h}=this.subscribe();this._session=o,this.connection=h,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:dt.Web3Method.signEthereumMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:dt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),signature:(0,Qe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:dt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:dt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:dt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Qe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:dt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Qe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:dt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Qe.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,a),r?.()};return{promise:new Promise((a,o)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return o(new Error(c.errorMessage));a(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,uC.Web3RequestMessage)({id:e,request:r}),s=_r.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(yt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?_r.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:a=>{var o;(o=this.diagnostic)===null||o===void 0||o.log(yt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?_r.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:a=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:a.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,aC.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Qr.Observable(s=>{wr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(a=>{s.next(a),s.complete()})}).pipe((0,st.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Qr.from)(wr.decrypt(e.data,this.session.secret)).pipe((0,st.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ct.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Pt.isRequestEthereumAccountsResponse)(n)){Jt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Jt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const a=(s=n?.message)!==null&&s!==void 0?s:(0,Dn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:a,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:dt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Qe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,a)=>{var o;this.relayEventManager.callbacks.set(r,h=>{if(this.ui.hideRequestEthereumAccounts(),h.errorMessage)return a(new Error(h.errorMessage));s(h)});const c=((o=window?.navigator)===null||o===void 0?void 0:o.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let h;try{(0,Qe.isInIFrame)()&&window.top?h=window.top.location:h=window.location}catch{h=window.location}h.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(h.href)}`;return}if(this.ui.inlineAccountsResponse()){const h=g=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:r,response:(0,Pt.RequestEthereumAccountsResponse)(g)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:h})}else{const h=Dn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(h)})}Jt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:dt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Qe.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,a)},s=new Promise((a,o)=>{this.relayEventManager.callbacks.set(n,g=>{if(g.errorMessage)return o(new Error(g.errorMessage));a(g)});const c=g=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:n,response:(0,Pt.SelectProviderResponse)(oC.ProviderType.Unselected)}))},h=g=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:n,response:(0,Pt.SelectProviderResponse)(g)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:h,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,a){const o={method:dt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:a}};let c=null;const h=(0,Qe.randomBytesHex)(8),g=v=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,o.method,v),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload}));const y=new Promise((v,E)=>{this.relayEventManager.callbacks.set(h,W=>{if(c?.(),W.errorMessage)return E(new Error(W.errorMessage));v(W)});const P=W=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:h,response:(0,Pt.WatchAssetReponse)(!1)}))},F=()=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:h,response:(0,Pt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:F,onCancel:P,type:e,address:r,symbol:n,decimals:i,image:s,chainId:a}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,o)});return{cancel:g,promise:y}}addEthereumChain(e,r,n,i,s,a){const o={method:dt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:a}};let c=null;const h=(0,Qe.randomBytesHex)(8),g=v=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,o.method,v),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload})),{promise:new Promise((v,E)=>{this.relayEventManager.callbacks.set(h,W=>{if(c?.(),W.errorMessage)return E(new Error(W.errorMessage));v(W)});const P=W=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:h,response:(0,Pt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},F=W=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:h,response:(0,Pt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:W})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:P,onApprove:F,chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(h,o)}),cancel:g}}switchEthereumChain(e,r){const n={method:dt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Qe.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,o)};return{promise:new Promise((o,c)=>{this.relayEventManager.callbacks.set(i,y=>{if((0,Pt.isErrorResponse)(y)&&y.errorCode)return c(Dn.standardErrors.provider.custom({code:y.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(y.errorMessage)return c(new Error(y.errorMessage));o(y)});const h=y=>{var v;if(y){const E=(v=(0,Dn.getErrorCode)(y))!==null&&v!==void 0?v:Dn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,dt.Web3Method.switchEthereumChain,y instanceof Error?y:Dn.standardErrors.provider.unsupportedChain(e),E)}else this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:i,response:(0,Pt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},g=y=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:i,response:(0,Pt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.switchEthereumChain({onCancel:h,onApprove:g,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return _r.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ct.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case dt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case dt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case dt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case dt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Jt.accountRequestCallbackIds=new Set;m0([w0.default],Jt.prototype,"resetAndReload",null);m0([w0.default],Jt.prototype,"handleIncomingEvent",null);jo.WalletSDKRelay=Jt;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.WalletSDKRelayEventManager=void 0;const cC=ie;class lC{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,cC.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Zo.WalletSDKRelayEventManager=lC;const fC="@coinbase/wallet-sdk",hC="3.7.1",dC="Coinbase Wallet JavaScript SDK",pC=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],gC="dist/index.js",bC="dist/index.d.ts",vC="https://github.com/coinbase/coinbase-wallet-sdk.git",yC="Coinbase, Inc.",mC="Apache-2.0",wC={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},_C={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},EC={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},SC={node:">= 10.0.0"},xC={name:fC,version:hC,description:dC,keywords:pC,main:gC,types:bC,repository:vC,author:yC,license:mC,scripts:wC,dependencies:_C,devDependencies:EC,engines:SC};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.CoinbaseWalletSDK=void 0;const MC=Gs,CC=Js,RC=Zn,IC=xo,AC=jo,kC=Zo,TC=ie,NC={}.LINK_API_URL||"https://www.walletlink.org",_0={}.SDK_VERSION||xC.version||"unknown";class Qo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||NC;let a;if(e.uiConstructor?a=e.uiConstructor:a=h=>new IC.WalletSDKUI(h),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(s),c=`${o.protocol}//${o.host}`;this._storage=new CC.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Qo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new kC.WalletSDKRelayEventManager,this._relay=new AC.WalletSDKRelay({linkAPIUrl:s,version:_0,darkMode:!!e.darkMode,uiConstructor:a,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new RC.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,TC.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,MC.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Oi.CoinbaseWalletSDK=Qo;Qo.VERSION=_0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Oi,r=Zn;var n=Oi;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Zn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(du);const OC=M0(du),DC=I0({__proto__:null,default:OC},[du]);export{DC as i};
